<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Join My Camp - Kiwiburn</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      scroll-behavior: smooth;
      background: linear-gradient(180deg, #f4e4bc 0%, #d9b99b 100%);
      color: #2b1b0f;
    }

    nav {
      position: sticky;
      top: 0;
      background: rgba(44, 29, 15, 0.85);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      z-index: 1000;
      border-bottom: 2px solid #e67e22;
    }

    .nav-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    nav a {
      color: #f8e1b4;
      text-decoration: none;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2rem;
      margin: 5px 15px;
      padding: 10px 15px;
      border-radius: 4px;
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
      text-transform: uppercase;
    }

    nav a:hover {
      background-color: #e67e22;
      color: #2b1b0f;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .hamburger {
      display: none;
      font-size: 1.5rem;
      color: #f8e1b4;
      background: none;
      border: none;
      cursor: pointer;
      padding: 10px;
    }

    .login-container {
      display: flex;
      justify-content: flex-end;
      padding: 10px 20px;
      background: rgba(44, 29, 15, 0.85);
      border-bottom: 1px solid #e67e22;
      z-index: 999;
    }

    .login-container form {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .login-container input {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #e67e22;
      background: rgba(255, 255, 255, 0.1);
      color: #ffffff;
      font-size: 0.9rem;
    }

    .login-container input::placeholder {
      color: #ffffff;
    }

    .login-container button {
      padding: 8px 12px;
      background-color: #e67e22;
      color: #ffffff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 0.9rem;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .login-container button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .login-container .logout-button {
      display: none;
    }

    .header {
      background: url('images/coverphoto.png') center/cover no-repeat;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #f8e1b4;
      position: relative;
      text-shadow: 3px 3px 12px rgba(0, 0, 0, 0.8);
    }

    .header h1 {
      font-family: 'Bebas Neue', cursive;
      font-size: 5em;
      max-width: 90%;
      letter-spacing: 2px;
      animation: glow 3s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px #e67e22, 0 0 20px #e67e22, 0 0 30px #d35400; }
      to { text-shadow: 0 0 20px #f39c12, 0 0 30px #f39c12, 0 0 40px #e67e22; }
    }

    .scroll-down {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      animation: bounce 2s infinite;
      color: #f8e1b4;
      transition: box-shadow 0.3s;
    }

    .scroll-down:hover {
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translate(-50%, 0); }
      40% { transform: translate(-50%, -10px); }
      60% { transform: translate(-50%, -5px); }
    }

    .section {
      padding: 80px 20px;
      text-align: center;
      background: url('images/dusty-texture.png') center/cover;
      border-top: 1px solid #e67e22;
      border-bottom: 1px solid #e67e22;
    }

    .section:nth-of-type(odd) {
      background-color: rgba(244, 228, 188, 0.8);
    }

    .section:nth-of-type(even) {
      background-color: rgba(217, 185, 155, 0.8);
    }

    .section h1, .section h2 {
      font-family: 'Bebas Neue', cursive;
      font-size: 3em;
      margin-bottom: 20px;
      color: #2b1b0f;
      letter-spacing: 1px;
    }

    .section p {
      font-size: 1.1em;
      max-width: 800px;
      margin: 0 auto 30px auto;
      line-height: 1.6;
      color: #2b1b0f;
    }

    ul {
      list-style: none;
      padding: 0;
      font-size: 1.1em;
    }

    li {
      margin: 10px 0;
    }

    .gallery, .about-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      max-width: 1000px;
      margin: 0 auto;
      padding-top: 20px;
    }

    .gallery img, .about-gallery img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 2px solid #e67e22;
      position: relative;
    }

    .gallery img:hover, .about-gallery img:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 15px rgba(230, 126, 34, 0.5), 0 0 15px #e67e22, 0 0 25px #f39c12;
    }

    .gallery .photo-container, .about-gallery .photo-container {
      position: relative;
    }

    .gallery .delete-photo, .about-gallery .delete-photo {
      display: none;
      position: absolute;
      top: 5px;
      right: 5px;
      background: rgba(44, 29, 15, 0.7);
      color: #f8e1b4;
      border: none;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 0.9em;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
    }

    .logged-in .gallery .delete-photo, .logged-in .about-gallery .delete-photo {
      display: block;
    }

    .gallery .delete-photo:hover, .about-gallery .delete-photo:hover {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .members-grid, .roles-grid, .events-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 40px auto 0 auto;
      justify-items: center;
      align-items: start;
      position: relative;
      min-height: 200px;
    }

    .scroll-arrow {
      display: none;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: #f8e1b4;
      background: rgba(44, 29, 15, 0.7);
      padding: 10px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      transition: background 0.3s, box-shadow 0.3s;
      animation: flash 1.5s infinite;
    }

    @keyframes flash {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .scroll-arrow:hover {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .scroll-arrow.left {
      left: 10px;
    }

    .scroll-arrow.right {
      right: 10px;
    }

    .member, .role, .event {
      text-align: center;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border: 1px solid #e67e22;
      box-sizing: border-box;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
    }

    .member:hover, .role:hover, .event:hover {
      box-shadow: 0 6px 12px rgba(230, 126, 34, 0.5), 0 0 15px #e67e22, 0 0 25px #f39c12;
      transform: translateY(-5px);
    }

    .member img, .role img {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      margin-bottom: 10px;
      border: 3px solid #f39c12;
    }

    .role img {
      width: 60px;
      height: 60px;
      border-radius: 8px;
    }

    .event img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 15px;
      border: 2px solid #f39c12;
    }

    .member.camp-lead, .member.deputy-lead {
      position: relative;
    }

    .member.camp-lead::before {
      content: '👑';
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      color: #FFD700;
      z-index: 10;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .member.deputy-lead::before {
      content: '👑';
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      color: #C0C0C0;
      z-index: 10;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .member h3, .role h3, .event h3 {
      margin: 10px 0 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.5em;
      color: #000000;
      line-height: 1.2;
    }

    .member span {
      font-weight: bold;
      color: #e67e22;
      display: block;
      font-size: 1.2em;
      margin-bottom: 5px;
      line-height: 1.3;
    }

    .member p, .role p, .event p {
      font-size: 1em;
      color: #000000;
      margin: 5px 0;
      line-height: 1.4;
      max-width: 90%;
    }

    .event p.event-date, .event p.event-time, .event p.event-end, .event p.event-type {
      font-size: 0.95em;
      color: #2b1b0f;
      margin: 5px 0;
      line-height: 1.4;
      max-width: 90%;
    }

    .event p.event-date strong, .event p.event-time strong, .event p.event-end strong, .event p.event-type strong {
      color: #e67e22;
    }

    .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button, .role .edit-button {
      display: none;
      position: absolute;
      top: 5px;
      right: 5px;
      background: rgba(44, 29, 15, 0.7);
      color: #f8e1b4;
      border: none;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 0.9em;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
    }

    .event .edit-button {
      right: 35px;
    }

    .role .edit-button {
      right: 35px;
    }

    .member .delete-button:hover, .role .delete-button:hover, .event .edit-button:hover, .event .delete-button:hover, .role .edit-button:hover {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .logged-in .member .delete-button, .logged-in .role .delete-button, .logged-in .event .edit-button, .logged-in .event .delete-button, .logged-in .role .edit-button {
      display: block;
    }

    .role .apply-button {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 12px;
      background-color: #e67e22;
      color: #2b1b0f;
      text-decoration: none;
      border-radius: 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 0.9em;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .role .apply-button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .role .tooltip {
      visibility: hidden;
      width: 180px;
      background-color: #000000;
      color: #ffffff; /* Changed to white for readability */
      text-align: center;
      border-radius: 8px;
      padding: 12px;
      position: absolute;
      z-index: 10;
      top: -10px;
      left: 50%;
      transform: translate(-50%, -100%);
      opacity: 0;
      transition: opacity 0.3s, transform 0.3s;
      font-size: 0.9em;
      font-family: 'Montserrat', sans-serif;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      border: 2px solid #f39c12;
    }

    .role .tooltip img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 2px solid #f39c12;
    }

    .role .tooltip span {
      font-weight: bold;
      font-size: 1em;
      color: #ffffff; /* Ensure span text is also white */
    }

    .role:hover .tooltip {
      visibility: visible;
      opacity: 1;
      transform: translate(-50%, -110%);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border-radius: 10px;
      max-width: 400px;
      width: 90%;
      text-align: center;
      border: 2px solid #e67e22;
      position: relative;
    }

    .modal-content h3 {
      font-family: 'Bebas Neue', cursive;
      color: #2b1b0f;
      margin-bottom: 20px;
    }

    .modal-content input, .modal-content textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid #e67e22;
      background: rgba(255, 255, 255, 0.1);
      color: #2b1b0f;
    }

    .modal-content input[type="file"] {
      background: none;
      border: none;
      padding: 5px;
    }

    .modal-content button {
      padding: 10px 20px;
      background-color: #e67e22;
      color: #2b1b0f;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1em;
      transition: background-color 0.3s, box-shadow 0.3s;
      margin: 0 10px;
    }

    .modal-content button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .modal-content .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      font-size: 1.2em;
      padding: 5px 10px;
    }

    .events-grid {
      grid-template-columns: repeat(4, 1fr);
      gap: 30px;
    }

    .countaffold {
      font-family: 'Bebas Neue', cursive;
      font-size: 2em;
      font-weight: bold;
      color: #f8e1b4;
      margin-top: 20px;
    }

    footer {
      text-align: center;
      padding: 30px;
      background-color: #2b1b0f;
      color: #f8e1b4;
      border-top: 2px solid #e67e22;
    }

    .form-container {
      text-align: left;
      max-width: 500px;
      margin: 0 auto;
    }

    .form-container input,
    .form-container textarea,
    .form-container select {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid #e67e22;
      font-size: 1rem;
      box-sizing: border-box;
      background: rgba(255, 255, 255, 0.1);
      color: #2b1b0f;
    }

    .form-container button {
      padding: 12px 20px;
      background-color: #e67e22;
      color: #2b1b0f;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2em;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .form-container button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .contact-lead {
      padding: 40px 20px;
      background-color: #2b1b0f;
      color: #f8e1b4;
      text-align: center;
      border-top: 2px solid #e67e22;
      border-bottom: 2px solid #e67e22;
    }

    .contact-lead a {
      color: #f39c12;
      font-size: 1.2em;
      text-decoration: none;
      font-family: 'Bebas Neue', cursive;
      transition: box-shadow 0.3s;
    }

    .contact-lead a:hover {
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .submit-button {
      display: inline-block;
      padding: 12px 20px;
      background-color: #e67e22;
      color: #2b1b0f;
      text-decoration: none;
      border-radius: 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2em;
      transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
    }

    .submit-button:hover {
      background-color: #f39c12;
      color: #2b1b0f;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .about-container, .mission-container, .members-container, .gallery-container, .newsletter-container {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid #e67e22;
      border-radius: 10px;
      padding: 40px 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .section#submit {
      background-color: rgba(244, 228, 188, 0.8);
    }

    .submit-section {
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid #e67e22;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      margin: 40px auto 0 auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .newsletter-section {
      padding: 80px 20px;
      background-color: rgba(244, 228, 188, 0.8);
      text-align: center;
    }

    .newsletter-container .section {
      padding: 0;
    }

    .save-button, .upload-button {
      padding: 10px 20px;
      background-color: #e67e22;
      color: #2b1b0f;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1em;
      transition: background-color 0.3s, box-shadow 0.3s;
      margin: 20px auto;
      display: block;
    }

    .save-button:hover, .upload-button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    @media only screen and (max-width: 768px) {
      .hamburger {
        display: block;
      }

      nav {
        flex-direction: column;
        align-items: flex-start;
        padding: 10px;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background: rgba(44, 29, 15, 0.9);
        padding: 10px 0;
      }

      .nav-links.active {
        display: flex;
      }

      nav a {
        margin: 5px 0;
        font-size: 1rem;
        padding: 10px;
        text-align: center;
      }

      .login-container {
        padding: 10px;
      }

      .login-container form {
        flex-direction: column;
        gap: 5px;
      }

      .login-container input, .login-container button {
        font-size: 0.8rem;
        padding: 6px;
        width: 100%;
        box-sizing: border-box;
      }

      .header {
        height: 70vh;
      }

      .header h1 {
        font-size: 3em;
      }

      .scroll-down {
        font-size: 1.2rem;
      }

      .section {
        padding: 40px 15px;
      }

      .section h1, .section h2 {
        font-size: 2em;
      }

      .section p {
        font-size: 1em;
        max-width: 95%;
      }

      .gallery, .about-gallery {
        grid-template-columns: 1fr;
        gap: 15px;
        max-width: 95%;
      }

      .members-grid, .roles-grid {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        gap: 15px;
        max-width: 95%;
        padding: 0 10px;
        scroll-snap-type: x mandatory;
      }

      .members-grid .scroll-arrow, .roles-grid .scroll-arrow {
        display: block;
      }

      .member, .role {
        flex: 0 0 140px;
        scroll-snap-align: start;
        min-height: 240px;
        padding: 10px;
      }

      .member img, .role img {
        width: 80px;
        height: 80px;
      }

      .member.camp-lead::before, .member.deputy-lead::before {
        font-size: 1.2rem;
        top: -15px;
      }

      .role img {
        width: 50px;
        height: 50px;
        padding: 6px;
      }

      .member h3, .role h3 {
        font-size: 1.3em;
      }

      .member span {
        font-size: 1.1em;
      }

      .member p, .role p {
        font-size: 0.9em;
      }

      .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button, .role .edit-button {
        width: 20px;
        height: 20px;
        font-size: 0.8em;
      }

      .event .edit-button {
        right: 30px;
      }

      .role .edit-button {
        right: 30px;
      }

      .role .tooltip {
        width: 140px;
        font-size: 0.85em;
      }

      .role .tooltip img {
        width: 60px;
        height: 60px;
      }

      .role .apply-button {
        font-size: 0.8em;
        padding: 6px 10px;
      }

      .events-grid {
        grid-template-columns: 1fr;
        gap: 20px;
        max-width: 95%;
      }

      .event img {
        height: 150px;
      }

      .event h3 {
        font-size: 1.4em;
      }

      .event p {
        font-size: 0.95em;
      }

      .countdown {
        font-size: 1.5em;
      }

      .form-container {
        max-width: 95%;
      }

      .submit-section, .newsletter-container {
        max-width: 95%;
        padding: 15px;
      }

      .submit-button {
        font-size: 1em;
        padding: 10px 15px;
      }

      .contact-lead {
        padding: 30px 15px;
      }

      .contact-lead a {
        font-size: 1em;
      }

      .about-container, .mission-container, .members-container, .gallery-container, .newsletter-container {
        max-width: 95%;
        padding: 20px 15px;
      }
    }

    @media only screen and (max-width: 480px) {
      .header h1 {
        font-size: 2.2em;
      }

      .section h1, .section h2 {
        font-size: 1.6em;
      }

      .section p {
        font-size: 0.9em;
      }

      .members-grid, .roles-grid {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        gap: 10px;
        padding: 0 5px;
        scroll-snap-type: x mandatory;
      }

      .member, .role {
        flex: 0 0 120px;
        scroll-snap-align: start;
        min-height: 200px;
        padding: 8px;
      }

      .member img, .role img {
        width: 60px;
        height: 60px;
      }

      .member h3, .role h3 {
        font-size: 1.1em;
      }

      .member span {
        font-size: 1em;
      }

      .member p, .role p {
        font-size: 0.85em;
      }

      .member.camp-lead::before, .member.deputy-lead::before {
        font-size: 1rem;
        top: -12px;
      }

      .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button, .role .edit-button {
        width: 18px;
        height: 18px;
        font-size: 0.7em;
      }

      .event .edit-button {
        right: 25px;
      }

      .role .edit-button {
        right: 25px;
      }

      .role img {
        width: 45px;
        height: 45px;
        padding: 5px;
      }

      .role .tooltip {
        width: 120px;
        font-size: 0.8em;
        padding: 8px;
      }

      .role .tooltip img {
        width: 50px;
        height: 50px;
      }

      .role .apply-button {
        font-size: 0.7em;
        padding: 5px 8px;
      }

      .countdown {
        font-size: 1.2em;
      }

      .newsletter-container h2 {
        font-size: 1.5em;
      }

      .newsletter-container p {
        font-size: 0.9em;
      }

      .event img {
        height: 120px;
      }

      .hamburger {
        font-size: 1.2rem;
      }

      .login-container input, .login-container button {
        font-size: 0.7em;
        padding: 5px;
      }
    }
  </style>
</head>
<body>
  <nav>
    <button class="hamburger" aria-label="Toggle menu">☰</button>
    <div class="nav-links">
      <a href="#about">About</a>
      <a href="#mission">Mission</a>
      <a href="#members">Members</a>
      <a href="#events">Events</a>
      <a href="#submit">Submit Event</a>
      <a href="#newsletter">Newsletter</a>
      <a href="#gallery">Gallery</a>
    </div>
  </nav>

  <div class="login-container">
    <form id="login-form">
      <input type="text" id="username" placeholder="Username" required>
      <input type="password" id="password" placeholder="Password" required>
      <button type="submit">Login</button>
    </form>
    <button class="logout-button">Logout</button>
  </div>

  <header class="header">
    <h1>Join Our Kiwiburn</h1>
    <a href="#about" class="scroll-down">▼</a>
  </header>

  <div class="modal" id="member-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeModal()">×</button>
      <h3>Add Member Details</h3>
      <input type="text" id="member-name" placeholder="Member Name" required>
      <input type="text" id="member-photo" placeholder="Photo URL" required>
      <button onclick="saveMemberDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="role-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeRoleModal()">×</button>
      <h3 id="role-modal-title">Create New Role</h3>
      <input type="text" id="role-title" placeholder="Role Title" required>
      <textarea id="role-description" placeholder="Role Description" required></textarea>
      <input type="file" id="role-icon" accept="image/*">
      <button onclick="saveRoleDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="event-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeEventModal()">×</button>
      <h3>Edit Event</h3>
      <input type="text" id="event-title" placeholder="Event Title" required>
      <textarea id="event-description" placeholder="Event Description" required></textarea>
      <input type="date" id="event-date" required>
      <input type="time" id="event-time" required>
      <input type="datetime-local" id="event-end" required>
      <select id="event-type" required>
        <option value="" disabled selected>Select Event Type</option>
        <option value="Party">Party</option>
        <option value="Workshop">Workshop</option>
        <option value="Performance">Performance</option>
        <option value="Art Installation">Art Installation</option>
      </select>
      <input type="file" id="event-image" accept="image/*">
      <button onclick="saveEventDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="photo-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closePhotoModal()">×</button>
      <h3>Upload Photo</h3>
      <input type="file" id="photo-upload" accept="image/*" required>
      <input type="text" id="photo-alt" placeholder="Photo Description" required>
      <button onclick="savePhotoDetails()">Save</button>
    </div>
  </div>

  <div class="about-container">
    <section class="section" id="about">
      <h1>About Our Camp</h1>
      <p>Join the Rejex... Cosmic Rejex is a welcoming home for emos, rockers, and bass-heads—a safe, inclusive space to connect, unwind, and be yourself. We’re all about good tunes, strange art, deep chats, and the occasional wild conspiracy theory. As a sound camp, you can expect emo anthems, raw rock, and rolling drum and bass, all wrapped in a laid-back, friendly atmosphere. Whether you’re here to dance, chill, or just vibe out, you’re always welcome.</p>
      <div class="about-gallery" ondragover="allowDrop(event)" ondrop="dropPhoto(event, 'about-gallery')">
        <div class="photo-container" draggable="true" ondragstart="dragPhoto(event)">
          <img src="images/Campphoto1.jpg" alt="Camp Mates">
          <button class="delete-photo" onclick="deletePhoto(this, 'about-gallery')">×</button>
        </div>
        <div class="photo-container" draggable="true" ondragstart="dragPhoto(event)">
          <img src="images/Campphoto15.png" alt="Camp Mates">
          <button class="delete-photo" onclick="deletePhoto(this, 'about-gallery')">×</button>
        </div>
        <div class="photo-container" draggable="true" ondragstart="dragPhoto(event)">
          <img src="images/Campphoto17.png" alt="Night Lights">
          <button class="delete-photo" onclick="deletePhoto(this, 'about-gallery')">×</button>
        </div>
      </div>
      <button class="upload-button" onclick="openPhotoModal('about-gallery')" style="display: none;">Upload Photo</button>
    </section>
  </div>

  <div class="mission-container">
    <section class="section" id="mission">
      <h1>Our Mission</h1>
      <p>We exist to bring together creative humans who defy the norm, support each other, and build unforgettable moments at Kiwiburn.</p>
    </section>
  </div>

  <div class="members-container">
    <section class="section" id="members">
      <h1>Meet Our Core Camp Crew</h1>
      <div class="members-grid" ondragover="allowDrop(event)" ondrop="drop(event)">
        <div class="scroll-arrow left">◄</div>
        <div class="scroll-arrow right">►</div>
        <div class="member camp-lead" draggable="true" ondragstart="drag(event)">
          <img src="images/ShanonRichards.jpg" alt="Shanon Richards">
          <h3>Shanon Richards</h3>
          <span>Camp Lead</span>
          <p>Oversees planning, forms, and execution. Manages policies, resources, and conflict resolution tasks.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member deputy-lead" draggable="true" ondragstart="drag(event)">
          <img src="images/MeganR.jpg" alt="Meghan">
          <h3>Meghan Robson</h3>
          <span>Deputy Lead</span>
          <p>Supports Camp Lead, tracks tasks, timelines, and fills gaps. Ensures smooth operations flow daily.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/RussellDuffield.jpg" alt="Russell">
          <h3>Russell Duffield</h3>
          <span>Build Lead</span>
          <p>Leads camp setup, structures, and layout. Manages build crew, tools, and safety protocols well.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Star Dust Bambi.jpg" alt="Star">
          <h3>Star Dust Bambi</h3>
          <span>Vibe Manager</span>
          <p>Creates safe spaces and emotional support. Fosters connection, inclusion, and belonging always.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/michealdunstan.jpg" alt="Micheal">
          <h3>Micheal Dunstan</h3>
          <span>Logistics Lead</span>
          <p>Tracks gear, camp assets, and purchasing. Coordinates transport and supplies with efficiency.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tomasshelby.jpg" alt="Tomas">
          <h3>Tomas Shelby</h3>
          <span>Sound Lead</span>
          <p>Manages camp music, DJs, and audio gear. Ensures the sound setup runs smoothly all the time.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/jarrodskiffington.jpg" alt="Jarrod">
          <h3>Jarrod Skiffington</h3>
          <span>Transport Lead</span>
          <p>Organizes and manages the transport of camp gear, ensuring safe delivery to and from Kiwiburn.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/alana.jpg" alt="Alana">
          <h3>Alana Stewart</h3>
          <span>Kitchen Lead</span>
          <p>Plans shared meals and food storage. Oversees cooking, cleaning, and food rosters effectively.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tylerrowe.jpg" alt="Tyler">
          <h3>Tyler Rowe</h3>
          <span>Art & Workshop Lead</span>
          <p>Manages camp art and workshops. Supports artists, event hosts, and creative materials fully.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Imogen.jpg" alt="Imogen">
          <h3>Imogen Olivia</h3>
          <span>Wellbeing Officer</span>
          <p>Checks mental health and group dynamics. Provides active listening and support consistently.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/sarsha.jpg" alt="Sarsha">
          <h3>Sarsha Skiffington</h3>
          <span>Greeter</span>
          <p>Welcomes arrivals, gives orientations, and helps everyone feel at home—all wrapped in a cozy, laid-back vibe.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Gartah.jpg" alt="Gartah">
          <h3>Gartah</h3>
          <span>Strike Lead</span>
          <p>Organizes pack-down, cleanup, and Leave No Trace. Ensures gear is sorted and returned well.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/jackie.jpg" alt="Jackie">
          <h3>Jackie Church</h3>
          <span>Comms Lead</span>
          <p>Sends key info, updates, and reminders. Keeps everyone connected and informed consistently.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/olivia.jpg" alt="Olivia">
          <h3>Olivia Derewlany</h3>
          <span>Safety Officer</span>
          <p>Ensures camp safety, fire protocols, and first-aid basics. Supports emergency readiness well.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/wenyi.jpg" alt="Wenyi">
          <h3>Wenyi Huang</h3>
          <span>MOOP Manager</span>
          <p>Leads Leave No Trace systems and cleanup. Educates campmates and tracks waste effectively.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tina.jpg" alt="Tina">
          <h3>Tina Lein</h3>
          <span>Power/Tech Lead</span>
          <p>Manages power, lighting, and tech systems. Handles setup, maintenance, and issues promptly.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
      </div>

      <h2>Roles to Be Filled</h2>
      <p>Join our Minnesotan style—hover over each role to learn more about the responsibilities and expectations.</p>
      <div class="roles-grid" ondragover="allowDrop(event)" ondrop="drop(event)">
        <div class="scroll-arrow left">◄</div>
        <div class="scroll-arrow right">►</div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/trial.png" alt="Logistics & Build Lead Icon">
          <h3>Logistics & Build Lead</h3>
          <a href="join-camp.html?role=Logistics%20%26%20Build%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Plans camp layout, manages ride shares, carpools, and essential gear.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/volunteer-coordinator.png" alt="Volunteer Coordinator Icon">
          <h3>Volunteer Coordinator</h3>
          <a href="join-camp.html?role=Volunteer%20Coordinator" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Assigns & tracks camp duties (kitchen, cleanup), ensuring fair participation.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/build-crew.png" alt="Build Crew Icon">
          <h3>Build Crew</h3>
          <a href="join-camp.html?role=Build%20Crew" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Builds shade, tents, and layout. Manages power, water, and camp infrastructure.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/sound-lights-lead.png" alt="Sound & Lights Lead Icon">
          <h3>Sound & Lights Lead</h3>
          <a href="join-camp.html?role=Sound%20%26%20Lights%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Oversees DJ schedules, lighting, sound compliance, and power systems.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/kitchen-lead.png" alt="Kitchen Lead Icon">
          <h3>Kitchen Lead</h3>
          <a href="join-camp.html?role=Kitchen%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Plans meals, organizes shifts, maintains food storage & kitchen cleanliness.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/safety-medical-lead.png" alt="Safety & Medical Lead Icon">
          <h3>Safety & Medical Lead</h3>
          <a href="join-camp.html?role=Safety%20%26%20Medical%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Stocks first aid, provides harm reduction & emergency support.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/fire-rangers-lead.png" alt="Fire & Rangers Lead Icon">
          <h3>Fire & Rangers Lead</h3>
          <a href="join-camp.html?role=Fire%20%26%20Rangers%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Manages fire safety, emergency exits & coordinates with Rangers.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/art-decor-lead.png" alt="Art & Decor Lead Icon">
          <h3>Art & Decor Lead</h3>
          <a href="join-camp.html?role=Art%20%26%20Decor%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Oversees decor, signs, and interactive art.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/event-theme-night-lead.png" alt="Event & Theme Night Lead Icon">
          <h3>Event & Theme Night Lead</h3>
          <a href="join-camp.html?role=Event%20%26%20Theme%20Night%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Plans events, workshops, performances & group photos.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" onclick="openRoleModal()">
          <img src="images/icons/add-role.png" alt="Add New Role Icon">
          <h3>Add New Role</h3>
          <p>Create a new role for the camp.</p>
        </div>
      </div>

      <button class="save-button" onclick="saveChanges()" style="display: none;">Save Changes</button>
    </section>

    <section class="section submit-section" id="join">
      <h2>Request to Join</h2>
      <p>Want to join our amazing community? Click below to submit your request!</p>
      <a href="join-camp.html" class="submit-button">Click Here</a>
    </section>
  </div>

  <div class="events-container">
    <section class="section" id="events">
      <h1>Past Events</h1>
      <p>From silent discos to communal art builds, here’s a taste of what we’ve created together.</p>
      <div class="events-grid">
        <div class="event">
          <img src="images/Eventposter.jpg" alt="Emo Night Poster">
          <h3>Emo Night: "It's not a phase mom! It's a tribute!"</h3>
          <p>Emo night is back! Join us for a tribute to RAT camp as we revive the tears, emo vibes, and your teenage passion! Find a dark corner, sip on our emo-inspired drinks, and get your makeup done just right! Plus more!</p>
          <p class="event-date"><strong>Date:</strong> January 28, 2025</p>
          <p class="event-time"><strong>Time:</strong> 8:00 PM</p>
          <p class="event-end"><strong>End Date & Time:</strong> January 29, 2025, 2:00 AM</p>
          <p class="event-type"><strong>Type:</strong> Party</p>
          <button class="edit-button" onclick="openEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        </div>
        <div class="event">
          <img src="images/Pole.jpg" alt="Pole in the paddock Poster">
          <h3>Pole in the paddock</h3>
          <p>Join us for an exciting pole performance showcasing strength, grace, and creativity. Watch as some amazing humans twist, flip, and move in ways that'll leave you in awe. It’s going to be fun, fierce, and full of Kiwiburn energy – don’t miss it!</p>
          <p class="event-date"><strong>Date:</strong> January 29, 2025</p>
          <p class="event-time"><strong>Time:</strong> 6:00 PM</p>
          <p class="event-end"><strong>End Date & Time:</strong> January 29, 2025, 8:00 PM</p>
          <p class="event-type"><strong>Type:</strong> Performance</p>
          <button class="edit-button" onclick="openEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        </div>
        <div class="event">
          <img src="images/cosmicconnections.jpg" alt="Cosmic Connections Poster">
          <h3>Cosmic Connections</h3>
          <p>Ever feel like the sky is watching you? Join us as we share stories of extraterrestrial encounters, where skeptics become seekers and believers find their tribe. This is a space to explore the unknown—and even learn tools for making contact yourself. Bring an open mind and heart!</p>
          <p class="event-date"><strong>Date:</strong> January 30, 2025</p>
          <p class="event-time"><strong>Time:</strong> 7:00 PM</p>
          <p class="event-end"><strong>End Date & Time:</strong> January 30, 2025, 10:00 PM</p>
          <p class="event-type"><strong>Type:</strong> Workshop</p>
          <button class="edit-button" onclick="openEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        </div>
        <div class="event">
          <img src="images/opendeck.jpg" alt="DJ Showcase & Open Decks Poster">
          <h3>DJ Showcase & Open Decks</h3>
          <p>An open-deck party featuring local DJs and campers spinning tracks, with colorful lights and a dance floor that kept the energy high all night.</p>
          <p class="event-date"><strong>Date:</strong> January 31, 2025</p>
          <p class="event-time"><strong>Time:</strong> 9:00 PM</p>
          <p class="event-end"><strong>End Date & Time:</strong> February 1, 2025, 3:00 AM</p>
          <p class="event-type"><strong>Type:</strong> Party</p>
          <button class="edit-button" onclick="openEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        </div>
      </div>
    </section>

    <section class="section submit-section" id="submit">
      <h1>Submit Your Event</h1>
      <p>Got an idea for an amazing event? Click below to submit your proposal!</p>
      <a href="submit-event.html" class="submit-button">Click Here</a>
    </section>
  </div>

  <div class="newsletter-container">
    <section class="section" id="newsletter">
      <h2>Updates & Newsletter</h2>
      <p>Stay in the loop with the latest camp news, application updates, and camp fee information!</p>
      <a href="newsletter.html" class="submit-button">Read Our Newsletter</a>
    </section>
  </div>

  <div class="gallery-container">
    <section class="section" id="gallery">
      <h1>Camp Gallery</h1>
      <div class="gallery" ondragover="allowDrop(event)" ondrop="dropPhoto(event, 'gallery')">
        <div class="photo-container" draggable="true" ondragstart="dragPhoto(event)">
          <img src="images/photo1.jpg" alt="Gallery Image 1">
          <button class="delete-photo" onclick="deletePhoto(this, 'gallery')">×</button>
        </div>
        <div class="photo-container" draggable="true" ondragstart="dragPhoto(event)">
          <img src="images/photo2.jpg" alt="Gallery Image 2">
          <button class="delete-photo" onclick="deletePhoto(this, 'gallery')">×</button>
        </div>
        <div class="photo-container" draggable="true" ondragstart="dragPhoto(event)">
          <img src="images/photo3.jpg" alt="Gallery Image 3">
          <button class="delete-photo" onclick="deletePhoto(this, 'gallery')">×</button>
        </div>
      </div>
      <button class="upload-button" onclick="openPhotoModal('gallery')" style="display: none;">Upload Photo</button>
    </section>
  </div>

  <section class="contact-lead">
    <h2>Need to reach out?</h2>
    <p>Message the Camp Lead on Facebook:</p>
    <a href="https://www.facebook.com/shanonrichards" target="_blank">facebook.com/shanonrichards</a>
  </section>

  <footer class="footer">
    <p>© 2025 Kiwiburn Camp</p>
    <div class="countdown" id="countdown"></div>
  </footer>

  <script>
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');
    const loginForm = document.querySelector('#login-form');
    const logoutButton = document.querySelector('.logout-button');
    const membersGrid = document.querySelector('.members-grid');
    const rolesGrid = document.querySelector('.roles-grid');
    const eventsGrid = document.querySelector('.events-grid');
    const aboutGallery = document.querySelector('.about-gallery');
    const gallery = document.querySelector('.gallery');
    const memberModal = document.querySelector('#member-modal');
    const roleModal = document.querySelector('#role-modal');
    const eventModal = document.querySelector('#event-modal');
    const photoModal = document.querySelector('#photo-modal');
    const saveButton = document.querySelector('.save-button');
    const uploadButtons = document.querySelectorAll('.upload-button');
    let draggedElement = null;
    let draggedPhoto = null;
    let isLoggedIn = false;

    // Load saved data on page load
    window.addEventListener('load', () => {
      const savedMembers = localStorage.getItem('membersGrid');
      const savedRoles = localStorage.getItem('rolesGrid');
      const savedEvents = localStorage.getItem('eventsGrid');
      const savedAboutGallery = localStorage.getItem('aboutGallery');
      const savedGallery = localStorage.getItem('gallery');
      if (savedMembers) {
        membersGrid.innerHTML = savedMembers;
        membersGrid.querySelectorAll('.scroll-arrow').forEach(arrow => {
          arrow.addEventListener('click', handleScroll);
        });
        membersGrid.querySelectorAll('.delete-button').forEach(button => {
          button.addEventListener('click', () => deleteMember(button));
        });
      }
      if (savedRoles) {
        rolesGrid.innerHTML = savedRoles;
        rolesGrid.querySelectorAll('.scroll-arrow').forEach(arrow => {
          arrow.addEventListener('click', handleScroll);
        });
        rolesGrid.querySelectorAll('.delete-button').forEach(button => {
          button.addEventListener('click', () => deleteRole(button));
        });
        rolesGrid.querySelectorAll('.edit-button').forEach(button => {
          button.addEventListener('click', () => openEditRoleModal(button));
        });
        const addRoleElement = rolesGrid.querySelector('.role[onclick="openRoleModal()"]');
        if (!addRoleElement) {
          const newRole = document.createElement('div');
          newRole.className = 'role';
          newRole.setAttribute('onclick', 'openRoleModal()');
          newRole.innerHTML = `
            <img src="images/icons/add-role.png" alt="Add New Role Icon">
            <h3>Add New Role</h3>
            <p>Create a new role for the camp.</p>
          `;
          rolesGrid.appendChild(newRole);
        }
      }
      if (savedEvents) {
        eventsGrid.innerHTML = savedEvents;
        eventsGrid.querySelectorAll('.edit-button').forEach(button => {
          button.addEventListener('click', () => openEventModal(button));
        });
        eventsGrid.querySelectorAll('.delete-button').forEach(button => {
          button.addEventListener('click', () => deleteEvent(button));
        });
      }
      if (savedAboutGallery) {
        aboutGallery.innerHTML = savedAboutGallery;
        aboutGallery.querySelectorAll('.delete-photo').forEach(button => {
          button.addEventListener('click', () => deletePhoto(button, 'about-gallery'));
        });
        aboutGallery.querySelectorAll('.photo-container').forEach(container => {
          container.setAttribute('draggable', isLoggedIn ? 'true' : 'false');
          container.addEventListener('dragstart', dragPhoto);
        });
      }
      if (savedGallery) {
        gallery.innerHTML = savedGallery;
        gallery.querySelectorAll('.delete-photo').forEach(button => {
          button.addEventListener('click', () => deletePhoto(button, 'gallery'));
        });
        gallery.querySelectorAll('.photo-container').forEach(container => {
          container.setAttribute('draggable', isLoggedIn ? 'true' : 'false');
          container.addEventListener('dragstart', dragPhoto);
        });
      }
      updateButtonVisibility();
    });

    hamburger.addEventListener('click', () => {
      navLinks.classList.toggle('active');
    });

    loginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const username = document.querySelector('#username').value;
      const password = document.querySelector('#password').value;
      if (username === 'shanon' && password === 'Audius1993!') {
        isLoggedIn = true;
        document.body.classList.add('logged-in');
        loginForm.style.display = 'none';
        logoutButton.style.display = 'block';
        saveButton.style.display = 'block';
        uploadButtons.forEach(button => button.style.display = 'block');
        membersGrid.classList.add('draggable');
        rolesGrid.classList.add('draggable');
        aboutGallery.classList.add('draggable');
        gallery.classList.add('draggable');
        document.querySelectorAll('.member, .role, .photo-container').forEach(item => {
          if (!item.getAttribute('onclick')) {
            item.setAttribute('draggable', 'true');
          }
        });
        updateButtonVisibility();
      } else {
        alert('Invalid credentials');
      }
    });

    logoutButton.addEventListener('click', () => {
      isLoggedIn = false;
      document.body.classList.remove('logged-in');
      loginForm.style.display = 'flex';
      logoutButton.style.display = 'none';
      saveButton.style.display = 'none';
      uploadButtons.forEach(button => button.style.display = 'none');
      membersGrid.classList.remove('draggable');
      rolesGrid.classList.remove('draggable');
      aboutGallery.classList.remove('draggable');
      gallery.classList.remove('draggable');
      document.querySelectorAll('.member, .role, .photo-container').forEach(item => {
        if (!item.getAttribute('onclick')) {
          item.setAttribute('draggable', 'false');
        }
      });
      updateButtonVisibility();
    });

    const countdown = document.getElementById('countdown');
    const targetDate = new Date('2025-01-27T12:00:00');

    function updateCountdown() {
      const now = new Date();
      const diff = targetDate - now;
      if (diff <= 0) {
        countdown.textContent = "Kiwiburn is happening now!";
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      countdown.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s until Kiwiburn!`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    function handleScroll() {
      const grid = this.parentElement;
      const isLeft = this.classList.contains('left');
      const scrollAmount = 150;
      grid.scrollBy({
        left: isLeft ? -scrollAmount : scrollAmount,
        behavior: 'smooth'
      });
    }

    document.querySelectorAll('.scroll-arrow').forEach(arrow => {
      arrow.addEventListener('click', handleScroll);
    });

    function drag(event) {
      if (!isLoggedIn) return;
      draggedElement = event.target.closest('.member, .role');
      event.dataTransfer.setData('text/plain', draggedElement.outerHTML);
    }

    function dragPhoto(event) {
      if (!isLoggedIn) return;
      draggedPhoto = event.target.closest('.photo-container');
      event.dataTransfer.setData('text/plain', draggedPhoto.outerHTML);
    }

    function allowDrop(event) {
      if (!isLoggedIn) return;
      event.preventDefault();
    }

    function drop(event) {
      if (!isLoggedIn) return;
      event.preventDefault();
      const target = event.target.closest('.member, .role');
      const grid = event.target.closest('.members-grid, .roles-grid');
      if (target && draggedElement !== target && !target.getAttribute('onclick')) {
        const temp = document.createElement('div');
        grid.insertBefore(temp, target);
        grid.insertBefore(draggedElement, temp);
        temp.remove();
      } else if (!target) {
        grid.appendChild(draggedElement);
      }
      draggedElement = null;
    }

    function dropPhoto(event, galleryType) {
      if (!isLoggedIn) return;
      event.preventDefault();
      const target = event.target.closest('.photo-container');
      const galleryElement = galleryType === 'about-gallery' ? aboutGallery : gallery;
      if (target && draggedPhoto !== target) {
        const temp = document.createElement('div');
        galleryElement.insertBefore(temp, target);
        galleryElement.insertBefore(draggedPhoto, temp);
        temp.remove();
      } else if (!target) {
        galleryElement.appendChild(draggedPhoto);
      }
      draggedPhoto = null;
      saveChanges();
    }

    function saveChanges() {
      if (!isLoggedIn) return;
      localStorage.setItem('membersGrid', membersGrid.innerHTML);
      localStorage.setItem('rolesGrid', rolesGrid.innerHTML);
      localStorage.setItem('eventsGrid', eventsGrid.innerHTML);
      localStorage.setItem('aboutGallery', aboutGallery.innerHTML);
      localStorage.setItem('gallery', gallery.innerHTML);
      alert('Changes saved!');
    }

    function openModal() {
      if (!isLoggedIn) return;
      memberModal.style.display = 'flex';
    }

    function closeModal() {
      memberModal.style.display = 'none';
      document.querySelector('#member-name').value = '';
      document.querySelector('#member-photo').value = '';
    }

    function saveMemberDetails() {
      if (!isLoggedIn) return;
      const name = document.querySelector('#member-name').value;
      const photo = document.querySelector('#member-photo').value;
      if (name && photo) {
        const newMember = document.createElement('div');
        newMember.className = 'member';
        newMember.draggable = true;
        newMember.ondragstart = drag;
        newMember.innerHTML = `
          <img src="${photo}" alt="${name}">
          <h3>${name}</h3>
         ありがMember</span>
          <p>New member of the camp.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        `;
        membersGrid.appendChild(newMember);
        closeModal();
        saveChanges();
      } else {
        alert('Please fill in all fields');
      }
    }

    function openRoleModal() {
      if (!isLoggedIn) return;
      document.querySelector('#role-modal-title').textContent = 'Create New Role';
      roleModal.style.display = 'flex';
      roleModal.dataset.mode = 'create';
    }

    function openEditRoleModal(button) {
      if (!isLoggedIn) return;
      const role = button.closest('.role');
      const title = role.querySelector('h3').textContent;
      const description = role.querySelector('.tooltip p').textContent;
      const iconSrc = role.querySelector('img').src;
      document.querySelector('#role-title').value = title;
      document.querySelector('#role-description').value = description;
      document.querySelector('#role-icon').value = '';
      document.querySelector('#role-modal-title').textContent = 'Edit Role';
      roleModal.style.display = 'flex';
      roleModal.dataset.mode = 'edit';
      roleModal.dataset.roleElement = role.outerHTML;
    }

function closeRoleModal() {
  roleModal.style.display = 'none';
  document.querySelector('#role-title').value = '';
  document.querySelector('#role-description').value = '';
  document.querySelector('#role-icon').value = '';
  delete roleModal.dataset.mode;
  delete roleModal.dataset.roleElement;
}

function saveRoleDetails() {
  if (!isLoggedIn) return;
  const title = document.querySelector('#role-title').value;
  const description = document.querySelector('#role-description').value;
  const iconInput = document.querySelector('#role-icon').files[0];
  const mode = roleModal.dataset.mode;

  if (title && description) {
    let iconSrc = 'images/icons/default-role.png'; // Default icon
    if (iconInput) {
      iconSrc = URL.createObjectURL(iconInput);
    } else if (mode === 'edit') {
      const oldRole = new DOMParser().parseFromString(roleModal.dataset.roleElement, 'text/html').querySelector('.role img');
      iconSrc = oldRole ? oldRole.src : iconSrc;
    }

    if (mode === 'edit') {
      const oldRoleHTML = roleModal.dataset.roleElement;
      const oldRoleElement = rolesGrid.querySelector(`[data-html="${encodeURIComponent(oldRoleHTML)}"]`) || Array.from(rolesGrid.children).find(el => el.outerHTML === oldRoleHTML);
      if (oldRoleElement) {
        oldRoleElement.innerHTML = `
          <img src="${iconSrc}" alt="${title} Icon">
          <h3>${title}</h3>
          <a href="join-camp.html?role=${encodeURIComponent(title)}" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>${description}</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        `;
      }
    } else {
      const newRole = document.createElement('div');
      newRole.className = 'role';
      newRole.draggable = true;
      newRole.ondragstart = drag;
      newRole.innerHTML = `
        <img src="${iconSrc}" alt="${title} Icon">
        <h3>${title}</h3>
        <a href="join-camp.html?role=${encodeURIComponent(title)}" class="apply-button">Apply for Role</a>
        <div class="tooltip">
          <p>${description}</p>
        </div>
        <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
        <button class="delete-button" onclick="deleteRole(this)">×</button>
      `;
      rolesGrid.insertBefore(newRole, rolesGrid.lastElementChild);
    }

    closeRoleModal();
    saveChanges();
  } else {
    alert('Please fill in all required fields');
  }
}

function deleteMember(button) {
  if (!isLoggedIn) return;
  if (confirm('Are you sure you want to delete this member?')) {
    button.closest('.member').remove();
    saveChanges();
  }
}

function deleteRole(button) {
  if (!isLoggedIn) return;
  if (confirm('Are you sure you want to delete this role?')) {
    button.closest('.role').remove();
    saveChanges();
  }
}

function openEventModal(button) {
  if (!isLoggedIn) return;
  const event = button.closest('.event');
  document.querySelector('#event-title').value = event.querySelector('h3').textContent;
  document.querySelector('#event-description').value = event.querySelector('p:not(.event-date):not(.event-time):not(.event-end):not(.event-type)').textContent;
  const date = event.querySelector('.event-date').textContent.replace('Date: ', '');
  const time = event.querySelector('.event-time').textContent.replace('Time: ', '');
  const end = event.querySelector('.event-end').textContent.replace('End Date & Time: ', '');
  const type = event.querySelector('.event-type').textContent.replace('Type: ', '');
  document.querySelector('#event-date').value = new Date(date).toISOString().split('T')[0];
  document.querySelector('#event-time').value = time;
  document.querySelector('#event-end').value = new Date(end).toISOString().replace('Z', '');
  document.querySelector('#event-type').value = type;
  document.querySelector('#event-image').value = '';
  eventModal.dataset.eventElement = event.outerHTML;
  eventModal.style.display = 'flex';
}

function closeEventModal() {
  eventModal.style.display = 'none';
  document.querySelector('#event-title').value = '';
  document.querySelector('#event-description').value = '';
  document.querySelector('#event-date').value = '';
  document.querySelector('#event-time').value = '';
  document.querySelector('#event-end').value = '';
  document.querySelector('#event-type').value = '';
  document.querySelector('#event-image').value = '';
  delete eventModal.dataset.eventElement;
}

function saveEventDetails() {
  if (!isLoggedIn) return;
  const title = document.querySelector('#event-title').value;
  const description = document.querySelector('#event-description').value;
  const date = document.querySelector('#event-date').value;
  const time = document.querySelector('#event-time').value;
  const end = document.querySelector('#event-end').value;
  const type = document.querySelector('#event-type').value;
  const imageInput = document.querySelector('#event-image').files[0];

  if (title && description && date && time && end && type) {
    let imageSrc = 'images/default-event.jpg';
    if (imageInput) {
      imageSrc = URL.createObjectURL(imageInput);
    } else if (eventModal.dataset.eventElement) {
      const oldEvent = new DOMParser().parseFromString(eventModal.dataset.eventElement, 'text/html').querySelector('.event img');
      imageSrc = oldEvent ? oldEvent.src : imageSrc;
    }

    const eventHTML = `
      <img src="${imageSrc}" alt="${title} Poster">
      <h3>${title}</h3>
      <p>${description}</p>
      <p class="event-date"><strong>Date:</strong> ${new Date(date).toLocaleDateString('en-NZ')}</p>
      <p class="event-time"><strong>Time:</strong> ${time}</p>
      <p class="event-end"><strong>End Date & Time:</strong> ${new Date(end).toLocaleString('en-NZ')}</p>
      <p class="event-type"><strong>Type:</strong> ${type}</p>
      <button class="edit-button" onclick="openEventModal(this)">✎</button>
      <button class="delete-button" onclick="deleteEvent(this)">×</button>
    `;

    if (eventModal.dataset.eventElement) {
      const oldEvent = eventsGrid.querySelector(`[data-html="${encodeURIComponent(eventModal.dataset.eventElement)}"]`) || Array.from(eventsGrid.children).find(el => el.outerHTML === eventModal.dataset.eventElement);
      if (oldEvent) {
        oldEvent.innerHTML = eventHTML;
      }
    } else {
      const newEvent = document.createElement('div');
      newEvent.className = 'event';
      newEvent.innerHTML = eventHTML;
      eventsGrid.appendChild(newEvent);
    }

    closeEventModal();
    saveChanges();
  } else {
    alert('Please fill in all required fields');
  }
}

function deleteEvent(button) {
  if (!isLoggedIn) return;
  if (confirm('Are you sure you want to delete this event?')) {
    button.closest('.event').remove();
    saveChanges();
  }
}

function openPhotoModal(galleryType) {
  if (!isLoggedIn) return;
  photoModal.dataset.galleryType = galleryType;
  photoModal.style.display = 'flex';
}

function closePhotoModal() {
  photoModal.style.display = 'none';
  document.querySelector('#photo-upload').value = '';
  document.querySelector('#photo-alt').value = '';
  delete photoModal.dataset.galleryType;
}

function savePhotoDetails() {
  if (!isLoggedIn) return;
  const photoInput = document.querySelector('#photo-upload').files[0];
  const altText = document.querySelector('#photo-alt').value;
  const galleryType = photoModal.dataset.galleryType;
  const targetGallery = galleryType === 'about-gallery' ? aboutGallery : gallery;

  if (photoInput && altText) {
    const photoSrc = URL.createObjectURL(photoInput);
    const newPhoto = document.createElement('div');
    newPhoto.className = 'photo-container';
    newPhoto.draggable = true;
    newPhoto.ondragstart = dragPhoto;
    newPhoto.innerHTML = `
      <img src="${photoSrc}" alt="${altText}">
      <button class="delete-photo" onclick="deletePhoto(this, '${galleryType}')">×</button>
    `;
    targetGallery.appendChild(newPhoto);
    closePhotoModal();
    saveChanges();
  } else {
    alert('Please select a photo and provide a description');
  }
}

function deletePhoto(button, galleryType) {
  if (!isLoggedIn) return;
  if (confirm('Are you sure you want to delete this photo?')) {
    button.closest('.photo-container').remove();
    saveChanges();
  }
}

function updateButtonVisibility() {
  document.querySelectorAll('.delete-button, .edit-button, .delete-photo').forEach(button => {
    button.style.display = isLoggedIn ? 'block' : 'none';
  });
  saveButton.style.display = isLoggedIn ? 'block' : 'none';
  uploadButtons.forEach(button => {
    button.style.display = isLoggedIn ? 'block' : 'none';
  });
}

// Ensure all elements are draggable when logged in
document.addEventListener('DOMContentLoaded', () => {
  if (isLoggedIn) {
    document.querySelectorAll('.member, .role, .photo-container').forEach(item => {
      if (!item.getAttribute('onclick')) {
        item.setAttribute('draggable', 'true');
      }
    });
  }
});
    }

    initializeDraggables();

  </script>

</body>
</html>
