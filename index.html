‎index.html
+463
-319
Original file line number	Diff line number	Diff line change
@@ -303,6 +303,8 @@
    }

    .member:hover, .role:hover, .event:hover {
      box-shadow: 0 6px 12px rgba(230, 126, 34, 0.5), 0 0 15px #e67e22, 0 0 25px #f39c12;
      transform: translateY(-5px);
      transform: scale(1.03);
      box-shadow: 0 6px 15px rgba(230, 126, 34, 0.5), 0 0 15px #e67e22, 0 0 25px #f39c12;
    }
@@ -484,6 +486,12 @@
      border: 2px solid #f39c12;
    }

    .role .tooltip p {
      color: #f8e1b4;
      margin: 0;
      line-height: 1.5;
    }
    .role:hover .tooltip {
      visibility: visible;
      opacity: 1;
@@ -520,6 +528,7 @@
      margin-bottom: 20px;
    }

    .modal-content input, .modal-content textarea {
    .modal-content input, .modal-content textarea, .modal-content select {
      width: 100%;
      padding: 10px;
@@ -693,7 +702,7 @@
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .submit-button, .add-role-button, .edit-gallery-button, .edit-about-gallery-button {
    .submit-button, .add-role-button {
      display: inline-block;
      padding: 12px 20px;
      background-color: #e67e22;
@@ -703,18 +712,29 @@
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2em;
      transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
      margin: 20px auto;
    }

    .submit-button:hover, .add-role-button:hover, .edit-gallery-button:hover, .edit-about-gallery-button:hover {
    .submit-button:hover, .add-role-button:hover {
      background-color: #f39c12;
      color: #2b1b0f;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .submit-section {
      position: relative;
      text-align: center;
    }
    .submit-section .submit-button {
      transition: all 0.3s ease;
    }
    .submit-section.sticky .submit-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      padding: 10px 20px;
      box-shadow: 0 0 10px #e67e22, 0 0 20px #f39c12;
    }

    .about-container, .mission-container, .members-container, .gallery-container, .newsletter-container {
@@ -727,6 +747,10 @@
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .section#submit {
      background-color: rgba(244, 228, 188, 0.8);
    }
    .submit-section {
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid #e67e22;
@@ -787,14 +811,6 @@
      margin-bottom: 20px;
    }

    .admin-only {
      display: none;
    }
    .logged-in .admin-only {
      display: block;
    }
    @media only screen and (max-width: 768px) {
      .hamburger {
        display: block;
@@ -966,7 +982,7 @@
        padding: 15px;
      }

      .submit-button, .add-role-button, .edit-gallery-button, .edit-about-gallery-button {
      .submit-button, .add-role-button {
        font-size: 1em;
        padding: 10px 15px;
      }
@@ -1166,34 +1182,18 @@
    </div>
  </div>

  <div class="modal" id="gallery-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeGalleryModal()">×</button>
      <h3>Edit Camp Gallery</h3>
      <input type="file" id="gallery-images" accept="image/*" multiple>
      <button onclick="saveGalleryImages()">Save</button>
    </div>
  </div>
  <div class="modal" id="about-gallery-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeAboutGalleryModal()">×</button>
      <h3>Edit About Our Camp Images</h3>
      <input type="file" id="about-gallery-images" accept="image/*" multiple>
      <button onclick="saveAboutGalleryImages()">Save</button>
    </div>
  </div>
  <div class="about-container">
    <section class="section" id="about">
      <h1>About Our Camp</h1>
      <p>Join the Rejex... Cosmic Rejex is a welcoming home for emos, rockers, and bass-heads—a safe, inclusive space to connect, unwind, and be yourself. We’re all about good tunes, strange art, deep chats, and the occasional wild conspiracy theory. As a sound camp, you can expect emo anthems, raw rock, and rolling drum and bass, all wrapped in a laid-back, friendly atmosphere. Whether you’re here to dance, chill, or just vibe out, you’re always welcome.</p>
      <div class="gallery" id="about-gallery">
      <div class="gallery">
        <img src="images/Campphoto1.jpg" alt="Camp Mates">
        <img src="images/Campphoto15.png" alt="Camp Mates">
        <img src="images/Campphoto17.png" alt="Night Lights">
        <img src="images/Campphoto1.jpg" alt="Camp Mates" loading="lazy">
        <img src="images/Campphoto15.png" alt="Camp Mates" loading="lazy">
        <img src="images/Campphoto17.png" alt="Night Lights" loading="lazy">
      </div>
      <button class="edit-about-gallery-button admin-only" onclick="openAboutGalleryModal()">Edit About Gallery</button>
    </section>
  </div>

@@ -1211,111 +1211,127 @@
        <div class="scroll-arrow left">◄</div>
        <div class="scroll-arrow right">►</div>
        <div class="member camp-lead" draggable="true" ondragstart="drag(event)">
          <img src="images/ShanonRichards.jpg" alt="Shanon Richards">
          <img src="images/ShanonRichards.jpg" alt="Shanon Richards" loading="lazy">
          <h3>Shanon Richards</h3>
          <span>Camp Lead</span>
          <p>Oversees planning, forms, and execution. Manages policies, resources, and conflict resolution tasks.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member deputy-lead" draggable="true" ondragstart="drag(event)">
          <img src="images/MeganR.jpg" alt="Meghan">
          <img src="images/MeganR.jpg" alt="Meghan" loading="lazy">
          <h3>Meghan Robson</h3>
          <span>Deputy Lead</span>
          <p>Supports Camp Lead, tracks tasks, timelines, and fills gaps. Ensures smooth operations flow daily.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/RussellDuffield.jpg" alt="Russell">
          <img src="images/RussellDuffield.jpg" alt="Russell" loading="lazy">
          <h3>Russell Duffield</h3>
          <span>Build Lead</span>
          <p>Leads camp setup, structures, and layout. Manages build crew, tools, and safety protocols well.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Star Dust Bambi.jpg" alt="Star">
          <img src="images/Star Dust Bambi.jpg" alt="Star" loading="lazy">
          <h3>Star Dust Bambi</h3>
          <span>Vibe Manager</span>
          <p>Creates safe spaces and emotional support. Fosters connection, inclusion, and belonging always.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/michealdunstan.jpg" alt="Micheal">
          <img src="images/michealdunstan.jpg" alt="Micheal" loading="lazy">
          <h3>Micheal Dunstan</h3>
          <span>Logistics Lead</span>
          <p>Tracks gear, camp assets, and purchasing. Coordinates transport and supplies with efficiency.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tomasshelby.jpg" alt="Tomas">
          <img src="images/tomasshelby.jpg" alt="Tomas" loading="lazy">
          <h3>Tomas Shelby</h3>
          <span>Sound Lead</span>
          <p>Manages camp music, DJs, and audio gear. Ensures the sound setup runs smoothly all the time.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/jarrodskiffington.jpg" alt="Jarrod">
          <img src="images/jarrodskiffington.jpg" alt="Jarrod" loading="lazy">
          <h3>Jarrod Skiffington</h3>
          <span>Transport Lead</span>
          <p>Organizes and manages the transport of camp gear, ensuring safe delivery to and from Kiwiburn.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/alana.jpg" alt="Alana">
          <img src="images/alana.jpg" alt="Alana" loading="lazy">
          <h3>Alana Stewart</h3>
          <span>Kitchen Lead</span>
          <p>Plans shared meals and food storage. Oversees cooking, cleaning, and food rosters effectively.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tylerrowe.jpg" alt="Tyler">
          <img src="images/tylerrowe.jpg" alt="Tyler" loading="lazy">
          <h3>Tyler Rowe</h3>
          <span>Art & Workshop Lead</span>
          <p>Manages camp art and workshops. Supports artists, event hosts, and creative materials fully.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Imogen.jpg" alt="Imogen">
          <img src="images/Imogen.jpg" alt="Imogen" loading="lazy">
          <h3>Imogen Olivia</h3>
          <span>Wellbeing Officer</span>
          <p>Checks mental health and group dynamics. Provides active listening and support consistently.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/sarsha.jpg" alt="Sarsha">
          <img src="images/sarsha.jpg" alt="Sarsha" loading="lazy">
          <h3>Sarsha Skiffington</h3>
          <span>Greeter</span>
          <p>Welcomes arrivals, gives orientations, and helps everyone feel at home right—all wrapped in a cozy, laid-back vibe. You’re always welcome.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Gartah.jpg" alt="Gartah">
          <img src="images/Gartah.jpg" alt="Gartah" loading="lazy">
          <h3>Gartah</h3>
          <span>Strike Lead</span>
          <p>Organizes pack-down, cleanup, and Leave No Trace. Ensures gear is sorted and returned well.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div filler-text="These are filler images and names, please replace with real photos and names for actual use." class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/jackie.jpg" alt="Jackie">
          <img src="images/jackie.jpg" alt="Jackie" loading="lazy">
          <h3>Jackie Church</h3>
          <span>Comms Lead</span>
          <p>Sends key info, updates, and reminders. Keeps everyone connected and informed consistently.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/olivia.jpg" alt="Olivia">
          <img src="images/olivia.jpg" alt="Olivia" loading="lazy">
          <h3>Olivia Derewlany</h3>
          <span>Safety Officer</span>
          <p>Ensures camp safety, fire protocols, and first-aid basics. Supports emergency readiness well.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/wenyi.jpg" alt="Wenyi">
          <img src="images/wenyi.jpg" alt="Wenyi" loading="lazy">
          <h3>Wenyi Huang</h3>
          <span>MOOP Manager</span>
          <p>Leads Leave No Trace systems and cleanup. Educates campmates and tracks waste effectively.</p>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tina.jpg" alt="Tina">
          <img src="images/tina.jpg" alt="Tina" loading="lazy">
          <h3>Tina Lein</h3>
          <span>Power/Tech Lead</span>
@@ -1327,10 +1343,11 @@
      <div class="roles-container">
        <h2>Roles to Be Filled</h2>
        <p>Ready to make a difference? Explore open roles and join our vibrant Cosmic Rejex crew. Hover over each role to discover its responsibilities and apply to contribute your unique skills!</p>
        <div class="roles-grid" id="roles-grid" ondragover="allowDrop(event)" ondrop="drop(event, 'roles')">
        <div class="roles-grid" ondragover="allowDrop(event)" ondrop="drop(event, 'roles')">
          <div class="scroll-arrow left">◄</div>
          <div class="scroll-arrow right">►</div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/trial.png" alt="Logistics & Build Lead Icon">
            <img src="images/icons/trial.png" alt="Logistics & Build Lead Icon" loading="lazy">
            <h3>Logistics & Build Lead</h3>
            <a href="join-camp.html?role=Logistics%20%26%20Build%20Lead" class="apply-button">Apply for Role</a>
@@ -1340,6 +1357,7 @@
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          </div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/volunteer-coordinator.png" alt="Volunteer Coordinator Icon">
            <img src="images/icons/volunteer-coordinator.png" alt="Volunteer Coordinator Icon" loading="lazy">
            <h3>Volunteer Coordinator</h3>
            <a href="join-camp.html?role=Volunteer%20Coordinator" class="apply-button">Apply for Role</a>
@@ -1349,6 +1367,7 @@
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          </div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/build-crew.png" alt="Build Crew Icon">
            <img src="images/icons/build-crew.png" alt="Build Crew Icon" loading="lazy">
            <h3>Build Crew</h3>
            <a href="join-camp.html?role=Build%20Crew" class="apply-button">Apply for Role</a>
@@ -1358,6 +1377,7 @@
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          </div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/sound-lights-lead.png" alt="Sound & Lights Lead Icon">
            <img src="images/icons/sound-lights-lead.png" alt="Sound & Lights Lead Icon" loading="lazy">
            <h3>Sound & Lights Lead</h3>
            <a href="join-camp.html?role=Sound%20%26%20Lights%20Lead" class="apply-button">Apply for Role</a>
@@ -1367,6 +1387,7 @@
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          </div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/kitchen-lead.png" alt="Kitchen Lead Icon">
            <img src="images/icons/kitchen-lead.png" alt="Kitchen Lead Icon" loading="lazy">
            <h3>Kitchen Lead</h3>
            <a href="join-camp.html?role=Kitchen%20Lead" class="apply-button">Apply for Role</a>
@@ -1376,6 +1397,7 @@
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          </div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/safety-medical-lead.png" alt="Safety & Medical Lead Icon">
            <img src="images/icons/safety-medical-lead.png" alt="Safety & Medical Lead Icon" loading="lazy">
            <h3>Safety & Medical Lead</h3>
            <a href="join-camp.html?role=Safety%20%26%20Medical%20Lead" class="apply-button">Apply for Role</a>
@@ -1385,6 +1407,7 @@
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          </div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/fire-rangers-lead.png" alt="Fire & Rangers Lead Icon">
            <img src="images/icons/fire-rangers-lead.png" alt="Fire & Rangers Lead Icon" loading="lazy">
            <h3>Fire & Rangers Lead</h3>
            <a href="join-camp.html?role=Fire%20%26%20Rangers%20Lead" class="apply-button">Apply for Role</a>
@@ -1394,6 +1417,7 @@
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          </div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/art-decor-lead.png" alt="Art & Decor Lead Icon">
            <img src="images/icons/art-decor-lead.png" alt="Art & Decor Lead Icon" loading="lazy">
            <h3>Art & Decor Lead</h3>
            <a href="join-camp.html?role=Art%20%26%20Decor%20Lead" class="apply-button">Apply for Role</a>
@@ -1403,6 +1427,7 @@
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          </div>
          <div class="role" draggable="true" ondragstart="drag(event)">
            <img src="images/icons/event-theme-night-lead.png" alt="Event & Theme Night Lead Icon">
            <img src="images/icons/event-theme-night-lead.png" alt="Event & Theme Night Lead Icon" loading="lazy">
            <h3>Event & Theme Night Lead</h3>
            <a href="join-camp.html?role=Event%20%26%20Theme%20Night%20Lead" class="apply-button">Apply for Role</a>
@@ -1413,11 +1438,11 @@
          </div>
        </div>
        <div class="roles-empty" style="display: none;">
          <p>No open roles currently.</p>
          <button class="add-role-button admin-only" onclick="openRoleModal()">Add New Role</button>
          <p>No open roles currently. Create a new role to get started!</p>
          <button class="add-role-button" onclick="openRoleModal()">Add New Role</button>
        </div>
      </div>
      <button class="save-button admin-only" onclick="saveChanges()">Save Changes</button>
      <button class="save-button" onclick="saveChanges()" style="display: none;">Save Changes</button>
    </section>

    <section class="section submit-section" id="join">
@@ -1441,40 +1466,64 @@
        <option value="past">Past</option>
      </select>
      <div class="events-grid">
        <div class="event">
          <img src="images/EVENTS/Emo Night.jpg" alt="Emo Night Poster">
          <h3>Emo Night: "It's not a phase mom! It's a tribute!"</h3>
          <p>Emo night is back! Join us for a tribute to RAT camp as we revive the tears, emo vibes, and your teenage passion! Find a dark corner, sip on our emo-inspired drinks, and get your makeup done just right! Plus more!</p>
          <button class="edit-button" onclick="openEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        <div class="event" tabindex="0">
          <img src="images/EVENTS/Emo Night.jpg" alt="Emo Night Poster" loading="lazy">
          <h3 contenteditable="false" class="editable">Emo Night: "It's not a phase mom! It's a tribute!"</h3>
          <p contenteditable="false" class="editable">Emo night is back! Join us for a tribute to RAT camp as we revive the tears, emo vibes, and your teenage passion! Find a dark corner, sip on our emo-inspired drinks, and get your makeup done just right! Plus more!</p>
          <p class="event-date">1/27/2025, 8:00 PM</p>
          <span class="event-category">Music</span>
          <button class="edit-button" onclick="openEventModal(this)" aria-label="Edit event">✎</button>
          <button class="edit-button" onclick="toggleInlineEdit(this)" aria-label="Edit event">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)" aria-label="Delete event">×</button>
        </div>
        <div class="event">
          <img src="images/EVENTS/Pole in the paddock.jpg" alt="Pole in the paddock Poster">
          <h3>Pole in the paddock</h3>
          <p>Join us for an exciting pole performance showcasing strength, grace, and creativity. Watch as some amazing humans twist, flip, and move in ways that'll leave you in awe. It’s going to be fun, fierce, and full of Kiwiburn energy – don’t miss it!</p>
          <button class="edit-button" onclick="openEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        <div class="event" tabindex="0">
          <img src="images/EVENTS/Pole in the paddock.jpg" alt="Pole in the paddock Poster" loading="lazy">
          <h3 contenteditable="false" class="editable">Pole in the paddock</h3>
          <p contenteditable="false" class="editable">Join us for an exciting pole performance showcasing strength, grace, and creativity. Watch as some amazing humans twist, flip, and move in ways that'll leave you in awe. It’s going to be fun, fierce, and full of Kiwiburn energy – don’t miss it!</p>
          <p class="event-date">1/28/2025, 3:00 PM</p>
          <span class="event-category">Art</span>
          <button class="edit-button" onclick="openEventModal(this)" aria-label="Edit event">✎</button>
          <button class="edit-button" onclick="toggleInlineEdit(this)" aria-label="Edit event">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)" aria-label="Delete event">×</button>
        </div>
        <div class="event">
          <img src="images/EVENTS/Cosmic Connections.jpg" alt="Cosmic Connections Poster">
          <h3>Cosmic Connections</h3>
          <p>Ever feel like the sky is watching you? Join us as we share stories of extraterrestrial encounters, where skeptics become seekers and believers find their tribe. This is a space to explore the unknown—and even learn tools for making contact yourself. Bring an open mind and heart!</p>
          <button class="edit-button" onclick="openEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        <div class="event" tabindex="0">
          <img src="images/EVENTS/Cosmic Connections.jpg" alt="Cosmic Connections Poster" loading="lazy">
          <h3 contenteditable="false" class="editable">Cosmic Connections</h3>
          <p contenteditable="false" class="editable">Ever feel like the sky is watching you? Join us as we share stories of extraterrestrial encounters, where skeptics become seekers and believers find their tribe. This is a space to explore the unknown—and even learn tools for making contact yourself. Bring an open mind and heart!</p>
          <p class="event-date">1/29/2025, 7:00 PM</p>
          <span class="event-category">Workshop</span>
          <button class="edit-button" onclick="openEventModal(this)" aria-label="Edit event">✎</button>
          <button class="edit-button" onclick="toggleInlineEdit(this)" aria-label="Edit event">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)" aria-label="Delete event">×</button>
        </div>
        <div class="event">
          <img src="images/EVENTS/DJ Showcase & Open Decks.jpg" alt="DJ Showcase & Open Decks Poster">
          <h3>DJ Showcase & Open Decks</h3>
          <p>An open-deck party featuring local DJs and campers spinning tracks, with colorful lights and a dance floor that kept the energy high all night.</p>
          <button class="edit-button" onclick="openEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        <div class="event" tabindex="0">
          <img src="images/EVENTS/DJ Showcase & Open Decks.jpg" alt="DJ Showcase & Open Decks Poster" loading="lazy">
          <h3 contenteditable="false" class="editable">DJ Showcase & Open Decks</h3>
          <p contenteditable="false" class="editable">An open-deck party featuring local DJs and campers spinning tracks, with colorful lights and a dance floor that kept the energy high all night.</p>
          <p class="event-date">1/30/2025, 9:00 PM</p>
          <span class="event-category">Music</span>
          <button class="edit-button" onclick="openEventModal(this)" aria-label="Edit event">✎</button>
          <button class="edit-button" onclick="toggleInlineEdit(this)" aria-label="Edit event">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)" aria-label="Delete event">×</button>
        </div>
      </div>
@@ -1498,12 +1547,14 @@
  <div class="gallery-container">
    <section class="section" id="gallery">
      <h1>Camp Gallery</h1>
      <div class="gallery" id="camp-gallery">
      <div class="gallery">
        <img src="images/photo1.jpg" alt="Gallery Image 1">
        <img src="images/photo2.jpg" alt="Gallery Image 2">
        <img src="images/photo3.jpg" alt="Gallery Image 3">
        <img src="images/photo1.jpg" alt="Gallery Image 1" loading="lazy">
        <img src="images/photo2.jpg" alt="Gallery Image 2" loading="lazy">
        <img src="images/photo3.jpg" alt="Gallery Image 3" loading="lazy">
      </div>
      <button class="edit-gallery-button admin-only" onclick="openGalleryModal()">Edit Gallery</button>
    </section>
  </div>

@@ -1524,25 +1575,21 @@
    const loginForm = document.querySelector('#login-form');
    const logoutButton = document.querySelector('.logout-button');
    const membersGrid = document.querySelector('.members-grid');
    const rolesGrid = document.querySelector('#roles-grid');
    const rolesGrid = document.querySelector('.roles-grid');
    const rolesEmpty = document.querySelector('.roles-empty');
    const eventsGrid = document.querySelector('.events-grid');
    const memberModal = document.querySelector('#member-modal');
    const roleModal = document.querySelector('#role-modal');
    const eventModal = document.querySelector('#event-modal');
    const galleryModal = document.querySelector('#gallery-modal');
    const aboutGalleryModal = document.querySelector('#about-gallery-modal');
    const saveButton = document.querySelector('.save-button');
    let draggedElement = null;
    let isLoggedIn = false;

    // Load saved data and update visibility
    // Load saved data and update roles visibility
    window.addEventListener('load', () => {
      const savedMembers = localStorage.getItem('membersGrid');
      const savedRoles = localStorage.getItem('rolesGrid');
      const savedEvents = localStorage.getItem('eventsGrid');
      const savedGallery = localStorage.getItem('campGallery');
      const savedAboutGallery = localStorage.getItem('aboutGallery');
      if (savedMembers) {
        membersGrid.innerHTML = savedMembers;
        membersGrid.querySelectorAll('.scroll-arrow').forEach(arrow => {
@@ -1573,6 +1620,7 @@
        eventsGrid.innerHTML = savedEvents;
        eventsGrid.querySelectorAll('.edit-button').forEach(button => {
          button.addEventListener('click', () => openEventModal(button));
          button.addEventListener('click', () => toggleInlineEdit(button));
        });
        eventsGrid.querySelectorAll('.delete-button').forEach(button => {
          button.addEventListener('click', () => deleteEvent(button));
@@ -1587,12 +1635,6 @@
          });
        });
      }
      if (savedGallery) {
        document.querySelector('#camp-gallery').innerHTML = savedGallery;
      }
      if (savedAboutGallery) {
        document.querySelector('#about-gallery').innerHTML = savedAboutGallery;
      }
      updateRolesVisibility();
      updateEventBadges();
    });
@@ -1617,7 +1659,6 @@
          item.setAttribute('draggable', 'true');
          item.addEventListener('dragstart', drag);
        });
        updateRolesVisibility();
      } else {
        alert('Invalid credentials');
      }
@@ -1635,7 +1676,6 @@
        item.setAttribute('draggable', 'false');
        item.removeEventListener('dragstart', drag);
      });
      updateRolesVisibility();
    });

    const countdown = document.getElementById('countdown');
@@ -1718,6 +1758,7 @@
      newRole.draggable = true;
      newRole.addEventListener('dragstart', drag);
      newRole.innerHTML = `
        <img src="images/icons/generic-role.png" alt="${roleTitle} Icon">
        <img src="images/icons/generic-role.png" alt="${roleTitle} Icon" loading="lazy">
        <h3>${roleTitle}</h3>
        <a href="join-camp.html?role=${encodeURIComponent(roleTitle)}" class="apply-button">Apply for Role</a>
@@ -1747,8 +1788,6 @@
      localStorage.setItem('membersGrid', membersGrid.innerHTML);
      localStorage.setItem('rolesGrid', rolesGrid.innerHTML);
      localStorage.setItem('eventsGrid', eventsGrid.innerHTML);
      localStorage.setItem('campGallery', document.querySelector('#camp-gallery').innerHTML);
      localStorage.setItem('aboutGallery', document.querySelector('#about-gallery').innerHTML);
      alert('Changes saved!');
    }

@@ -1785,7 +1824,7 @@
        const grid = document.querySelector(`.${gridClass}`);
        let newMember;

if (roleElement) {
        if (roleElement) {
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = roleElement;
          const role = tempDiv.firstElementChild;
@@ -1797,34 +1836,35 @@
          newMember.draggable = true;
          newMember.addEventListener('dragstart', drag);
          newMember.innerHTML = `
            <img src="${photoSrc}" alt="${name}">
            <img src="${photoSrc}" alt="${name}" loading="lazy">
            <h3>${name}</h3>
            <span>${roleTitle}</span>
            <p>${description}</p>
            <button class="delete-button" onclick="deleteMember(this)">×</button>
          `;
          rolesGrid.removeChild(rolesGrid.querySelector(`.role h3:contains('${roleTitle}')`).closest('.role'));
          rolesGrid.querySelector(`h3:contains('${roleTitle}')`)?.closest('.role').remove();
        } else {
          newMember = document.createElement('div');
          newMember.className = 'member';
          newMember.draggable = true;
          newMember.addEventListener('dragstart', drag);
          newMember.innerHTML = `
            <img src="${photoSrc}" alt="${name}">
            <img src="${photoSrc}" alt="${name}" loading="lazy">
            <h3>${name}</h3>
            <span>New Member</span>
            <p>Role description goes here.</p>
            <span>Member</span>
            <p>New member of the camp.</p>
            <button class="delete-button" onclick="deleteMember(this)">×</button>
          `;
        }

        if (targetHtml) {
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = targetHtml;
          const targetElement = tempDiv.firstElementChild;
          const targetInGrid = grid.querySelector(`[class="${targetElement.className}"]:has(h3:contains('${targetElement.querySelector('h3').textContent}'))`);
          if (targetInGrid) {
            grid.insertBefore(newMember, targetInGrid);
          const target = grid.querySelector(`h3:contains('${tempDiv.firstElementChild.querySelector('h3').textContent}')`)?.closest('.member, .role');
          if (target) {
            grid.insertBefore(newMember, target);
          } else {
            grid.appendChild(newMember);
          }
@@ -1838,14 +1878,6 @@
      reader.readAsDataURL(photoInput.files[0]);
    }

    function deleteMember(button) {
      if (!isLoggedIn) return;
      if (confirm('Are you sure you want to delete this member?')) {
        button.closest('.member').remove();
        updateRolesVisibility();
      }
    }
    function openRoleModal() {
      if (!isLoggedIn) return;
      roleModal.style.display = 'flex';
@@ -1865,17 +1897,76 @@
      const iconInput = document.querySelector('#role-icon');

      if (!title || !description) {
        alert('Please fill in all required fields');
        alert('Please fill in the role title and description');
        alert('Please fill in all fields');
        return;
      }

      const saveRole = (iconSrc) => {
      let iconSrc = 'images/icons/generic-role.png';
      const newRole = document.createElement('div');
      newRole.className = 'role';
      newRole.draggable = true;
      newRole.addEventListener('dragstart', drag);
      if (iconInput.files && iconInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          iconSrc = e.target.result;
          createNewRole(title, description, iconSrc);
          newRole.innerHTML = `
            <img src="${e.target.result}" alt="${title} Icon" loading="lazy">
            <h3>${title}</h3>
            <a href="join-camp.html?role=${encodeURIComponent(title)}" class="apply-button">Apply for Role</a>
            <div class="tooltip">
              <p>${description}</p>
            </div>
            <button class="delete-button" onclick="deleteRole(this)">×</button>
          `;
          rolesGrid.appendChild(newRole);
          closeRoleModal();
          updateRolesVisibility();
        };
        reader.readAsDataURL(iconInput.files[0]);
      } else {
        createNewRole(title, description, iconSrc);
      }
    }
    function createNewRole(title, description, iconSrc) {
      const newRole = document.createElement('div');
      newRole.className = 'role';
      newRole.draggable = true;
      newRole.addEventListener('dragstart', drag);
      newRole.innerHTML = `
        <img src="${iconSrc}" alt="${title} Icon">
        <h3>${title}</h3>
        <a href="join-camp.html?role=${encodeURIComponent(title)}" class="apply-button">Apply for Role</a>
        <div class="tooltip">
          <p>${description}</p>
        </div>
        <button class="delete-button" onclick="deleteRole(this)">×</button>
      `;
      rolesGrid.appendChild(newRole);
      closeRoleModal();
      updateRolesVisibility();
    }
    function deleteMember(button) {
      if (!isLoggedIn) return;
      const member = button.closest('.member');
      const name = member.querySelector('h3').textContent;
      if (confirm(`Are you sure you want to delete ${name}?`)) {
        const roleTitle = member.querySelector('span').textContent;
        const description = member.querySelector('p').textContent;
        const newRole = document.createElement('div');
        newRole.className = 'role';
        newRole.draggable = true;
        newRole.addEventListener('dragstart', drag);
        newRole.innerHTML = `
          <img src="${iconSrc}" alt="${title} Icon" loading="lazy">
          <img src="images/icons/generic-role.png" alt="${roleTitle} Icon">
          <h3>${roleTitle}</h3>
          <a href="join-camp.html?role=${encodeURIComponent(roleTitle)}" class="apply-button">Apply for Role</a>
          <img src="images/icons/generic-role.png" alt="${title} Icon" loading="lazy">
          <h3>${title}</h3>
          <a href="join-camp.html?role=${encodeURIComponent(title)}" class="apply-button">Apply for Role</a>
          <div class="tooltip">
@@ -1884,50 +1975,68 @@
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        `;
        rolesGrid.appendChild(newRole);
        member.remove();
        alert(`${name} has been removed from the members list and their role has been added to Roles to Be Filled.`);
        closeRoleModal();
        updateRolesVisibility();
      };
      if (iconInput.files && iconInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          saveRole(e.target.result);
        };
        reader.readAsDataURL(iconInput.files[0]);
      } else {
        saveRole('images/icons/generic-role.png');
      }
    }

    function deleteRole(button) {
    function deleteMember(button) {
      if (!isLoggedIn) return;
      if (confirm('Are you sure you want to delete this role?')) {
        button.closest('.role').remove();
      const role = button.closest('.role');
      const title = role.querySelector('h3').textContent;
      if (confirm(`Are you sure you want to delete the ${title} role?`)) {
        role.remove();
        alert(`The ${title} role has been removed.`);
        updateRolesVisibility();
      }
      button.closest('.member').remove();
      updateRolesVisibility();
    }
    function deleteEvent(button) {
    function deleteRole(button) {
      if (!isLoggedIn) return;
      const event = button.closest('.event');
      const title = event.querySelector('h3').textContent;
      if (confirm(`Are you sure you want to delete the ${title} event?`)) {
        event.remove();
        alert(`The ${title} event has been removed.`);
      button.closest('.role').remove();
      updateRolesVisibility();
    }

    function updateRolesVisibility() {
      const roles = rolesGrid.querySelectorAll('.role');
      rolesEmpty.style.display = roles.length === 0 ? 'block' : 'none';
      if (!isLoggedIn) {
        roles.forEach(role => role.style.display = 'block');
        document.querySelector('.add-role-button').style.display = 'none';
      if (roles.length === 0) {
        rolesEmpty.style.display = 'block';
        rolesGrid.style.display = 'none';
      } else {
        roles.forEach(role => role.style.display = 'block');
        rolesEmpty.style.display = 'none';
        rolesGrid.style.display = 'grid';
      }
    }

    function openEventModal(button) {
      if (!isLoggedIn) return;
      const eventElement = button.closest('.event');
      eventModal.dataset.eventElement = eventElement.outerHTML;
      document.querySelector('#event-title').value = eventElement.querySelector('h3').textContent;
      document.querySelector('#event-description').value = eventElement.querySelector('p:not(.event-date)').textContent;
      document.querySelector('#event-datetime').value = new Date(eventElement.querySelector('.event-date').textContent.split(', ')[0] + ' ' + eventElement.querySelector('.event-date').textContent.split(', ')[1]).toISOString().slice(0, 16);
      document.querySelector('#event-category').value = eventElement.querySelector('.event-category').textContent;
      document.querySelector('#preview-image').src = eventElement.querySelector('img').src;
      updateEventPreview();
      const event = button.closest('.event');
      const title = event.querySelector('h3').textContent;
      const description = event.querySelector('p').textContent;
      const description = event.querySelector('p:not(.event-date)').textContent;
      const datetime = event.querySelector('.event-date') ? new Date(event.querySelector('.event-date').textContent).toISOString().slice(0, 16) : '';
      const category = event.querySelector('.event-category')?.textContent || 'Other';
      const imageSrc = event.querySelector('img').src;
      document.querySelector('#event-title').value = title;
      document.querySelector('#event-description').value = description;
      document.querySelector('#event-datetime').value = datetime;
      document.querySelector('#event-category').value = category;
      eventModal.dataset.eventElement = event.outerHTML;
      eventModal.dataset.imageSrc = imageSrc;
      updatePreview();
      eventModal.style.display = 'flex';
    }

@@ -1936,10 +2045,15 @@
      document.querySelector('#event-title').value = '';
      document.querySelector('#event-description').value = '';
      document.querySelector('#event-datetime').value = '';
      document.querySelector('#event-category').value = '';
      document.querySelector('#event-category').value = 'Music';
      document.querySelector('#event-image').value = '';
      document.querySelector('#preview-image').src = 'images/icons/generic-event.png';
      document.querySelector('#preview-title').textContent = 'Event Title';
      document.querySelector('#preview-description').textContent = 'Event Description';
      document.querySelector('#preview-date').textContent = '';
      document.querySelector('#preview-category').textContent = '';
      delete eventModal.dataset.eventElement;
      delete eventModal.dataset.imageSrc;
    }

    function saveEventDetails() {
@@ -1949,269 +2063,299 @@
      const datetime = document.querySelector('#event-datetime').value;
      const category = document.querySelector('#event-category').value;
      const imageInput = document.querySelector('#event-image');
      const eventElementHtml = eventModal.dataset.eventElement;
      if (!title || !description) {
        alert('Please fill in the event title and description');

      if (!title || !description || !datetime || !category) {
        alert('Please fill in all required fields');
      if (!title || !description || !datetime) {
        alert('Please fill in all fields');
        return;
      }

      const saveEvent = (imageSrc) => {
        const eventDate = new Date(datetime);
        const formattedDate = eventDate.toLocaleDateString('en-US', { month: 'numeric', day: 'numeric', year: 'numeric' }) + ', ' + eventDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
        let eventElement;
        if (eventElementHtml) {
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = eventElementHtml;
          eventElement = tempDiv.firstElementChild;
          eventElement.querySelector('h3').textContent = title;
          eventElement.querySelector('p:not(.event-date)').textContent = description;
          eventElement.querySelector('.event-date').textContent = formattedDate;
          eventElement.querySelector('.event-category').textContent = category;
          eventElement.querySelector('img').src = imageSrc;
          eventElement.classList.add('edited');
          const existingEvent = eventsGrid.querySelector(`[class="${eventElement.className}"]:has(h3:contains('${tempDiv.firstElementChild.querySelector('h3').textContent}'))`);
          if (existingEvent) {
            eventsGrid.replaceChild(eventElement, existingEvent);
          }
        } else {
          eventElement = document.createElement('div');
          eventElement.className = 'event';
          eventElement.tabIndex = 0;
          eventElement.innerHTML = `
            <img src="${imageSrc}" alt="${title} Poster" loading="lazy">
            <h3 contenteditable="false" class="editable">${title}</h3>
            <p contenteditable="false" class="editable">${description}</p>
            <p class="event-date">${formattedDate}</p>
            <span class="event-category">${category}</span>
            <button class="edit-button" onclick="openEventModal(this)" aria-label="Edit event">✎</button>
            <button class="delete-button" onclick="deleteEvent(this)" aria-label="Delete event">×</button>
          `;
          eventElement.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && isLoggedIn) {
              const editButton = eventElement.querySelector('.edit-button');
              if (editButton) editButton.click();
            }
          });
          eventsGrid.appendChild(eventElement);
        }
        closeEventModal();
        updateEventBadges();
        saveChanges(); // Save to localStorage
      };
      let imageSrc = eventModal.dataset.imageSrc || 'images/icons/generic-event.png';
      if (imageInput.files && imageInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          saveEvent(e.target.result);
          imageSrc = e.target.result;
          updateEventElement(title, description, imageSrc);
          updateEventElement(title, description, datetime, imageSrc, category);
        };
        reader.readAsDataURL(imageInput.files[0]);
      } else {
        const existingImage = eventElementHtml ? (new DOMParser().parseFromString(eventElementHtml, 'text/html').querySelector('img').src) : 'images/icons/generic-event.png';
        saveEvent(existingImage);
      }
    }
        updateEventElement(title, description, imageSrc);
        updateEventElement(title, description, datetime, imageSrc, category);
      }
    }
    function updateEventElement(title, description, imageSrc) {
    function updateEventElement(title, description, datetime, imageSrc, category) {
      const eventHtml = eventModal.dataset.eventElement;
      const tempDiv = document.createElement('div');
      tempDiv.innerHTML = eventHtml;
      const eventElement = tempDiv.firstElementChild;
      eventElement.querySelector('h3').textContent = title;
      eventElement.querySelector('p').textContent = description;
      eventElement.querySelector('img').src = imageSrc;
      eventElement.querySelector('img').alt = `${title} Poster`;
      const oldEvent = eventsGrid.querySelector(`h3:contains('${eventElement.querySelector('h3').textContent}')`)?.closest('.event');
      if (oldEvent) {
      const eventElement = tempDiv.firstElementChild || document.createElement('div');
      eventElement.className = 'event';
      eventElement.setAttribute('tabindex', '0');

    function deleteEvent(button) {
      if (!isLoggedIn) return;
      if (confirm('Are you sure you want to delete this event?')) {
        button.closest('.event').remove();
        updateEventBadges();
      }
    }
      const now = new Date();
      const eventDate = new Date(datetime);
      let badgeHtml = '';
      if (eventDate > now) {
        badgeHtml = '<span class="event-badge">Upcoming</span>';
      }
      eventElement.innerHTML = `
        ${badgeHtml}
        <img src="${imageSrc}" alt="${title} Poster" loading="lazy">
        <h3 contenteditable="false" class="editable">${title}</h3>
        <p contenteditable="false" class="editable">${description}</p>
        <p class="event-date">${new Date(datetime).toLocaleString()}</p>
        <span class="event-category">${category}</span>
        <button class="edit-button" onclick="toggleInlineEdit(this)" aria-label="Edit event">✎</button>
        <button class="delete-button" onclick="deleteEvent(this)" aria-label="Delete event">×</button>
      `;
      eventElement.classList.add('edited');
      setTimeout(() => eventElement.classList.remove('edited'), 1000);

    function updateEventPreview() {
      const title = document.querySelector('#event-title').value;
      const description = document.querySelector('#event-description').value;
      const datetime = document.querySelector('#event-datetime').value;
      const category = document.querySelector('#event-category').value;
      eventElement.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && isLoggedIn) {
          const editButton = eventElement.querySelector('.edit-button');
          if (editButton) editButton.click();
        }
      });

      document.querySelector('#preview-title').textContent = title || 'Event Title';
      document.querySelector('#preview-description').textContent = description || 'Event Description';
      document.querySelector('#preview-category').textContent = category || '';
      if (datetime) {
        const eventDate = new Date(datetime);
        document.querySelector('#preview-date').textContent = eventDate.toLocaleDateString('en-US', { month: 'numeric', day: 'numeric', year: 'numeric' }) + ', ' + eventDate.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
      const oldEvent = eventsGrid.querySelector(`h3:contains('${title}')`)?.closest('.event');
      if (oldEvent && eventHtml) {
        eventsGrid.replaceChild(eventElement, oldEvent);
      } else {
        document.querySelector('#preview-date').textContent = '';
        eventsGrid.appendChild(eventElement);
      }

      const imageInput = document.querySelector('#event-image');
      if (imageInput.files && imageInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.querySelector('#preview-image').src = e.target.result;
        };
        reader.readAsDataURL(imageInput.files[0]);
      closeEventModal();
      filterEvents();
    }
    function updateRolesVisibility() {
      const roles = rolesGrid.querySelectorAll('.role');
      if (roles.length === 0) {
        rolesGrid.style.display = 'none';
        rolesEmpty.style.display = 'block';
    function toggleInlineEdit(button) {
      if (!isLoggedIn) return;
      const event = button.closest('.event');
      const title = event.querySelector('h3');
      const description = event.querySelector('p:not(.event-date)');
      const isEditing = title.contentEditable === 'true';
      if (isEditing) {
        title.contentEditable = false;
        description.contentEditable = false;
        button.textContent = '✎';
        saveChanges();
      } else {
        rolesGrid.style.display = 'grid';
        rolesEmpty.style.display = 'none';
        title.contentEditable = true;
        description.contentEditable = true;
        title.focus();
        button.textContent = '💾';
      }
    }

    document.querySelector('#event-title').addEventListener('input', updateEventPreview);
    document.querySelector('#event-description').addEventListener('input', updateEventPreview);
    document.querySelector('#event-datetime').addEventListener('input', updateEventPreview);
    document.querySelector('#event-category').addEventListener('change', updateEventPreview);
    document.querySelector('#event-image').addEventListener('change', updateEventPreview);
    // Custom jQuery-like :contains selector for compatibility
    HTMLElement.prototype.matches = HTMLElement.prototype.matches || function(selector) {
      const matches = document.querySelectorAll(selector);
      return Array.from(matches).includes(this);
    };

    function filterEvents() {
      const filter = document.querySelector('#event-filter').value;
    // Initialize grid scrolling for mobile
    function initializeGridScroll(grid) {
      const leftArrow = grid.querySelector('.scroll-arrow.left');
      const rightArrow = grid.querySelector('.scroll-arrow.right');
      if (leftArrow && rightArrow) {
        leftArrow.addEventListener('click', () => grid.scrollBy({ left: -150, behavior: 'smooth' }));
        rightArrow.addEventListener('click', () => grid.scrollBy({ left: 150, behavior: 'smooth' }));
      }
    function deleteEvent(button) {
      if (!isLoggedIn) return;
      button.closest('.event').remove();
      saveChanges();
      filterEvents();
    }
    initializeGridScroll(membersGrid);
    initializeGridScroll(rolesGrid);
    // Smooth scroll for nav links
    document.querySelectorAll('nav a').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 60,
            behavior: 'smooth'
          });
                    // Close mobile menu if open
          if (navLinks.classList.contains('active')) {
            navLinks.classList.remove('active');
    function updateEventBadges() {
      const events = eventsGrid.querySelectorAll('.event');
      const now = new Date();
      events.forEach(event => {
        const category = event.querySelector('.event-category').textContent;
        const dateText = event.querySelector('.event-date').textContent.split(', ')[0];
        const timeText = event.querySelector('.event-date').textContent.split(', ')[1];
        const eventDate = new Date(`${dateText} ${timeText}`);
        if (filter === 'all') {
          event.style.display = 'block';
        } else if (filter === 'upcoming' && eventDate >= now) {
          event.style.display = 'block';
        } else if (filter === 'past' && eventDate < now) {
          event.style.display = 'block';
        } else if (filter === category) {
          event.style.display = 'block';
        } else {
          event.style.display = 'none';
        const dateElement = event.querySelector('.event-date');
        if (dateElement) {
          const eventDate = new Date(dateElement.textContent);
          let badge = event.querySelector('.event-badge');
          if (eventDate > now) {
            if (!badge) {
              badge = document.createElement('span');
              badge.className = 'event-badge';
              badge.textContent = 'Upcoming';
              event.prepend(badge);
            }
          } else if (badge) {
            badge.remove();
          }
        }
      });
    });
    // Ensure roles visibility is updated on page load
    updateRolesVisibility();
    }

    function updateEventBadges() {
    // Prevent default drag behavior for non-logged-in users
    document.querySelectorAll('.member, .role').forEach(item => {
      item.addEventListener('dragstart', (e) => {
        if (!isLoggedIn) {
          e.preventDefault();
    function filterEvents() {
      const filter = document.querySelector('#event-filter').value;
      const events = eventsGrid.querySelectorAll('.event');
      const now = new Date();
      events.forEach(event => {
        const dateText = event.querySelector('.event-date').textContent.split(', ')[0];
        const timeText = event.querySelector('.event-date').textContent.split(', ')[1];
        const eventDate = new Date(`${dateText} ${timeText}`);
        let badge = event.querySelector('.event-badge');
        if (!badge && eventDate >= now) {
          badge = document.createElement('span');
          badge.className = 'event-badge';
          badge.textContent = 'Upcoming';
          event.insertBefore(badge, event.firstChild);
        } else if (badge && eventDate < now) {
          badge.remove();
        const category = event.querySelector('.event-category')?.textContent;
        const date = event.querySelector('.event-date') ? new Date(event.querySelector('.event-date').textContent) : null;
        if (filter === 'all') {
          event.style.display = '';
        } else if (filter === 'upcoming' && date && date > now) {
          event.style.display = '';
        } else if (filter === 'past' && date && date <= now) {
          event.style.display = '';
        } else if (category === filter) {
          event.style.display = '';
        } else {
          event.style.display = 'none';
        }
      });
    });
    }

    function openGalleryModal() {
      if (!isLoggedIn) return;
      galleryModal.style.display = 'flex';
    }
    function closeGalleryModal() {
      galleryModal.style.display = 'none';
      document.querySelector('#gallery-images').value = '';
    }
    function saveGalleryImages() {
      if (!isLoggedIn) return;
      const galleryImagesInput = document.querySelector('#gallery-images');
      const gallery = document.querySelector('#camp-gallery');
      if (!galleryImagesInput.files || galleryImagesInput.files.length === 0) {
        alert('Please select at least one image');
        return;
      }
      const files = Array.from(galleryImagesInput.files);
      gallery.innerHTML = ''; // Clear existing images
      files.forEach(file => {
    // Handle window resize for grid scrolling visibility
    window.addEventListener('resize', () => {
      initializeGridScroll(membersGrid);
      initializeGridScroll(rolesGrid);
    });
    document.querySelector('#event-title').addEventListener('input', updatePreview);
    document.querySelector('#event-description').addEventListener('input', updatePreview);
    document.querySelector('#event-datetime').addEventListener('input', updatePreview);
    document.querySelector('#event-category').addEventListener('change', updatePreview);
    document.querySelector('#event-image').addEventListener('change', updatePreview);
    // Prevent text selection during drag
    document.addEventListener('dragstart', (e) => {
      if (e.target.classList.contains('member') || e.target.classList.contains('role')) {
        e.target.style.userSelect = 'none';
    function updatePreview() {
      document.querySelector('#preview-title').textContent = document.querySelector('#event-title').value || 'Event Title';
      document.querySelector('#preview-description').textContent = document.querySelector('#event-description').value || 'Event Description';
      document.querySelector('#preview-date').textContent = document.querySelector('#event-datetime').value ? new Date(document.querySelector('#event-datetime').value).toLocaleString() : '';
      document.querySelector('#preview-category').textContent = document.querySelector('#event-category').value || '';
      const imageInput = document.querySelector('#event-image');
      if (imageInput.files && imageInput.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const img = document.createElement('img');
          img.src = e.target.result;
          img.alt = 'Gallery Image';
          img.loading = 'lazy';
          gallery.appendChild(img);
          if (gallery.children.length === files.length) {
            saveChanges();
          }
          document.querySelector('#preview-image').src = e.target.result;
        };
        reader.readAsDataURL(file);
      });
      closeGalleryModal();
    }
    function openAboutGalleryModal() {
      if (!isLoggedIn) return;
      aboutGalleryModal.style.display = 'flex';
    }
    function closeAboutGalleryModal() {
      aboutGalleryModal.style.display = 'none';
      document.querySelector('#about-gallery-images').value = '';
        reader.readAsDataURL(imageInput.files[0]);
      } else {
        document.querySelector('#preview-image').src = eventModal.dataset.imageSrc || 'images/icons/generic-event.png';
      }
    });
    }

    function saveAboutGalleryImages() {
      if (!isLoggedIn) return;
      const aboutGalleryImagesInput = document.querySelector('#about-gallery-images');
      const aboutGallery = document.querySelector('#about-gallery');
      if (!aboutGalleryImagesInput.files || aboutGalleryImagesInput.files.length === 0) {
        alert('Please select at least one image');
        return;
    document.addEventListener('dragend', (e) => {
      if (e.target.classList.contains('member') || e.target.classList.contains('role')) {
        e.target.style.userSelect = '';
      }
      const files = Array.from(aboutGalleryImagesInput.files);
      aboutGallery.innerHTML = ''; // Clear existing images
      files.forEach(file => {
        const reader = new FileReader();
        reader.onload = function(e) {
          const img = document.createElement('img');
          img.src = e.target.result;
          img.alt = 'About Camp Image';
          img.loading = 'lazy';
          aboutGallery.appendChild(img);
          if (aboutGallery.children.length === files.length) {
            saveChanges();
          }
    });
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        reader.readAsDataURL(file);
      });
      closeAboutGalleryModal();
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    // jQuery-like :contains selector
    // Handle keyboard accessibility for modals
    document.querySelectorAll('.modal').forEach(modal => {
      modal.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          if (modal.id === 'member-modal') closeModal();
          if (modal.id === 'role-modal') closeRoleModal();
          if (modal.id === 'event-modal') closeEventModal();
        }
      });
    });
    window.addEventListener('scroll', debounce(() => {
      const submitSection = document.querySelector('#submit');
      const rect = submitSection.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom > 0) {
        submitSection.classList.add('sticky');
      } else {
        submitSection.classList.remove('sticky');
      }
    }, 100));
    // Focus management for modals
    function trapFocus(modal) {
      const focusableElements = modal.querySelectorAll('input, textarea, button, [tabindex]:not([tabindex="-1"])');
      const firstElement = focusableElements[0];
      const lastElement = focusableElements[focusableElements.length - 1];
      modal.addEventListener('keydown', (e) => {
        if (e.key === 'Tab') {
          if (e.shiftKey && document.activeElement === firstElement) {
            e.preventDefault();
            lastElement.focus();
          } else if (!e.shiftKey && document.activeElement === lastElement) {
            e.preventDefault();
            firstElement.focus();
          }
        }
      });
    // Polyfill for :contains selector
    if (!Element.prototype.matches) {
      Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
    }

    Element.prototype.closest = Element.prototype.closest || function(selector) {
      let el = this;
      while (el && el !== document) {
        if (el.matches(selector)) return el;
        el = el.parentElement;
      }
      return null;
    };
    [memberModal, roleModal, eventModal].forEach(modal => trapFocus(modal));

    document.querySelectorAll('.editable').forEach(element => {
      element.addEventListener('click', function() {
        if (!isLoggedIn) return;
        this.contentEditable = true;
        this.focus();
      });
      element.addEventListener('blur', function() {
        this.contentEditable = false;
        saveChanges();
      });
      element.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          this.blur();
        }
      });
    document.querySelectorAll('h3').forEach(h3 => {
      h3.contains = function(text) {
        return this.textContent.includes(text);
      };
    });
  </script>
</body>
