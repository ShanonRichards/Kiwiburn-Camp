<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Join My Camp - Kiwiburn</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      scroll-behavior: smooth;
      background: linear-gradient(180deg, #f4e4bc 0%, #d9b99b 100%);
      color: #2b1b0f;
    }

    nav {
      position: sticky;
      top: 0;
      background: rgba(44, 29, 15, 0.85);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      z-index: 1000;
      border-bottom: 2px solid #e67e22;
    }

    .nav-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    nav a {
      color: #f8e1b4;
      text-decoration: none;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2rem;
      margin: 5px 15px;
      padding: 10px 15px;
      border-radius: 4px;
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
      text-transform: uppercase;
    }

    nav a:hover {
      background-color: #e67e22;
      color: #2b1b0f;
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .hamburger {
      display: none;
      font-size: 1.5rem;
      color: #f8e1b4;
      background: none;
      border: none;
      cursor: pointer;
      padding: 10px;
    }

    .login-container {
      display: flex;
      justify-content: flex-end;
      padding: 10px 20px;
      background: rgba(44, 29, 15, 0.85);
      border-bottom: 1px solid #e67e22;
      z-index: 999;
    }

    .login-container form {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .login-container input {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #e67e22;
      background: rgba(255, 255, 255, 0.1);
      color: #ffffff;
      font-size: 0.9rem;
    }

    .login-container input::placeholder {
      color: #ffffff;
    }

    .login-container button {
      padding: 8px 12px;
      background-color: #e67e22;
      color: #ffffff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 0.9rem;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .login-container button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .login-container .logout-button {
      display: none;
    }

    .header {
      background: url('images/coverphoto.png') center/cover no-repeat;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #f8e1b4;
      position: relative;
      text-shadow: 3px 3px 12px rgba(0, 0, 0, 0.8);
    }

    .header h1 {
      font-family: 'Bebas Neue', cursive;
      font-size: 5em;
      max-width: 90%;
      letter-spacing: 2px;
      animation: glow 3s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px #e67e22, 0 0 20px #e67e22, 0 0 30px #d35400; }
      to { text-shadow: 0 0 20px #f39c12, 0 0 30px #f39c12, 0 0 40px #e67e22; }
    }

    .scroll-down {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      animation: bounce 2s infinite;
      color: #f8e1b4;
      transition: box-shadow 0.3s;
    }

    .scroll-down:hover {
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translate(-50%, 0); }
      40% { transform: translate(-50%, -10px); }
      60% { transform: translate(-50%, -5px); }
    }

    .section {
      padding: 80px 20px;
      text-align: center;
      background: url('images/dusty-texture.png') center/cover;
      border-top: 1px solid #e67e22;
      border-bottom: 1px solid #e67e22;
    }

    .section:nth-of-type(odd) {
      background-color: rgba(244, 228, 188, 0.8);
    }

    .section:nth-of-type(even) {
      background-color: rgba(217, 185, 155, 0.8);
    }

    .section h1, .section h2 {
      font-family: 'Bebas Neue', cursive;
      font-size: 3em;
      margin-bottom: 20px;
      color: #2b1b0f;
      letter-spacing: 1px;
    }

    .section p {
      font-size: 1.1em;
      max-width: 800px;
      margin: 0 auto 30px auto;
      line-height: 1.6;
      color: #2b1b0f;
    }

    ul {
      list-style: none;
      padding: 0;
      font-size: 1.1em;
    }

    li {
      margin: 10px 0;
    }

    .gallery, .about-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      max-width: 1000px;
      margin: 0 auto;
      padding-top: 20px;
    }

    .gallery img, .about-gallery img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 2px solid #e67e22;
      loading: lazy;
    }

    .gallery img:hover, .about-gallery img:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 15px rgba(230, 126, 34, 0.5);
    }

    .gallery img.draggable, .about-gallery img.draggable {
      cursor: move;
    }

    .gallery img.delete-enabled::after, .about-gallery img.delete-enabled::after {
      content: '×';
      position: absolute;
      top: 5px;
      right: 5px;
      background: rgba(44, 29, 15, 0.7);
      color: #f8e1b4;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9em;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
    }

    .gallery img.delete-enabled:hover::after, .about-gallery img.delete-enabled:hover::after {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .members-grid, .roles-grid, .events-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 40px auto 0 auto;
      justify-items: center;
      align-items: start;
      position: relative;
      min-height: 200px;
    }

    .scroll-arrow {
      display: none;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: #f8e1b4;
      background: rgba(44, 29, 15, 0.7);
      padding: 10px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      transition: background 0.3s, box-shadow 0.3s;
      animation: flash 1.5s infinite;
    }

    @keyframes flash {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .scroll-arrow:hover {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .scroll-arrow.left {
      left: 10px;
    }

    .scroll-arrow.right {
      right: 10px;
    }

    .member, .role, .event {
      text-align: center;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border: 1px solid #e67e22;
      box-sizing: border-box;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
      border-radius: 8px;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.5s ease forwards;
    }

    .role.unfilled {
      display: none;
    }

    .logged-in .role.unfilled {
      display: flex;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .event.edited {
      animation: highlight 1s ease;
    }

    @keyframes highlight {
      0% { background: rgba(230, 126, 34, 0.5); }
      100% { background: rgba(255, 255, 255, 0.1); }
    }

    .member:hover, .role:hover, .event:hover {
      transform: scale(1.03);
      box-shadow: 0 6px 15px rgba(230, 126, 34, 0.5);
    }

    .member img, .role img {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      margin-bottom: 10px;
      border: 3px solid #f39c12;
      loading: lazy;
    }

    .event img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 15px;
      border: 2px solid #f39c12;
      loading: lazy;
    }

    .member.camp-lead, .member.deputy-lead {
      position: relative;
    }

    .member.camp-lead::before {
      content: '👑';
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      color: #FFD700;
      z-index: 10;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .member.deputy-lead::before {
      content: '👑';
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      color: #C0C0C0;
      z-index: 10;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .member h3, .role h3, .event h3 {
      margin: 10px 0 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.5em;
      color: #000000;
      line-height: 1.2;
    }

    .editable[contenteditable="true"] {
      border: 1px solid #e67e22;
      background: rgba(255, 255, 255, 0.2);
      padding: 5px;
      border-radius: 5px;
    }

    .member span {
      font-weight: bold;
      color: #e67e22;
      display: block;
      font-size: 1.2em;
      margin-bottom: 5px;
      line-height: 1.3;
    }

    .member p, .role p, .event p {
      font-size: 1em;
      color: #000000;
      margin: 5px 0;
      line-height: 1.4;
      max-width: 90%;
    }

    .event-date, .event-end-date {
      font-size: 0.9em;
      color: #e67e22;
      margin-top: 10px;
    }

    .event-category {
      display: inline-block;
      background: #e67e22;
      color: #2b1b0f;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 0.8em;
      margin-top: 10px;
    }

    .event-badge {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #f39c12;
      color: #2b1b0f;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 0.8em;
      font-family: 'Bebas Neue', cursive;
    }

    .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button {
      display: none;
      position: absolute;
      top: 5px;
      right: 5px;
      background: rgba(44, 29, 15, 0.7);
      color: #f8e1b4;
      border: none;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 0.9em;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
    }

    .event .edit-button {
      right: 35px;
    }

    .member .delete-button:hover, .role .delete-button:hover, .event .edit-button:hover, .event .delete-button:hover {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .logged-in .member .delete-button, .logged-in .role .delete-button, .logged-in .event .edit-button, .logged-in .event .delete-button {
      display: block;
    }

    .role .apply-button {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 12px;
      background-color: #e67e22;
      color: #2b1b0f;
      text-decoration: none;
      border-radius: 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 0.9em;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .role .apply-button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .role .tooltip {
      visibility: hidden;
      width: 200px;
      background-color: #2b1b0f;
      color: #f8e1b4;
      text-align: center;
      border-radius: 8px;
      padding: 12px;
      position: absolute;
      z-index: 10;
      top: -10px;
      left: 50%;
      transform: translate(-50%, -100%);
      opacity: 0;
      transition: opacity 0.3s, transform 0.3s;
      font-size: 0.9em;
      font-family: 'Montserrat', sans-serif;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      border: 2px solid #f39c12;
    }

    .role:hover .tooltip {
      visibility: visible;
      opacity: 1;
      transform: translate(-50%, -110%);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border-radius: 10px;
      max-width: 400px;
      width: 90%;
      text-align: center;
      border: 2px solid #e67e22;
      position: relative;
      overflow: auto;
      max-height: 90vh;
    }

    .modal-content h3 {
      font-family: 'Bebas Neue', cursive;
      color: #2b1b0f;
      margin-bottom: 20px;
    }

    .modal-content input, .modal-content textarea, .modal-content select {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid #e67e22;
      background: rgba(255, 255, 255, 0.1);
      color: #2b1b0f;
    }

    .modal-content input[type="file"] {
      background: none;
      border: none;
      padding: 5px;
    }

    .modal-content button {
      padding: 10px 20px;
      background-color: #e67e22;
      color: #2b1b0f;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1em;
      transition: background-color 0.3s, box-shadow 0.3s;
      margin: 0 10px;
    }

    .modal-content button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .modal-content .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      font-size: 1.2em;
      padding: 5px 10px;
    }

    .event-preview {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid #e67e22;
      border-radius: 8px;
      text-align: left;
    }

    .event-preview img {
      width: 100%;
      height: 100px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 10px;
    }

    .event-preview h3 {
      font-size: 1.2em;
      margin: 10px 0 5px;
    }

    .event-preview p {
      font-size: 0.9em;
      margin: 5px 0;
    }

    .event-preview .event-date, .event-preview .event-end-date {
      font-size: 0.8em;
      color: #e67e22;
    }

    .event-preview .event-category {
      font-size: 0.8em;
      background: #e67e22;
      color: #2b1b0f;
      padding: 5px 10px;
      border-radius: 5px;
    }

    .events-grid {
      grid-template-columns: repeat(4, 1fr);
      gap: 30px;
    }

    #event-filter {
      padding: 10px;
      margin-bottom: 20px;
      border-radius: 5px;
      border: 1px solid #e67e22;
      background: rgba(255, 255, 255, 0.1);
      color: #2b1b0f;
      font-family: 'Montserrat', sans-serif;
      font-size: 1em;
    }

    .countdown {
      font-family: 'Bebas Neue', cursive;
      font-size: 2em;
      font-weight: bold;
      color: #f8e1b4;
      margin-top: 20px;
    }

    footer {
      text-align: center;
      padding: 30px;
      background-color: #2b1b0f;
      color: #f8e1b4;
      border-top: 2px solid #e67e22;
    }

    .form-container {
      text-align: left;
      max-width: 500px;
      margin: 0 auto;
    }

    .form-container input,
    .form-container textarea,
    .form-container select {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid #e67e22;
      font-size: 1rem;
      box-sizing: border-box;
      background: rgba(255, 255, 255, 0.1);
      color: #2b1b0f;
    }

    .form-container button {
      padding: 12px 20px;
      background-color: #e67e22;
      color: #2b1b0f;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2em;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .form-container button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .contact-lead {
      padding: 40px 20px;
      background-color: #2b1b0f;
      color: #f8e1b4;
      text-align: center;
      border-top: 2px solid #e67e22;
      border-bottom: 2px solid #e67e22;
    }

    .contact-lead a {
      color: #f39c12;
      font-size: 1.2em;
      text-decoration: none;
      font-family: 'Bebas Neue', cursive;
      transition: box-shadow 0.3s;
    }

    .contact-lead a:hover {
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .submit-button, .add-role-button, .edit-gallery-button, .edit-about-images-button {
      display: inline-block;
      padding: 12px 20px;
      background-color: #e67e22;
      color: #2b1b0f;
      text-decoration: none;
      border-radius: 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2em;
      transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
    }

    .submit-button:hover, .add-role-button:hover, .edit-gallery-button:hover, .edit-about-images-button:hover {
      background-color: #f39c12;
      color: #2b1b0f;
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .submit-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid #e67e22;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      margin: 40px auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .about-container, .mission-container, .members-container, .gallery-container, .newsletter-container {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid #e67e22;
      border-radius: 10px;
      padding: 40px 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .newsletter-section {
      padding: 80px 20px;
      background-color: rgba(244, 228, 188, 0.8);
      text-align: center;
    }

    .newsletter-container .section {
      padding: 0;
    }

    .save-button {
      padding: 10px 20px;
      background-color: #e67e22;
      color: #2b1b0f;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1em;
      transition: background-color 0.3s, box-shadow 0.3s;
      margin: 20px auto;
      display: block;
    }

    .save-button:hover {
      background-color: #f39c12;
      box-shadow: 0 0 20px rgba(230, 126, 34, 0.7);
    }

    .roles-container {
      max-width: 1200px;
      margin: 40px auto 0 auto;
      padding: 20px;
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid #e67e22;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .roles-empty {
      text-align: center;
      padding: 20px;
    }

    .roles-empty p {
      font-size: 1.1em;
      color: #2b1b0f;
      margin-bottom: 20px;
    }

    @media only screen and (max-width: 912px) {
      .hamburger {
        display: block;
      }

      nav {
        flex-direction: column;
        align-items: flex-start;
        padding: 10px;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background: rgba(44, 29, 15, 0.9);
        padding: 10px 0;
      }

      .nav-links.active {
        display: flex;
      }

      nav a {
        margin: 5px 0;
        font-size: 1rem;
        padding: 10px;
        text-align: center;
      }

      .login-container {
        padding: 10px;
      }

      .login-container form {
        flex-direction: column;
        gap: 5px;
      }

      .login-container input, .login-container button {
        font-size: 0.8rem;
        padding: 6px;
        width: 100%;
        box-sizing: border-box;
      }

      .header {
        height: 70vh;
      }

      .header h1 {
        font-size: 3em;
      }

      .scroll-down {
        font-size: 1.2rem;
      }

      .section {
        padding: 40px 15px;
      }

      .section h1, .section h2 {
        font-size: 2em;
      }

      .section p {
        font-size: 1em;
        max-width: 95%;
      }

      .gallery, .about-gallery {
        grid-template-columns: 1fr;
        gap: 15px;
        max-width: 95%;
      }

      .members-grid, .roles-grid {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        gap: 15px;
        max-width: 95%;
        padding: 0 10px;
        scroll-snap-type: x mandatory;
      }

      .members-grid .scroll-arrow, .roles-grid .scroll-arrow {
        display: block;
      }

      .member, .role {
        flex: 0 0 140px;
        scroll-snap-align: start;
        min-height: 240px;
        padding: 10px;
      }

      .member img, .role img {
        width: 80px;
        height: 80px;
      }

      .member.camp-lead::before, .member.deputy-lead::before {
        font-size: 1.2rem;
        top: -15px;
      }

      .member h3, .role h3 {
        font-size: 1.3em;
      }

      .member span {
        font-size: 1.1em;
      }

      .member p, .role p {
        font-size: 0.9em;
      }

      .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button {
        width: 20px;
        height: 20px;
        font-size: 0.8em;
      }

      .event .edit-button {
        right: 30px;
      }

      .role .tooltip {
        width: 160px;
        font-size: 0.85em;
      }

      .role .apply-button {
        font-size: 0.8em;
        padding: 6px 10px;
      }

      .events-grid {
        grid-template-columns: 1fr;
        gap: 20px;
        max-width: 95%;
      }

      .event img {
        height: 150px;
      }

      .event h3 {
        font-size: 1.4em;
      }

      .event p {
        font-size: 0.95em;
      }

      .countdown {
        font-size: 1.5em;
      }

      .form-container {
        max-width: 95%;
      }

      .submit-section, .newsletter-container {
        max-width: 95%;
        padding: 15px;
      }

      .submit-button, .add-role-button, .edit-gallery-button, .edit-about-images-button {
        font-size: 1em;
        padding: 10px 15px;
      }

      .contact-lead {
        padding: 30px 15px;
      }

      .contact-lead a {
        font-size: 1em;
      }

      .about-container, .mission-container, .members-container, .gallery-container, .newsletter-container, .roles-container {
        max-width: 95%;
        padding: 20px 15px;
      }

      .event-preview img {
        height: 80px;
      }
    }

    @media only screen and (max-width: 480px) {
      .header h1 {
        font-size: 2.2em;
      }

      .section h1, .section h2 {
        font-size: 1.6em;
      }

      .section p {
        font-size: 0.9em;
      }

      .members-grid, .roles-grid {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        gap: 10px;
        padding: 0 5px;
        scroll-snap-type: x mandatory;
      }

      .member, .role {
        flex: 0 0 120px;
        scroll-snap-align: start;
        min-height: 200px;
        padding: 8px;
      }

      .member img, .role img {
        width: 60px;
        height: 60px;
      }

      .member h3, .role h3 {
        font-size: 1.1em;
      }

      .member span {
        font-size: 1em;
      }

      .member p, .role p {
        font-size: 0.85em;
      }

      .member.camp-lead::before, .member.deputy-lead::before {
        font-size: 1rem;
        top: -12px;
      }

      .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button {
        width: 18px;
        height: 18px;
        font-size: 0.7em;
      }

      .event .edit-button {
        right: 25px;
      }

      .role .tooltip {
        width: 140px;
        font-size: 0.8em;
        padding: 8px;
      }

      .role .apply-button {
        font-size: 0.7em;
        padding: 5px 8px;
      }

      .countdown {
        font-size: 1.2em;
      }

      .newsletter-container h2 {
        font-size: 1.5em;
      }

      .newsletter-container p {
        font-size: 0.9em;
      }

      .event img {
        height: 120px;
      }

      .hamburger {
        font-size: 1.2rem;
      }

      .login-container input, .login-container button {
        font-size: 0.7em;
        padding: 5px;
      }

      .event-preview img {
        height: 60px;
      }
    }
  </style>
</head>
<body>
  <nav>
    <button class="hamburger" aria-label="Toggle menu">☰</button>
    <div class="nav-links">
      <a href="#about">About</a>
      <a href="#mission">Mission</a>
      <a href="#members">Members</a>
      <a href="#roles">Roles</a>
      <a href="#events">Past Events</a>
      <a href="#gallery">Gallery</a>
      <a href="#newsletter">Newsletter</a>
    </div>
  </nav>

  <div class="login-container">
    <form id="login-form">
      <label for="username">Username</label>
      <input type="text" id="username" placeholder="Username" required />
      <label for="password">Password</label>
      <input type="password" id="password" placeholder="Password" required />
      <button type="submit">Login</button>
      <button type="button" class="logout-button">Logout</button>
    </form>
  </div>

  <header class="header" id="home">
    <h1>Join Our Camp at Kiwiburn!</h1>
    <a href="#about" class="scroll-down">↓</a>
  </header>

  <section class="section" id="about">
    <div class="about-container">
      <h1>About Our Camp</h1>
      <p class="editable" contenteditable="false">
        Our camp is a vibrant community at Kiwiburn, New Zealand’s regional Burning Man event. We create an inclusive space filled with art, music, and connection, welcoming burners of all experience levels to join us in radical self-expression and communal effort.
      </p>
      <div class="about-gallery" id="about-gallery">
        <!-- About images populated by JS -->
      </div>
      <button class="edit-about-images-button" style="display: none;">Edit About Images</button>
    </div>
  </section>

  <section class="section" id="mission">
    <div class="mission-container">
      <h1>Our Mission</h1>
      <p class="editable" contenteditable="false">
        We aim to foster creativity, collaboration, and sustainability, embodying the 10 Principles of Burning Man. Our camp is a hub for workshops, performances, and shared experiences, leaving a positive impact on the Kiwiburn community.
      </p>
    </div>
  </section>

  <section class="section" id="members">
    <div class="members-container">
      <h1>Meet Our Members</h1>
      <div class="members-grid" id="members-grid">
        <div class="member camp-lead">
          <img src="images/camp-lead.jpg" alt="Camp Lead Alex" loading="lazy" />
          <h3 class="editable" contenteditable="false">Alex</h3>
          <span>Camp Lead</span>
          <p class="editable" contenteditable="false">Guides the camp with passion and vision.</p>
          <button class="delete-button" aria-label="Delete member">×</button>
        </div>
        <div class="member deputy-lead">
          <img src="images/deputy-lead.jpg" alt="Deputy Lead Sam" loading="lazy" />
          <h3 class="editable" contenteditable="false">Sam</h3>
          <span>Deputy Lead</span>
          <p class="editable" contenteditable="false">Supports camp operations and community.</p>
          <button class="delete-button" aria-label="Delete member">×</button>
        </div>
      </div>
    </div>
  </section>

  <section class="section" id="roles">
    <div class="roles-container">
      <h1>Open Roles</h1>
      <div class="roles-grid" id="roles-grid">
        <div class="role">
          <img src="images/art-coordinator.jpg" alt="Art Coordinator Role" loading="lazy" />
          <h3 class="editable" contenteditable="false">Art Coordinator</h3>
          <p class="editable" contenteditable="false">Curates art installations and workshops.</p>
          <div class="tooltip">Organize and promote art projects for the camp.</div>
          <a href="mailto:camp@kiwiburn.com?subject=Art Coordinator Application" class="apply-button">Apply</a>
          <button class="delete-button" aria-label="Delete role">×</button>
        </div>
        <div class="role unfilled">
          <img src="images/generic-role.png" alt="Event Planner Role" loading="lazy" />
          <h3 class="editable" contenteditable="false">Event Planner</h3>
          <p class="editable" contenteditable="false">Plans camp events and schedules.</p>
          <div class="tooltip">Coordinate events and manage schedules.</div>
          <a href="mailto:camp@kiwiburn.com?subject=Event Planner Application" class="apply-button">Apply</a>
          <button class="delete-button" aria-label="Delete role">×</button>
        </div>
      </div>
      <div class="scroll-arrow left" role="button" tabindex="0" aria-label="Scroll left">←</div>
      <div class="scroll-arrow right" role="button" tabindex="0" aria-label="Scroll right">→</div>
      <button class="add-role-button" style="display: none;">Add Role</button>
    </div>
  </section>

  <section class="section" id="events">
    <div class="events-container">
      <h1>Past Events</h1>
      <select id="event-filter">
        <option value="all">All Categories</option>
        <option value="Workshop">Workshop</option>
        <option value="Performance">Performance</option>
        <option value="Social">Social</option>
      </select>
      <div class="events-grid" id="events-grid">
        <!-- Events populated by JS -->
      </div>
    </div>
  </section>

  <section class="submit-section" id="submit-event">
    <h2>Submit Your Event</h2>
    <p>Got an idea for a camp event? Share it with us!</p>
    <a href="#event-modal" class="submit-button" onclick="openEventModal()">Submit Your Event</a>
  </section>

  <section class="section" id="gallery">
    <div class="gallery-container">
      <h1>Gallery</h1>
      <div class="gallery" id="gallery">
        <!-- Gallery images populated by JS -->
      </div>
      <button class="edit-gallery-button" style="display: none;">Edit Gallery</button>
    </div>
  </section>

  <section class="newsletter-section" id="newsletter">
    <div class="newsletter-container">
      <h1>Join Our Newsletter</h1>
      <p>Stay updated with camp news and events!</p>
      <div class="form-container">
        <form id="newsletter-form">
          <label for="name">Name</label>
          <input type="text" id="name" placeholder="Your Name" required />
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="Your Email" required />
          <button type="submit">Subscribe</button>
        </form>
      </div>
    </div>
  </section>

  <div class="contact-lead">
    <p>Questions? Contact our camp lead at <a href="mailto:camp@kiwiburn.com">camp@kiwiburn.com</a></p>
  </div>

  <footer>
    <p>© 2025 Kiwiburn Camp. All rights reserved.</p>
  </footer>

  <!-- Event Modal -->
  <div class="modal" id="event-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeEventModal()" aria-label="Close modal">×</button>
      <h3>Add/Edit Event</h3>
      <label for="event-title">Event Title</label>
      <input type="text" id="event-title" placeholder="Event Title" required />
      <label for="event-description">Event Description</label>
      <textarea id="event-description" placeholder="Event Description" required></textarea>
      <label for="event-datetime">Start Date & Time</label>
      <input type="datetime-local" id="event-datetime" required />
      <label for="event-end-datetime">End Date & Time (Optional)</label>
      <input type="datetime-local" id="event-end-datetime" placeholder="End Date & Time" />
      <label for="event-category">Category</label>
      <select id="event-category" required>
        <option value="" disabled selected>Select Category</option>
        <option value="Workshop">Workshop</option>
        <option value="Performance">Performance</option>
        <option value="Social">Social</option>
      </select>
      <label for="event-image">Event Image (Optional)</label>
      <input type="file" id="event-image" accept="image/*" />
      <div class="event-preview" id="event-preview" style="display: none;">
        <img id="preview-image" src="#" alt="Event Preview" />
        <h3 id="preview-title"></h3>
        <p id="preview-description"></p>
        <p class="event-date" id="preview-datetime"></p>
        <p class="event-end-date" id="preview-end-datetime"></p>
        <span class="event-category" id="preview-category"></span>
      </div>
      <button onclick="saveEventDetails()">Save Event</button>
    </div>
  </div>

  <!-- Role Modal -->
  <div class="modal" id="role-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeRoleModal()" aria-label="Close modal">×</button>
      <h3>Add Role</h3>
      <label for="role-title">Role Title</label>
      <input type="text" id="role-title" placeholder="Role Title" required />
      <label for="role-description">Role Description</label>
      <textarea id="role-description" placeholder="Role Description" required></textarea>
      <label for="role-image">Role Image (Optional)</label>
      <input type="file" id="role-image" accept="image/*" />
      <button onclick="saveRole()">Save Role</button>
    </div>
  </div>

  <!-- Gallery Modal -->
  <div class="modal" id="gallery-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeGalleryModal()" aria-label="Close modal">×</button>
      <h3>Edit Gallery</h3>
      <label for="gallery-images">Gallery Images</label>
      <input type="file" id="gallery-images" accept="image/*" multiple />
      <div class="gallery" id="gallery-preview">
        <!-- Preview images populated by JS -->
      </div>
      <button onclick="saveGallery()">Save Gallery</button>
    </div>
  </div>

  <!-- About Images Modal -->
  <div class="modal" id="about-images-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeAboutImagesModal()" aria-label="Close modal">×</button>
      <h3>Edit About Images</h3>
      <label for="about-images">About Images</label>
      <input type="file" id="about-images" accept="image/*" multiple />
      <div class="about-gallery" id="about-images-preview">
        <!-- Preview images populated by JS -->
      </div>
      <button onclick="saveAboutImages()">Save About Images</button>
    </div>
  </div>

  <script>
    let isLoggedIn = false;
    let editingEvent = null;
    const hashedCredentials = btoa('admin:kiwiburn2025'); // Temporary obfuscation, not secure for production

    // Helper functions for localStorage
    function saveToLocalStorage(key, value) {
      try {
        localStorage.setItem(key, JSON.stringify(value));
      } catch (e) {
        console.error('Failed to save to localStorage:', e);
        alert('Unable to save changes due to browser restrictions.');
      }
    }

    function getFromLocalStorage(key) {
      try {
        return JSON.parse(localStorage.getItem(key) || '[]');
      } catch (e) {
        console.error('Failed to retrieve from localStorage:', e);
        return [];
      }
    }

    // File validation
    function validateImage(file, maxSizeMB = 5) {
      const allowedTypes = ['image/jpeg', 'image/png', 'image/webp'];
      if (!file) return true; // Image is optional
      if (!allowedTypes.includes(file.type)) {
        alert('Please upload a valid image (JPEG, PNG, or WebP).');
        return false;
      }
      if (file.size > maxSizeMB * 1024 * 1024) {
        alert(`File size must be less than ${maxSizeMB}MB.`);
        return false;
      }
      return true;
    }

    // Hamburger menu toggle
    document.querySelector('.hamburger').addEventListener('click', () => {
      document.querySelector('.nav-links').classList.toggle('active');
    });

    // Login handling
    document.getElementById('login-form').addEventListener('submit', (e) => {
      e.preventDefault();
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      if (btoa(`${username}:${password}`) === hashedCredentials) {
        isLoggedIn = true;
        document.body.classList.add('logged-in');
        document.querySelector('.login-container form').style.display = 'none';
        document.querySelector('.logout-button').style.display = 'block';
        enableAdminFeatures();
      } else {
        alert('Invalid credentials');
      }
    });

    // Logout handling
    document.querySelector('.logout-button').addEventListener('click', () => {
      isLoggedIn = false;
      document.body.classList.remove('logged-in');
      document.querySelector('.login-container form').style.display = 'flex';
      document.querySelector('.logout-button').style.display = 'none';
      disableAdminFeatures();
    });

    // Enable admin features
    function enableAdminFeatures() {
      document.querySelectorAll('.editable').forEach(el => el.contentEditable = true);
      document.querySelector('.add-role-button').style.display = 'block';
      document.querySelector('.edit-gallery-button').style.display = 'block';
      document.querySelector('.edit-about-images-button').style.display = 'block';
      loadGallery();
      loadAboutImages();
    }

    // Disable admin features
    function disableAdminFeatures() {
      document.querySelectorAll('.editable').forEach(el => el.contentEditable = false);
      document.querySelector('.add-role-button').style.display = 'none';
      document.querySelector('.edit-gallery-button').style.display = 'none';
      document.querySelector('.edit-about-images-button').style.display = 'none';
    }

    // Save content changes
    document.querySelectorAll('.editable').forEach(el => {
      el.addEventListener('blur', () => {
        if (isLoggedIn) {
          saveToLocalStorage(el.id || el.textContent, el.textContent);
        }
      });
    });

    // Load saved content
    document.querySelectorAll('.editable').forEach(el => {
      const saved = getFromLocalStorage(el.id || el.textContent);
      if (saved) el.textContent = saved;
    });

    // Event delegation for delete and edit buttons
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('delete-button') && isLoggedIn) {
        if (confirm('Are you sure you want to delete this item?')) {
          e.target.parentElement.remove();
          if (e.target.closest('.event')) saveEvents();
        }
      }
      if (e.target.classList.contains('edit-button') && isLoggedIn) {
        openEventModal(e.target.parentElement);
      }
    });

    // Scroll arrows for members and roles
    ['members-grid', 'roles-grid'].forEach(gridId => {
      const grid = document.getElementById(gridId);
      const leftArrow = grid.parentElement.querySelector('.scroll-arrow.left');
      const rightArrow = grid.parentElement.querySelector('.scroll-arrow.right');
      if (leftArrow && rightArrow) {
        leftArrow.addEventListener('click', () => grid.scrollBy({ left: -150, behavior: 'smooth' }));
        rightArrow.addEventListener('click', () => grid.scrollBy({ left: 150, behavior: 'smooth' }));
        [leftArrow, rightArrow].forEach(arrow => {
          arrow.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              arrow.click();
            }
          });
        });
      }
    });

    // Event modal handling
    function openEventModal(event = null) {
      editingEvent = event;
      const modal = document.getElementById('event-modal');
      const inputs = modal.querySelectorAll('input, textarea, select');
      if (event) {
        document.getElementById('event-title').value = event.querySelector('h3').textContent;
        document.getElementById('event-description').value = event.querySelector('p').textContent;
        const date = new Date(event.querySelector('.event-date').textContent);
        document.getElementById('event-datetime').value = date.toISOString().slice(0, 16);
        const endDate = event.querySelector('.event-end-date')?.textContent;
        if (endDate) {
          document.getElementById('event-end-datetime').value = new Date(endDate).toISOString().slice(0, 16);
        }
        document.getElementById('event-category').value = event.querySelector('.event-category').textContent;
        updateEventPreview();
      } else {
        inputs.forEach(input => input.value = '');
        document.getElementById('event-preview').style.display = 'none';
      }
      modal.style.display = 'flex';
    }

    function closeEventModal() {
      document.getElementById('event-modal').style.display = 'none';
      editingEvent = null;
    }

    // Event preview update
    document.getElementById('event-image').addEventListener('change', updateEventPreview);
    document.getElementById('event-title').addEventListener('input', updateEventPreview);
    document.getElementById('event-description').addEventListener('input', updateEventPreview);
    document.getElementById('event-datetime').addEventListener('input', updateEventPreview);
    document.getElementById('event-end-datetime').addEventListener('input', updateEventPreview);
    document.getElementById('event-category').addEventListener('change', updateEventPreview);

    function updateEventPreview() {
      const preview = document.getElementById('event-preview');
      const image = document.getElementById('event-image').files[0];
      const title = document.getElementById('event-title').value;
      const description = document.getElementById('event-description').value;
      const datetime = document.getElementById('event-datetime').value;
      const endDatetime = document.getElementById('event-end-datetime').value;
      const category = document.getElementById('event-category').value;

      if (title || description || datetime || category) {
        preview.style.display = 'block';
        document.getElementById('preview-title').textContent = title || 'Event Title';
        document.getElementById('preview-description').textContent = description || 'Event Description';
        document.getElementById('preview-datetime').textContent = datetime ? new Date(datetime).toLocaleString() : '';
        document.getElementById('preview-end-datetime').textContent = endDatetime ? new Date(endDatetime).toLocaleString() : '';
        document.getElementById('preview-category').textContent = category || 'Category';
        if (image) {
          const reader = new FileReader();
          reader.onload = () => document.getElementById('preview-image').src = reader.result;
          reader.readAsDataURL(image);
        } else {
          document.getElementById('preview-image').src = editingEvent?.querySelector('img')?.src || 'images/default-event.jpg';
        }
      } else {
        preview.style.display = 'none';
      }
    }

    // Save event details
    function saveEventDetails() {
      const title = document.getElementById('event-title').value;
      const description = document.getElementById('event-description').value;
      const datetime = document.getElementById('event-datetime').value;
      const endDatetime = document.getElementById('event-end-datetime').value;
      const category = document.getElementById('event-category').value;
      const image = document.getElementById('event-image').files[0];

      if (!title || !description || !datetime || !category) {
        alert('Please fill in all required fields');
        return;
      }
      if (image && !validateImage(image)) return;

      const eventDiv = editingEvent || document.createElement('div');
      eventDiv.className = 'event';
      if (!editingEvent) {
        eventDiv.dataset.id = Date.now();
      }

      const img = eventDiv.querySelector('img') || document.createElement('img');
      if (image) {
        const reader = new FileReader();
        reader.onload = () => {
          img.src = reader.result;
          saveEvents();
        };
        reader.readAsDataURL(image);
      } else {
        img.src = editingEvent?.querySelector('img')?.src || 'images/default-event.jpg';
      }
      img.alt = title || 'Event Image';
      img.loading = 'lazy';

      eventDiv.innerHTML = `
        <span class="event-badge">${new Date().toLocaleDateString()}</span>
        ${img.outerHTML}
        <h3 class="editable" contenteditable="${isLoggedIn}">${title}</h3>
        <p class="editable" contenteditable="${isLoggedIn}">${description}</p>
        <p class="event-date">${new Date(datetime).toLocaleString()}</p>
        ${endDatetime ? `<p class="event-end-date">${new Date(endDatetime).toLocaleString()}</p>` : ''}
        <span class="event-category">${category}</span>
        <button class="edit-button" aria-label="Edit event">✎</button>
        <button class="delete-button" aria-label="Delete event">×</button>
      `;

      if (!editingEvent) {
        document.getElementById('events-grid').prepend(eventDiv);
      }
      eventDiv.classList.add('edited');
      saveEvents();
      closeEventModal();
    }

    // Save events to localStorage
    function saveEvents() {
      const events = [];
      document.querySelectorAll('.event').forEach(event => {
        events.push({
          id: event.dataset.id,
          title: event.querySelector('h3').textContent,
          description: event.querySelector('p').textContent,
          datetime: event.querySelector('.event-date').textContent,
          endDatetime: event.querySelector('.event-end-date')?.textContent || '',
          category: event.querySelector('.event-category').textContent,
          image: event.querySelector('img').src,
          badge: event.querySelector('.event-badge').textContent
        });
      });
      saveToLocalStorage('events', events);
    }

    // Load events from localStorage
    function loadEvents() {
      const events = getFromLocalStorage('events');
      const grid = document.getElementById('events-grid');
      grid.innerHTML = '';
      events.forEach(event => {
        const eventDiv = document.createElement('div');
        eventDiv.className = 'event';
        eventDiv.dataset.id = event.id;
        eventDiv.innerHTML = `
          <span class="event-badge">${event.badge}</span>
          <img src="${event.image}" alt="${event.title || 'Event Image'}" loading="lazy" />
          <h3 class="editable" contenteditable="${isLoggedIn}">${event.title}</h3>
          <p class="editable" contenteditable="${isLoggedIn}">${event.description}</p>
          <p class="event-date">${event.datetime}</p>
          ${event.endDatetime ? `<p class="event-end-date">${event.endDatetime}</p>` : ''}
          <span class="event-category">${event.category}</span>
          <button class="edit-button" aria-label="Edit event">✎</button>
          <button class="delete-button" aria-label="Delete event">×</button>
        `;
        grid.appendChild(eventDiv);
      });
    }

    // Event filter
    document.getElementById('event-filter').addEventListener('change', (e) => {
      const category = e.target.value;
      document.querySelectorAll('.event').forEach(event => {
        const eventCategory = event.querySelector('.event-category').textContent;
        event.style.display = category === 'all' || eventCategory === category ? 'flex' : 'none';
      });
    });

    // Role modal handling
    function openRoleModal() {
      document.getElementById('role-modal').style.display = 'flex';
    }

    function closeRoleModal() {
      document.getElementById('role-modal').style.display = 'none';
    }

    document.querySelector('.add-role-button').addEventListener('click', openRoleModal);

    // Save role
    function saveRole() {
      const title = document.getElementById('role-title').value;
      const description = document.getElementById('role-description').value;
      const image = document.getElementById('role-image').files[0];

      if (!title || !description) {
        alert('Please fill in all required fields');
        return;
      }
      if (image && !validateImage(image)) return;

      const roleDiv = document.createElement('div');
      roleDiv.className = 'role';
      const img = document.createElement('img');
      img.alt = title || 'Role Image';
      img.loading = 'lazy';

      if (image) {
        const reader = new FileReader();
        reader.onload = () => {
          img.src = reader.result;
          roleDiv.appendChild(img);
        };
        reader.readAsDataURL(image);
      } else {
        img.src = 'images/generic-role.png';
        roleDiv.classList.add('unfilled');
      }

      roleDiv.innerHTML = `
        ${img.outerHTML}
        <h3 class="editable" contenteditable="${isLoggedIn}">${title}</h3>
        <p class="editable" contenteditable="${isLoggedIn}">${description}</p>
        <div class="tooltip">${description}</div>
        <a href="mailto:camp@kiwiburn.com?subject=${title} Application" class="apply-button">Apply</a>
        <button class="delete-button" aria-label="Delete role">×</button>
      `;

      document.getElementById('roles-grid').appendChild(roleDiv);
      closeRoleModal();
    }

    // Gallery modal handling
    function openGalleryModal() {
      document.getElementById('gallery-modal').style.display = 'flex';
      loadGalleryPreview();
    }

    function closeGalleryModal() {
      document.getElementById('gallery-modal').style.display = 'none';
    }

    document.querySelector('.edit-gallery-button').addEventListener('click', openGalleryModal);

    // Load gallery images
    function loadGallery() {
      const gallery = getFromLocalStorage('gallery');
      const galleryDiv = document.getElementById('gallery');
      galleryDiv.innerHTML = '';
      gallery.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        img.alt = 'Gallery Image';
        img.loading = 'lazy';
        galleryDiv.appendChild(img);
      });
    }

    // Load gallery preview in modal
    function loadGalleryPreview() {
      const gallery = getFromLocalStorage('gallery');
      const preview = document.getElementById('gallery-preview');
      preview.innerHTML = '';
      gallery.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        img.alt = 'Gallery Image';
        img.className = 'draggable';
        if (isLoggedIn) img.classList.add('delete-enabled');
        img.draggable = true;
        img.addEventListener('dragstart', dragStart);
        img.addEventListener('dragover', dragOver);
        img.addEventListener('drop', drop);
        img.addEventListener('click', (e) => {
          if (isLoggedIn && e.target.classList.contains('delete-enabled')) {
            e.target.remove();
          }
        });
        preview.appendChild(img);
      });
    }

    // Save gallery
    function saveGallery() {
      const images = document.getElementById('gallery-images').files;
      const gallery = Array.from(document.getElementById('gallery-preview').querySelectorAll('img')).map(img => img.src);
      Array.from(images).forEach(image => {
        if (!validateImage(image)) return;
        const reader = new FileReader();
        reader.onload = () => {
          gallery.push(reader.result);
          saveToLocalStorage('gallery', gallery);
          loadGallery();
        };
        reader.readAsDataURL(image);
      });
      saveToLocalStorage('gallery', gallery);
      loadGallery();
      closeGalleryModal();
    }

    // About images modal handling
    function openAboutImagesModal() {
      document.getElementById('about-images-modal').style.display = 'flex';
      loadAboutImagesPreview();
    }

    function closeAboutImagesModal() {
      document.getElementById('about-images-modal').style.display = 'none';
    }

    document.querySelector('.edit-about-images-button').addEventListener('click', openAboutImagesModal);

    // Load about images
    function loadAboutImages() {
      const images = getFromLocalStorage('aboutImages');
      const galleryDiv = document.getElementById('about-gallery');
      galleryDiv.innerHTML = '';
      images.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        img.alt = 'About Image';
        img.loading = 'lazy';
        galleryDiv.appendChild(img);
      });
    }

    // Load about images preview in modal
    function loadAboutImagesPreview() {
      const images = getFromLocalStorage('aboutImages');
      const preview = document.getElementById('about-images-preview');
      preview.innerHTML = '';
      images.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        img.alt = 'About Image';
        img.className = 'draggable';
        if (isLoggedIn) img.classList.add('delete-enabled');
        img.draggable = true;
        img.addEventListener('dragstart', dragStart);
        img.addEventListener('dragover', dragOver);
        img.addEventListener('drop', drop);
        img.addEventListener('click', (e) => {
          if (isLoggedIn && e.target.classList.contains('delete-enabled')) {
            e.target.remove();
          }
        });
        preview.appendChild(img);
      });
    }

    // Save about images
    function saveAboutImages() {
      const images = document.getElementById('about-images').files;
      const gallery = Array.from(document.getElementById('about-images-preview').querySelectorAll('img')).map(img => img.src);
      Array.from(images).forEach(image => {
        if (!validateImage(image)) return;
        const reader = new FileReader();
        reader.onload = () => {
          gallery.push(reader.result);
          saveToLocalStorage('aboutImages', gallery);
          loadAboutImages();
        };
        reader.readAsDataURL(image);
      });
      saveToLocalStorage('aboutImages', gallery);
      loadAboutImages();
      closeAboutImagesModal();
    }

    // Drag and drop for gallery and about images
    let draggedItem = null;

    function dragStart(e) {
      draggedItem = e.target;
      setTimeout(() => e.target.style.opacity = '0.5', 0);
    }

    function dragOver(e) {
      e.preventDefault();
    }

    function drop(e) {
      e.preventDefault();
      if (draggedItem && e.target.tagName === 'IMG') {
        const parent = e.target.parentElement;
        const allImages = Array.from(parent.children);
        const draggedIndex = allImages.indexOf(draggedItem);
        const targetIndex = allImages.indexOf(e.target);
        if (draggedIndex < targetIndex) {
          parent.insertBefore(draggedItem, e.target.nextSibling);
        } else {
          parent.insertBefore(draggedItem, e.target);
        }
        draggedItem.style.opacity = '1';
        draggedItem = null;
      }
    }

    // Newsletter form submission
    document.getElementById('newsletter-form').addEventListener('submit', (e) => {
      e.preventDefault();
      alert('Thank you for subscribing!');
      e.target.reset();
    });

    // Initialize
    loadEvents();
    loadGallery();
    loadAboutImages();
  </script>
</body>
</html>
