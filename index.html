<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Join My Camp - Kiwiburn</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --background-start: #f4e4bc;
      --background-end: #d9b99b;
      --text-color: #2b1b0f;
      --nav-bg: rgba(44, 29, 15, 0.85);
      --nav-text: #f8e1b4;
      --accent: #e67e22;
      --accent-hover: #f39c12;
      --section-odd: rgba(244, 228, 188, 0.8);
      --section-even: rgba(217, 185, 155, 0.8);
      --container-bg: rgba(255, 255, 255, 0.15);
      --footer-bg: #2b1b0f;
      --modal-bg: rgba(255, 255, 255, 0.9);
      --input-bg: rgba(255, 255, 255, 0.1);
    }

    [data-theme="dark"] {
      --background-start: #2b1b0f;
      --background-end: #4a3723;
      --text-color: #f8e1b4;
      --nav-bg: rgba(20, 13, 7, 0.85);
      --nav-text: #f8e1b4;
      --accent: #e67e22;
      --accent-hover: #f39c12;
      --section-odd: rgba(44, 29, 15, 0.8);
      --section-even: rgba(66, 44, 22, 0.8);
      --container-bg: rgba(44, 29, 15, 0.3);
      --footer-bg: #1a120b;
      --modal-bg: rgba(44, 29, 15, 0.9);
      --input-bg: rgba(44, 29, 15, 0.3);
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      scroll-behavior: smooth;
      background: linear-gradient(180deg, var(--background-start) 0%, var(--background-end) 100%);
      color: var(--text-color);
      transition: background 0.3s, color 0.3s;
    }

    nav {
      position: sticky;
      top: 0;
      background: var(--nav-bg);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      z-index: 1000;
      border-bottom: 2px solid var(--accent);
    }

    .nav-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
    }

    nav a {
      color: var(--nav-text);
      text-decoration: none;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2rem;
      margin: 5px 15px;
      padding: 10px 15px;
      border-radius: 4px;
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
      text-transform: uppercase;
    }

    nav a:hover {
      background-color: var(--accent);
      color: var(--text-color);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .theme-toggle {
      background: none;
      border: none;
      color: var(--nav-text);
      font-size: 1.2rem;
      cursor: pointer;
      padding: 10px;
      transition: color 0.3s, box-shadow 0.3s;
    }

    .theme-toggle:hover {
      color: var(--accent);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .hamburger {
      display: none;
      font-size: 1.5rem;
      color: var(--nav-text);
      background: none;
      border: none;
      cursor: pointer;
      padding: 10px;
    }

    .login-container {
      display: flex;
      justify-content: flex-end;
      padding: 10px 20px;
      background: var(--nav-bg);
      border-bottom: 1px solid var(--accent);
      z-index: 999;
    }

    .login-container form {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .login-container input {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid var(--accent);
      background: var(--input-bg);
      color: var(--nav-text);
      font-size: 0.9rem;
    }

    .login-container input::placeholder {
      color: var(--nav-text);
    }

    .login-container button {
      padding: 8px 12px;
      background-color: var(--accent);
      color: var(--nav-text);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 0.9rem;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .login-container button:hover {
      background-color: var(--accent-hover);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .login-container .logout-button {
      display: none;
    }

    .header {
      background: url('images/coverphoto.png') center/cover no-repeat;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: var(--nav-text);
      position: relative;
      text-shadow: 3px 3px 12px rgba(0, 0, 0, 0.8);
    }

    .header h1 {
      font-family: 'Bebas Neue', cursive;
      font-size: 5em;
      max-width: 90%;
      letter-spacing: 2px;
      animation: glow 3s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent), 0 0 30px #d35400; }
      to { text-shadow: 0 0 20px var(--accent-hover), 0 0 30px var(--accent-hover), 0 0 40px var(--accent); }
    }

    .scroll-down {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      animation: bounce 2s infinite;
      color: var(--nav-text);
      transition: box-shadow 0.3s;
    }

    .scroll-down:hover {
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translate(-50%, 0); }
      40% { transform: translate(-50%, -10px); }
      60% { transform: translate(-50%, -5px); }
    }

    .section {
      padding: 80px 20px;
      text-align: center;
      background: url('images/dusty-texture.png') center/cover;
      border-top: 1px solid var(--accent);
      border-bottom: 1px solid var(--accent);
    }

    .section:nth-of-type(odd) {
      background-color: var(--section-odd);
    }

    .section:nth-of-type(even) {
      background-color: var(--section-even);
    }

    .section h1, .section h2 {
      font-family: 'Bebas Neue', cursive;
      font-size: 3em;
      margin-bottom: 20px;
      color: var(--text-color);
      letter-spacing: 1px;
    }

    .section p {
      font-size: 1.1em;
      max-width: 800px;
      margin: 0 auto 30px auto;
      line-height: 1.6;
      color: var(--text-color);
    }

    ul {
      list-style: none;
      padding: 0;
      font-size: 1.1em;
    }

    li {
      margin: 10px 0;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      max-width: 1000px;
      margin: 0 auto;
      padding-top: 20px;
    }

    .gallery img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 2px solid var(--accent);
      cursor: pointer;
    }

    .gallery img:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 15px rgba(230, 126, 34, 0.5), 0 0 15px var(--accent), 0 0 25px var(--accent-hover);
    }

    .gallery .image-container {
      position: relative;
    }

    .gallery .delete-button, .gallery .edit-button {
      display: none;
      position: absolute;
      top: 5px;
      background: var(--nav-bg);
      color: var(--nav-text);
      border: none;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 0.9em;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
    }

    .gallery .delete-button {
      right: 5px;
    }

    .gallery .edit-button {
      right: 35px;
    }

    .logged-in .gallery .delete-button, .logged-in .gallery .edit-button {
      display: block;
    }

    .gallery .delete-button:hover, .gallery .edit-button:hover {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .members-grid, .roles-grid, .events-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 40px auto 0 auto;
      justify-items: center;
      align-items: start;
      position: relative;
      min-height: 200px;
    }

    .scroll-arrow {
      display: none;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: var(--nav-text);
      background: var(--nav-bg);
      padding: 10px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      transition: background 0.3s, box-shadow 0.3s;
      animation: flash 1.5s infinite;
    }

    @keyframes flash {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .scroll-arrow:hover {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .scroll-arrow.left {
      left: 10px;
    }

    .scroll-arrow.right {
      right: 10px;
    }

    .member, .role, .event {
      text-align: center;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: var(--input-bg);
      padding: 15px;
      border: 1px solid var(--accent);
      box-sizing: border-box;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
    }

    .member:hover, .role:hover, .event:hover {
      box-shadow: 0 6px 12px rgba(230, 126, 34, 0.5), 0 0 15px var(--accent), 0 0 25px var(--accent-hover);
      transform: translateY(-5px);
    }

    .member img, .role img {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      margin-bottom: 10px;
      border: 3px solid var(--accent-hover);
    }

    .role img {
      width: 60px;
      height: 60px;
      border-radius: 8px;
    }

    .event img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 15px;
      border: 2px solid var(--accent-hover);
    }

    .member.camp-lead, .member.deputy-lead {
      position: relative;
    }

    .member.camp-lead::before {
      content: '👑';
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      color: #FFD700;
      z-index: 10;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .member.deputy-lead::before {
      content: '👑';
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.5rem;
      color: #C0C0C0;
      z-index: 10;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .member h3, .role h3, .event h3 {
      margin: 10px 0 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.5em;
      color: var(--text-color);
      line-height: 1.2;
    }

    .member span {
      font-weight: bold;
      color: var(--accent);
      display: block;
      font-size: 1.2em;
      margin-bottom: 5px;
      line-height: 1.3;
    }

    .member p, .event p {
      font-size: 1em;
      color: var(--text-color);
      margin: 5px 0;
      line-height: 1.4;
      max-width: 90%;
    }

    .role p {
      font-size: 1em;
      color: var(--nav-text);
      margin: 5px 0;
      line-height: 1.4;
      max-width: 90%;
    }

    .event p.event-date, .event p.event-time, .event p.event-end, .event p.event-category {
      font-size: 0.95em;
      color: var(--text-color);
      margin: 5px 0;
      line-height: 1.4;
      max-width: 90%;
    }

    .event p.event-date strong, .event p.event-time strong, .event p.event-end strong, .event p.event-category strong {
      color: var(--accent);
    }

    .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button, .role .edit-button, .member .edit-button {
      display: none;
      position: absolute;
      top: 5px;
      right: 5px;
      background: var(--nav-bg);
      color: var(--nav-text);
      border: none;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      font-size: 0.9em;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
    }

    .event .edit-button, .role .edit-button, .member .edit-button {
      right: 35px;
    }

    .logged-in .member .delete-button, .logged-in .role .delete-button, .logged-in .event .edit-button, .logged-in .event .delete-button, .logged-in .role .edit-button, .logged-in .member .edit-button {
      display: block;
    }

    .member .delete-button:hover, .role .delete-button:hover, .event .edit-button:hover, .event .delete-button:hover, .role .edit-button:hover, .member .edit-button:hover {
      background: rgba(230, 126, 34, 0.9);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .role .apply-button {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 12px;
      background-color: var(--accent);
      color: var(--text-color);
      text-decoration: none;
      border-radius: 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 0.9em;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .role .apply-button:hover {
      background-color: var(--accent-hover);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .role .tooltip {
      visibility: hidden;
      width: 180px;
      background-color: var(--nav-bg);
      color: var(--nav-text);
      text-align: center;
      border-radius: 8px;
      padding: 12px;
      position: absolute;
      z-index: 10;
      top: -10px;
      left: 50%;
      transform: translate(-50%, -100%);
      opacity: 0;
      transition: opacity 0.3s, transform 0.3s;
      font-size: 0.9em;
      font-family: 'Montserrat', sans-serif;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      border: 2px solid var(--accent-hover);
    }

    .role .tooltip img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 2px solid var(--accent-hover);
    }

    .role .tooltip span {
      font-weight: bold;
      font-size: 1em;
    }

    .role:hover .tooltip {
      visibility: visible;
      opacity: 1;
      transform: translate(-50%, -110%);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: var(--modal-bg);
      padding: 20px;
      border-radius: 10px;
      max-width: 400px;
      width: 90%;
      text-align: center;
      border: 2px solid var(--accent);
      position: relative;
      color: var(--text-color);
    }

    .modal-content h3 {
      font-family: 'Bebas Neue', cursive;
      color: var(--text-color);
      margin-bottom: 20px;
    }

    .modal-content input, .modal-content textarea, .modal-content select {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid var(--accent);
      background: var(--input-bg);
      color: var(--text-color);
    }

    .modal-content input[type="file"] {
      background: none;
      border: none;
      padding: 5px;
    }

    .modal-content button {
      padding: 10px 20px;
      background-color: var(--accent);
      color: var(--text-color);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1em;
      transition: background-color 0.3s, box-shadow 0.3s;
      margin: 0 10px;
    }

    .modal-content button:hover {
      background-color: var(--accent-hover);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .modal-content .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      font-size: 1.2em;
      padding: 5px 10px;
    }

    .image-zoom-modal .modal-content {
      max-width: 90%;
      max-height: 90vh;
      padding: 0;
      background: none;
      border: none;
    }

    .image-zoom-modal img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 10px;
      border: 2px solid var(--accent);
    }

    .image-zoom-modal .caption {
      background: var(--modal-bg);
      color: var(--text-color);
      padding: 10px;
      border-radius: 0 0 10px 10px;
      font-family: 'Montserrat', sans-serif;
      font-size: 1em;
      text-align: center;
    }

    .events-grid {
      grid-template-columns: repeat(4, 1fr);
      gap: 30px;
    }

    .event-filter {
      max-width: 200px;
      margin: 20px auto;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid var(--accent);
      background: var(--input-bg);
      color: var(--text-color);
      font-family: 'Montserrat', sans-serif;
      font-size: 1em;
    }

    .countdown-container {
      padding: 20px;
      background: var(--nav-bg);
      text-align: center;
      border-top: 2px solid var(--accent);
      border-radius: 10px;
      margin: 40px auto;
      max-width: 600px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .countdown-container h2 {
      font-family: 'Bebas Neue', cursive;
      font-size: 2.5em;
      color: var(--nav-text);
      margin-bottom: 20px;
    }

    .countdown {
      font-family: 'Bebas Neue', cursive;
      font-size: 2em;
      font-weight: bold;
      color: var(--nav-text);
      margin-top: 20px;
      background: rgba(230, 126, 34, 0.2);
      padding: 15px;
      border-radius: 8px;
      border: 1px solid var(--accent);
    }

    .countdown-container input {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid var(--accent);
      background: var(--input-bg);
      color: var(--nav-text);
      margin: 10px;
      display: none;
    }

    .logged-in .countdown-container input {
      display: inline-block;
    }

    .countdown-container button {
      padding: 8px 12px;
      background-color: var(--accent);
      color: var(--nav-text);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 0.9rem;
      transition: background-color 0.3s, box-shadow 0.3s;
      display: none;
    }

    .logged-in .countdown-container button {
      display: inline-block;
    }

    .countdown-container button:hover {
      background-color: var(--accent-hover);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    footer {
      text-align: center;
      padding: 30px;
      background-color: var(--footer-bg);
      color: var(--nav-text);
      border-top: 2px solid var(--accent);
    }

    .form-container {
      text-align: left;
      max-width: 500px;
      margin: 0 auto;
    }

    .form-container input,
    .form-container textarea,
    .form-container select {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid var(--accent);
      font-size: 1rem;
      box-sizing: border-box;
      background: var(--input-bg);
      color: var(--text-color);
    }

    .form-container button {
      padding: 12px 20px;
      background-color: var(--accent);
      color: var(--text-color);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2em;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .form-container button:hover {
      background-color: var(--accent-hover);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .contact-lead {
      padding: 40px 20px;
      background-color: var(--footer-bg);
      color: var(--nav-text);
      text-align: center;
      border-top: 2px solid var(--accent);
      border-bottom: 2px solid var(--accent);
    }

    .contact-lead a {
      color: var(--accent-hover);
      font-size: 1.2em;
      text-decoration: none;
      font-family: 'Bebas Neue', cursive;
      transition: box-shadow 0.3s;
    }

    .contact-lead a:hover {
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .submit-button {
      display: inline-block;
      padding: 12px 20px;
      background-color: var(--accent);
      color: var(--text-color);
      text-decoration: none;
      border-radius: 5px;
      font-family: 'Bebas Neue', cursive;
      font-size: 1.2em;
      transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
    }

    .submit-button:hover {
      background-color: var(--accent-hover);
      color: var(--text-color);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .about-container, .mission-container, .members-container, .gallery-container, .newsletter-container {
      max-width: 1200px;
      margin: 0 auto;
      background: var(--container-bg);
      border: 2px solid var(--accent);
      border-radius: 10px;
      padding: 40px 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .section#submit {
      background-color: var(--section-odd);
    }

    .submit-section {
      background: var(--container-bg);
      border: 2px solid var(--accent);
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      margin: 40px auto 0 auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .newsletter-section {
      padding: 80px 20px;
      background-color: var(--section-odd);
    }

    .newsletter-container .section {
      padding: 0;
    }

    .save-button {
      padding: 10px 20px;
      background-color: var(--accent);
      color: var(--text-color);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 1em;
      transition: background-color 0.3s, box-shadow 0.3s;
      margin: 20px auto;
      display: none;
    }

    .logged-in .save-button {
      display: block;
    }

    .edit-section-button {
      display: none;
      padding: 8px 12px;
      background-color: var(--accent);
      color: var(--text-color);
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Bebas Neue', cursive;
      font-size: 0.9em;
      transition: background-color 0.3s, box-shadow 0.3s;
      margin: 10px auto;
    }

    .logged-in .edit-section-button {
      display: block;
    }

    .edit-section-button:hover {
      background-color: var(--accent-hover);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .back-to-top {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--accent);
      color: var(--nav-text);
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 1.5em;
      cursor: pointer;
      display: none;
      z-index: 1000;
      transition: background-color 0.3s, box-shadow 0.3s, opacity 0.3s;
    }

    .back-to-top:hover {
      background-color: var(--accent-hover);
      box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent-hover);
    }

    .back-to-top.visible {
      display: block;
      opacity: 1;
    }

    @media only screen and (max-width: 768px) {
      .hamburger {
        display: block;
      }

      nav {
        flex-direction: column;
        align-items: flex-start;
        padding: 10px;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background: var(--nav-bg);
        padding: 10px 0;
      }

      .nav-links.active {
        display: flex;
      }

      nav a, .theme-toggle {
        margin: 5px 0;
        font-size: 1rem;
        padding: 10px;
        text-align: center;
      }

      .login-container {
        padding: 10px;
      }

      .login-container form {
        flex-direction: column;
        gap: 5px;
      }

      .login-container input, .login-container button {
        font-size: 0.8rem;
        padding: 6px;
        width: 100%;
        box-sizing: border-box;
      }

      .header {
        height: 70vh;
      }

      .header h1 {
        font-size: 3em;
      }

      .scroll-down {
        font-size: 1.2rem;
      }

      .section {
        padding: 40px 15px;
      }

      .section h1, .section h2 {
        font-size: 2em;
      }

      .section p {
        font-size: 1em;
        max-width: 95%;
      }

      .gallery {
        grid-template-columns: 1fr;
        gap: 15px;
        max-width: 95%;
      }

      .members-grid, .roles-grid {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        gap: 15px;
        max-width: 95%;
        padding: 0 10px;
        scroll-snap-type: x mandatory;
      }

      .members-grid .scroll-arrow, .roles-grid .scroll-arrow {
        display: block;
      }

      .member, .role {
        flex: 0 0 140px;
        scroll-snap-align: start;
        min-height: 240px;
        padding: 10px;
      }

      .member img, .role img {
        width: 80px;
        height: 80px;
      }

      .member.camp-lead::before, .member.deputy-lead::before {
        font-size: 1.2rem;
        top: -15px;
      }

      .role img {
        width: 50px;
        height: 50px;
        padding: 6px;
      }

      .member h3, .role h3 {
        font-size: 1.3em;
      }

      .member span {
        font-size: 1.1em;
      }

      .member p, .role p {
        font-size: 0.9em;
      }

      .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button, .role .edit-button, .member .edit-button {
        width: 20px;
        height: 20px;
        font-size: 0.8em;
      }

      .event .edit-button, .role .edit-button, .member .edit-button {
        right: 30px;
      }

      .role .tooltip {
        width: 140px;
        font-size: 0.85em;
      }

      .role .tooltip img {
        width: 60px;
        height: 60px;
      }

      .role .apply-button {
        font-size: 0.8em;
        padding: 6px 10px;
      }

      .events-grid {
        grid-template-columns: 1fr;
        gap: 20px;
        max-width: 95%;
      }

      .event img {
        height: 150px;
      }

      .event h3 {
        font-size: 1.4em;
      }

      .event p {
        font-size: 0.95em;
      }

      .countdown {
        font-size: 1.5em;
      }

      .form-container {
        max-width: 95%;
      }

      .submit-section, .newsletter-container {
        max-width: 95%;
        padding: 15px;
      }

      .submit-button {
        font-size: 1em;
        padding: 10px 15px;
      }

      .contact-lead {
        padding: 30px 15px;
      }

      .contact-lead a {
        font-size: 1em;
      }

      .about-container, .mission-container, .members-container, .gallery-container, .newsletter-container {
        max-width: 95%;
        padding: 20px 15px;
      }

      .back-to-top {
        width: 40px;
        height: 40px;
        font-size: 1.2em;
      }
    }

    @media only screen and (min-width: 769px) {
      .roles-grid .scroll-arrow {
        display: none;
      }
    }

    @media only screen and (max-width: 480px) {
      .header h1 {
        font-size: 2.2em;
      }

      .section h1, .section h2 {
        font-size: 1.6em;
      }

      .section p {
        font-size: 0.9em;
      }

      .members-grid, .roles-grid {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        gap: 10px;
        padding: 0 5px;
        scroll-snap-type: x mandatory;
      }

      .member, .role {
        flex: 0 0 120px;
        scroll-snap-align: start;
        min-height: 200px;
        padding: 8px;
      }

      .member img, .role img {
        width: 60px;
        height: 60px;
      }

      .member h3, .role h3 {
        font-size: 1.1em;
      }

      .member span {
        font-size: 1em;
      }

      .member p, .role p {
        font-size: 0.85em;
      }

      .member.camp-lead::before, .member.deputy-lead::before {
        font-size: 1rem;
        top: -12px;
      }

      .member .delete-button, .role .delete-button, .event .edit-button, .event .delete-button, .role .edit-button, .member .edit-button {
        width: 18px;
        height: 18px;
        font-size: 0.7em;
      }

      .event .edit-button, .role .edit-button, .member .edit-button {
        right: 25px;
      }

      .role img {
        width: 45px;
        height: 45px;
        padding: 5px;
      }

      .role .tooltip {
        width: 120px;
        font-size: 0.8em;
        padding: 8px;
      }

      .role .tooltip img {
        width: 50px;
        height: 50px;
      }

      .role .apply-button {
        font-size: 0.7em;
        padding: 5px 8px;
      }

      .countdown {
        font-size: 1.2em;
      }

      .newsletter-container h2 {
        font-size: 1.5em;
      }

      .newsletter-container p {
        font-size: 0.9em;
      }

      .event img {
        height: 120px;
      }

      .hamburger {
        font-size: 1.2rem;
      }

      .login-container input, .login-container button {
        font-size: 0.7em;
        padding: 5px;
      }

      .event-filter {
        max-width: 150px;
      }

      .back-to-top {
        width: 35px;
        height: 35px;
        font-size: 1em;
      }
    }
  </style>
</head>
<body>
  <nav>
    <button class="hamburger" aria-label="Toggle menu">☰</button>
    <div class="nav-links">
      <a href="#about">About</a>
      <a href="#mission">Mission</a>
      <a href="#members">Members</a>
      <a href="#events">Events</a>
      <a href="#submit">Submit Event</a>
      <a href="#newsletter">Newsletter</a>
      <a href="#gallery">Gallery</a>
      <button class="theme-toggle" aria-label="Toggle theme">🌙</button>
    </div>
  </nav>

  <div class="login-container">
    <form id="login-form">
      <input type="text" id="username" placeholder="Username" required>
      <input type="password" id="password" placeholder="Password" required>
      <button type="submit">Login</button>
    </form>
    <button class="logout-button">Logout</button>
  </div>

  <header class="header">
    <h1>Join Our Kiwiburn</h1>
    <button class="edit-section-button" onclick="openHeaderModal()">Edit Section</button>
    <a href="#about" class="scroll-down">▼</a>
  </header>

  <div class="modal" id="header-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeHeaderModal()">×</button>
      <h3>Edit Header Section</h3>
      <input type="text" id="header-title" placeholder="Header Title" required>
      <button onclick="saveHeaderDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="member-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeMemberModal()">×</button>
      <h3 id="member-modal-title">Add Member Details</h3>
      <input type="text" id="member-name" placeholder="Member Name" required>
      <input type="text" id="member-role" placeholder="Member Role" required>
      <textarea id="member-description" placeholder="Member Description" required></textarea>
      <input type="file" id="member-photo" accept="image/*">
      <button onclick="saveMemberDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="role-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeRoleModal()">×</button>
      <h3 id="role-modal-title">Create New Role</h3>
      <input type="text" id="role-title" placeholder="Role Title" required>
      <textarea id="role-description" placeholder="Role Description" required></textarea>
      <input type="file" id="role-icon" accept="image/*">
      <button onclick="saveRoleDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="event-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeEventModal()">×</button>
      <h3 id="event-modal-title">Edit Event</h3>
      <input type="text" id="event-title" placeholder="Event Title" required>
      <textarea id="event-description" placeholder="Event Description" required></textarea>
      <input type="date" id="event-date" required>
      <input type="time" id="event-time" required>
      <input type="datetime-local" id="event-end" required>
      <select id="event-category" required>
        <option value="" disabled selected>Select Category</option>
        <option value="Music">Music</option>
        <option value="Art">Art</option>
        <option value="Performance">Performance</option>
        <option value="Workshop">Workshop</option>
        <option value="Other">Other</option>
      </select>
      <input type="file" id="event-image" accept="image/*">
      <button onclick="saveEventDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="about-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeAboutModal()">×</button>
      <h3>Edit About Section</h3>
      <input type="text" id="about-title" placeholder="Section Title" required>
      <textarea id="about-description" placeholder="Section Description" required></textarea>
      <button onclick="saveAboutDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="mission-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeMissionModal()">×</button>
      <h3>Edit Mission Section</h3>
      <input type="text" id="mission-title" placeholder="Section Title" required>
      <textarea id="mission-description" placeholder="Section Description" required></textarea>
      <input type="file" id="mission-image" accept="image/*">
      <button onclick="saveMissionDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="gallery-image-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeGalleryImageModal()">×</button>
      <h3>Edit Gallery Image</h3>
      <input type="text" id="gallery-image-alt" placeholder="Image Alt Text" required>
      <input type="file" id="gallery-image-file" accept="image/*">
      <button onclick="saveGalleryImageDetails()">Save</button>
    </div>
  </div>

  <div class="modal image-zoom-modal" id="image-zoom-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeImageZoomModal()">×</button>
      <img id="zoom-image" src="" alt="">
      <div class="caption" id="zoom-caption"></div>
    </div>
  </div>

  <div class="modal" id="events-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeEventsModal()">×</button>
      <h3>Edit Events Section</h3>
      <input type="text" id="events-title" placeholder="Section Title" required>
      <textarea id="events-description" placeholder="Section Description" required></textarea>
      <button onclick="saveEventsDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="newsletter-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeNewsletterModal()">×</button>
      <h3>Edit Newsletter Section</h3>
      <input type="text" id="newsletter-title" placeholder="Section Title" required>
      <textarea id="newsletter-description" placeholder="Section Description" required></textarea>
      <button onclick="saveNewsletterDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="contact-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeContactModal()">×</button>
      <h3>Edit Contact Section</h3>
      <input type="text" id="contact-title" placeholder="Section Title" required>
      <textarea id="contact-description" placeholder="Section Description" required></textarea>
      <input type="text" id="contact-link" placeholder="Contact Link" required>
      <button onclick="saveContactDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="join-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeJoinModal()">×</button>
      <h3>Edit Join Section</h3>
      <input type="text" id="join-title" placeholder="Section Title" required>
      <textarea id="join-description" placeholder="Section Description" required></textarea>
      <button onclick="saveJoinDetails()">Save</button>
    </div>
  </div>

  <div class="modal" id="submit-modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeSubmitModal()">×</button>
      <h3>Edit Submit Event Section</h3>
      <input type="text" id="submit-title" placeholder="Section Title" required>
      <textarea id="submit-description" placeholder="Section Description" required></textarea>
      <button onclick="saveSubmitDetails()">Save</button>
    </div>
  </div>

  <div class="about-container">
    <section class="section" id="about">
      <h1>About Our Camp</h1>
      <p>Join the Rejex... Cosmic Rejex is a welcoming home for emos, rockers, and bass-heads—a safe, inclusive space to connect, unwind, and be yourself. We’re all about good tunes, strange art, deep chats, and the occasional wild conspiracy theory. As a sound camp, you can expect emo anthems, raw rock, and rolling drum and bass, all wrapped in a laid-back, friendly atmosphere. Whether you’re here to dance, chill, or just vibe out, you’re always welcome.</p>
      <button class="edit-section-button" onclick="openAboutModal()">Edit Section</button>
      <div class="gallery" id="about-gallery" ondragover="allowDrop(event)" ondrop="dropAboutImage(event)">
        <div class="image-container" draggable="true" ondragstart="dragAboutImage(event)">
          <img src="images/Campphoto1.jpg" alt="Camp Mates" onclick="openImageZoomModal(this)">
          <button class="edit-button" onclick="openGalleryImageModal(this, 'about')">✎</button>
          <button class="delete-button" onclick="deleteAboutImage(this)">×</button>
        </div>
        <div class="image-container" draggable="true" ondragstart="dragAboutImage(event)">
          <img src="images/Campphoto15.png" alt="Camp Mates" onclick="openImageZoomModal(this)">
          <button class="edit-button" onclick="openGalleryImageModal(this, 'about')">✎</button>
          <button class="delete-button" onclick="deleteAboutImage(this)">×</button>
        </div>
        <div class="image-container" draggable="true" ondragstart="dragAboutImage(event)">
          <img src="images/Campphoto17.png" alt="Night Lights" onclick="openImageZoomModal(this)">
          <button class="edit-button" onclick="openGalleryImageModal(this, 'about')">✎</button>
          <button class="delete-button" onclick="deleteAboutImage(this)">×</button>
        </div>
      </div>
      <button class="save-button" onclick="uploadAboutImage()">Upload New Image</button>
    </section>
  </div>

  <div class="mission-container">
    <section class="section" id="mission">
      <h1>Our Mission</h1>
      <p>We exist to bring together creative humans who defy the norm, support each other, and build unforgettable moments at Kiwiburn.</p>
      <button class="edit-section-button" onclick="openMissionModal()">Edit Section</button>
      <div class="gallery" id="mission-gallery" ondragover="allowDrop(event)" ondrop="dropMissionImage(event)"></div>
      <button class="save-button" onclick="uploadMissionImage()">Upload New Image</button>
    </section>
  </div>

  <div class="members-container">
    <section class="section" id="members">
      <h1>Meet Our Core Camp Crew</h1>
      <div class="members-grid" ondragover="allowDrop(event)" ondrop="drop(event)">
        <div class="scroll-arrow left">◄</div>
        <div class="scroll-arrow right">►</div>
        <div class="member camp-lead" draggable="true" ondragstart="drag(event)">
          <img src="images/ShanonRichards.jpg" alt="Shanon Richards">
          <h3>Shanon Richards</h3>
          <span>Camp Lead</span>
          <p>Oversees planning, forms, and execution. Manages policies, resources, and conflict resolution tasks.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member deputy-lead" draggable="true" ondragstart="drag(event)">
          <img src="images/MeganR.jpg" alt="Meghan">
          <h3>Meghan Robson</h3>
          <span>Deputy Lead</span>
          <p>Supports Camp Lead, tracks tasks, timelines, and fills gaps. Ensures smooth operations flow daily.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/RussellDuffield.jpg" alt="Russell">
          <h3>Russell Duffield</h3>
          <span>Build Lead</span>
          <p>Leads camp setup, structures, and layout. Manages build crew, tools, and safety protocols well.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Star Dust Bambi.jpg" alt="Star">
          <h3>Star Dust Bambi</h3>
          <span>Vibe Manager</span>
          <p>Creates safe spaces and emotional support. Fosters connection, inclusion, and belonging always.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/michealdunstan.jpg" alt="Micheal">
          <h3>Micheal Dunstan</h3>
          <span>Logistics Lead</span>
          <p>Tracks gear, camp assets, and purchasing. Coordinates transport and supplies with efficiency.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tomasshelby.jpg" alt="Tomas">
          <h3>Tomas Shelby</h3>
          <span>Sound Lead</span>
          <p>Manages camp music, DJs, and audio gear. Ensures the sound setup runs smoothly all the time.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/jarrodskiffington.jpg" alt="Jarrod">
          <h3>Jarrod Skiffington</h3>
          <span>Transport Lead</span>
          <p>Organizes and manages the transport of camp gear, ensuring safe delivery to and from Kiwiburn.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/alana.jpg" alt="Alana">
          <h3>Alana Stewart</h3>
          <span>Kitchen Lead</span>
          <p>Plans shared meals and food storage. Oversees cooking, cleaning, and food rosters effectively.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tylerrowe.jpg" alt="Tyler">
          <h3>Tyler Rowe</h3>
          <span>Art & Workshop Lead</span>
          <p>Manages camp art and workshops. Supports artists, event hosts, and creative materials fully.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Imogen.jpg" alt="Imogen">
          <h3>Imogen Olivia</h3>
          <span>Wellbeing Officer</span>
          <p>Checks mental health and group dynamics. Provides active listening and support consistently.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/sarsha.jpg" alt="Sarsha">
          <h3>Sarsha Skiffington</h3>
          <span>Greeter</span>
          <p>Welcomes arrivals, gives orientations, and helps everyone feel at home right—all wrapped in a cozy, laid-back vibe. You’re always welcome.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/Gartah.jpg" alt="Gartah">
          <h3>Gartah</h3>
          <span>Strike Lead</span>
          <p>Organizes pack-down, cleanup, and Leave No Trace. Ensures gear is sorted and returned well.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/jackie.jpg" alt="Jackie">
          <h3>Jackie Church</h3>
          <span>Comms Lead</span>
          <p>Sends key info, updates, and reminders. Keeps everyone connected and informed consistently.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/olivia.jpg" alt="Olivia">
          <h3>Olivia Derewlany</h3>
          <span>Safety Officer</span>
          <p>Ensures camp safety, fire protocols, and first-aid basics. Supports emergency readiness well.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/wenyi.jpg" alt="Wenyi">
          <h3>Wenyi Huang</h3>
          <span>MOOP Manager</span>
          <p>Leads Leave No Trace systems and cleanup. Educates campmates and tracks waste effectively.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
        <div class="member" draggable="true" ondragstart="drag(event)">
          <img src="images/tina.jpg" alt="Tina">
          <h3>Tina Lein</h3>
          <span>Power/Tech Lead</span>
          <p>Manages power, lighting, and tech systems. Handles setup, maintenance, and issues promptly.</p>
          <button class="edit-button" onclick="openEditMemberModal(this)">✎</button>
          <button class="delete-button" onclick="deleteMember(this)">×</button>
        </div>
      </div>

      <h2>Roles to Be Filled</h2>
      <p>Join our Minnesotan style—hover over each role to learn more about the responsibilities and expectations.</p>
      <div class="roles-grid" ondragover="allowDrop(event)" ondrop="drop(event)">
        <div class="scroll-arrow left">◄</div>
        <div class="scroll-arrow right">►</div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/trial.png" alt="Logistics & Build Lead Icon">
          <h3>Logistics & Build Lead</h3>
          <a href="join-camp.html?role=Logistics%20%26%20Build%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Plans camp layout, manages ride shares, carpools, and essential gear.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/volunteer-coordinator.png" alt="Volunteer Coordinator Icon">
          <h3>Volunteer Coordinator</h3>
          <a href="join-camp.html?role=Volunteer%20Coordinator" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Assigns & tracks camp duties (kitchen, cleanup), ensuring fair participation.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/build-crew.png" alt="Build Crew Icon">
          <h3>Build Crew</h3>
          <a href="join-camp.html?role=Build%20Crew" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Builds shade, tents, and layout. Manages power, water, and camp infrastructure.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/sound-lights-lead.png" alt="Sound & Lights Lead Icon">
          <h3>Sound & Lights Lead</h3>
          <a href="join-camp.html?role=Sound%20%26%20Lights%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Oversees DJ schedules, lighting, sound compliance, and power systems.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/kitchen-lead.png" alt="Kitchen Lead Icon">
          <h3>Kitchen Lead</h3>
          <a href="join-camp.html?role=Kitchen%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Plans meals, organizes shifts, maintains food storage & kitchen cleanliness.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/safety-medical-lead.png" alt="Safety & Medical Lead Icon">
          <h3>Safety & Medical Lead</h3>
          <a href="join-camp.html?role=Safety%20%26%20Medical%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Stocks first aid, provides harm reduction & emergency support.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/fire-rangers-lead.png" alt="Fire & Rangers Lead Icon">
          <h3>Fire & Rangers Lead</h3>
          <a href="join-camp.html?role=Fire%20%26%20Rangers%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Manages fire safety, emergency exits & coordinates with Rangers.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/art-decor-lead.png" alt="Art & Decor Lead Icon">
          <h3>Art & Decor Lead</h3>
          <a href="join-camp.html?role=Art%20%26%20Decor%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Oversees decor, signs, and interactive art.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" draggable="true" ondragstart="drag(event)">
          <img src="images/icons/event-theme-night-lead.png" alt="Event & Theme Night Lead Icon">
          <h3>Event & Theme Night Lead</h3>
          <a href="join-camp.html?role=Event%20%26%20Theme%20Night%20Lead" class="apply-button">Apply for Role</a>
          <div class="tooltip">
            <p>Plans events, workshops, performances & group photos.</p>
          </div>
          <button class="edit-button" onclick="openEditRoleModal(this)">✎</button>
          <button class="delete-button" onclick="deleteRole(this)">×</button>
        </div>
        <div class="role" onclick="openRoleModal()">
          <img src="images/icons/add-role.png" alt="Add New Role Icon">
          <h3>Add New Role</h3>
          <p>Create a new role for the camp.</p>
        </div>
      </div>

      <button class="save-button" onclick="saveChanges()">Save Changes</button>
    </section>

    <section class="section submit-section" id="join">
      <h2>Request to Join</h2>
      <p>Want to join our amazing community? Click below to submit your request!</p>
      <button class="edit-section-button" onclick="openJoinModal()">Edit Section</button>
      <a href="join-camp.html" class="submit-button">Click Here</a>
    </section>
  </div>

  <div class="events-container">
    <section class="section" id="events">
      <h1>Past Events</h1>
      <p>From silent discos to communal art builds, here’s a taste of what we’ve created together.</p>
      <button class="edit-section-button" onclick="openEventsModal()">Edit Section</button>
      <select class="event-filter" id="event-filter" onchange="filterEvents()">
        <option value="all">All Categories</option>
        <option value="Music">Music</option>
        <option value="Art">Art</option>
        <option value="Performance">Performance</option>
        <option value="Workshop">Workshop</option>
        <option value="Other">Other</option>
      </select>
      <div class="events-grid">
        <div class="event" data-category="Music">
          <img src="images/Eventposter.jpg" alt="Emo Night Poster">
          <h3>Emo Night: "It's not a phase mom! It's a tribute!"</h3>
          <p>Emo night is back! Join us for a tribute to RAT camp as⠀we revive the tears, emo vibes, and your teenage passion! Find a dark corner, sip on our emo-inspired drinks, and get your makeup done just right! Plus more!</p>
          <p class="event-date"><strong>Date:</strong> January 28, 2025</p>
          <p class="event-time"><strong>Time:</strong> 8:00 PM</p>
          <p class="event-end"><strong>End Date & Time:</strong> January 29, 2025, 2:00 AM</p>
          <p class="event-category"><strong>Category:</strong> Music</p>
          <button class="edit-button" onclick="openEditEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        </div>
        <div class="event" data-category="Performance">
          <img src="images/Pole.jpg" alt="Pole in the paddock Poster">
          <h3>Pole in the paddock</h3>
          <p>Join us for an exciting pole performance showcasing strength, grace, and creativity. Watch as some amazing humans twist, flip, and move in ways that'll leave you in awe. It’s going to be fun, fierce, and full of Kiwiburn energy – don’t miss it!</p>
          <p class="event-date"><strong>Date:</strong> January 29, 2025</p>
          <p class="event-time"><strong>Time:</strong> 6:00 PM</p>
          <p class="event-end"><strong>End Date & Time:</strong> January 29, 2025, 8:00 PM</p>
          <p class="event-category"><strong>Category:</strong> Performance</p>
          <button class="edit-button" onclick="openEditEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        </div>
        <div class="event" data-category="Workshop">
          <img src="images/cosmicconnections.jpg" alt="Cosmic Connections Poster">
          <h3>Cosmic Connections</h3>
          <p>Ever feel like the sky is watching you? Join us as we share stories of extraterrestrial encounters, where skeptics become seekers and believers find their tribe. This is a space to explore the unknown—and even learn tools for making contact yourself. Bring an open mind and heart!</p>
          <p class="event-date"><strong>Date:</strong> January 30, 2025</p>
          <p class="event-time"><strong>Time:</strong> 7:00 PM</p>
          <p class="event-end"><strong>End Date & Time:</strong> January 30, 2025, 10:00 PM</p>
          <p class="event-category"><strong>Category:</strong> Workshop</p>
          <button class="edit-button" onclick="openEditEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        </div>
        <div class="event" data-category="Music">
          <img src="images/opendeck.jpg" alt="DJ Showcase & Open Decks Poster">
          <h3>DJ Showcase & Open Decks</h3>
          <p>An open-deck party featuring local DJs and campers spinning tracks, with colorful lights and a dance floor that kept the energy high all night.</p>
          <p class="event-date"><strong>Date:</strong> January 31, 2025</p>
          <p class="event-time"><strong>Time:</strong> 9:00 PM</p>
          <p class="event-end"><strong>End Date & Time:</strong> February 1, 2025, 3:00 AM</p>
          <p class="event-category"><strong>Category:</strong> Music</p>
          <button class="edit-button" onclick="openEditEventModal(this)">✎</button>
          <button class="delete-button" onclick="deleteEvent(this)">×</button>
        </div>
      </div>
    </section>

    <section class="section submit-section" id="submit">
      <h1>Submit Your Event</h1>
      <p>Got an idea for an amazing event? Click below to submit your proposal!</p>
      <button class="edit-section-button" onclick="openSubmitModal()">Edit Section</button>
      <a href="submit-event.html" class="submit-button">Click Here</a>
    </section>
  </div>

<div class="newsletter-container">
  <section class="section newsletter-section" id="newsletter">
    <h1>Stay in the Loop</h1>
    <p>Sign up for our newsletter to get the latest updates on events, camp news, and more!</p>
    <button class="edit-section-button" onclick="openNewsletterModal()">Edit Section</button>
    <div class="form-container">
      <form id="newsletter-form">
        <input type="email" id="newsletter-email" placeholder="Enter your email" required>
        <button type="submit" class="submit-button">Subscribe</button>
      </form>
    </div>
  </section>
</div>

<div class="gallery-container">
  <section class="section" id="gallery">
    <h1>Gallery</h1>
    <p>A glimpse into the magic we’ve created together at Kiwiburn.</p>
    <button class="edit-section-button" onclick="openGalleryModal()">Edit Section</button>
    <div class="gallery" id="main-gallery" ondragover="allowDrop(event)" ondrop="dropGalleryImage(event)">
      <div class="image-container" draggable="true" ondragstart="dragGalleryImage(event)">
        <img src="images/gallery1.jpg" alt="Kiwiburn Moment 1" onclick="openImageZoomModal(this)">
        <button class="edit-button" onclick="openGalleryImageModal(this, 'main')">✎</button>
        <button class="delete-button" onclick="deleteGalleryImage(this)">×</button>
      </div>
      <div class="image-container" draggable="true" ondragstart="dragGalleryImage(event)">
        <img src="images/gallery2.jpg" alt="Kiwiburn Moment 2" onclick="openImageZoomModal(this)">
        <button class="edit-button" onclick="openGalleryImageModal(this, 'main')">✎</button>
        <button class="delete-button" onclick="deleteGalleryImage(this)">×</button>
      </div>
      <div class="image-container" draggable="true" ondragstart="dragGalleryImage(event)">
        <img src="images/gallery3.jpg" alt="Kiwiburn Moment 3" onclick="openImageZoomModal(this)">
        <button class="edit-button" onclick="openGalleryImageModal(this, 'main')">✎</button>
        <button class="delete-button" onclick="deleteGalleryImage(this)">×</button>
      </div>
    </div>
    <button class="save-button" onclick="uploadGalleryImage()">Upload New Image</button>
  </section>
</div>

<div class="countdown-container">
  <h2>Countdown to Kiwiburn 2026</h2>
  <div class="countdown" id="countdown">Loading...</div>
  <input type="date" id="countdown-date" style="display: none;">
  <button onclick="updateCountdown()" style="display: none;">Update</button>
</div>

<section class="contact-lead" id="contact">
  <h2>Contact Our Lead</h2>
  <p>Got questions? Reach out to our camp lead!</p>
  <button class="edit-section-button" onclick="openContactModal()">Edit Section</button>
  <a href="mailto:camp@cosmicrejex.com">camp@cosmicrejex.com</a>
</section>

<footer>
  <p>&copy; 2025 Cosmic Rejex. All rights reserved.</p>
</footer>

<button class="back-to-top" aria-label="Back to top">↑</button>

<script>
// Theme Toggle
const themeToggle = document.querySelector('.theme-toggle');
themeToggle.addEventListener('click', () => {
  document.documentElement.setAttribute('data-theme',
    document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'
  );
});

// Hamburger Menu
const hamburger = document.querySelector('.hamburger');
const navLinks = document.querySelector('.nav-links');
hamburger.addEventListener('click', () => {
  navLinks.classList.toggle('active');
});

// Login Functionality
const loginForm = document.getElementById('login-form');
const logoutButton = document.querySelector('.logout-button');
const loginContainer = document.querySelector('.login-container');

loginForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;

  if (username === 'admin' && password === 'kiwi2025') {
    document.body.classList.add('logged-in');
    loginForm.style.display = 'none';
    logoutButton.style.display = 'block';
    alert('Logged in successfully!');
  } else {
    alert('Invalid credentials');
  }
});

logoutButton.addEventListener('click', () => {
  document.body.classList.remove('logged-in');
  loginForm.style.display = 'flex';
  logoutButton.style.display = 'none';
  loginForm.reset();
});

// Scroll to Top Button
const backToTop = document.querySelector('.back-to-top');
window.addEventListener('scroll', () => {
  backToTop.classList.toggle('visible', window.scrollY > 300);
});
backToTop.addEventListener('click', () => {
  window.scrollTo({ top: 0, behavior: 'smooth' });
});

// Modal Functions
function openModal(modalId) {
  document.getElementById(modalId).style.display = 'flex';
}
function closeModal(modalId) {
  document.getElementById(modalId).style.display = 'none';
}

// Header Modal
function openHeaderModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('header-modal');
    document.getElementById('header-title').value = document.querySelector('.header h1').textContent;
  }
}
function closeHeaderModal() {
  closeModal('header-modal');
}
function saveHeaderDetails() {
  const title = document.getElementById('header-title').value;
  document.querySelector('.header h1').textContent = title;
  closeHeaderModal();
}

// About Modal
function openAboutModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('about-modal');
    document.getElementById('about-title').value = document.querySelector('#about h1').textContent;
    document.getElementById('about-description').value = document.querySelector('#about p').textContent;
  }
}
function closeAboutModal() {
  closeModal('about-modal');
}
function saveAboutDetails() {
  const title = document.getElementById('about-title').value;
  const description = document.getElementById('about-description').value;
  document.querySelector('#about h1').textContent = title;
  document.querySelector('#about p').textContent = description;
  closeAboutModal();
}

// Mission Modal
function openMissionModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('mission-modal');
    document.getElementById('mission-title').value = document.querySelector('#mission h1').textContent;
    document.getElementById('mission-description').value = document.querySelector('#mission p').textContent;
  }
}
function closeMissionModal() {
  closeModal('mission-modal');
}
function saveMissionDetails() {
  const title = document.getElementById('mission-title').value;
  const description = document.getElementById('mission-description').value;
  const image = document.getElementById('mission-image').files[0];
  document.querySelector('#mission h1').textContent = title;
  document.querySelector('#mission p').textContent = description;
  if (image) {
    const reader = new FileReader();
    reader.onload = (e) => {
      const img = document.createElement('img');
      img.src = e.target.result;
      img.alt = 'Mission Image';
      const gallery = document.getElementById('mission-gallery');
      gallery.innerHTML = '';
      gallery.appendChild(img);
    };
    reader.readAsDataURL(image);
  }
  closeMissionModal();
}

// Gallery Modal
function openGalleryModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('gallery-modal');
    document.getElementById('gallery-title').value = document.querySelector('#gallery h1').textContent;
    document.getElementById('gallery-description').value = document.querySelector('#gallery p').textContent;
  }
}
function closeGalleryModal() {
  closeModal('gallery-modal');
}
function saveGalleryDetails() {
  const title = document.getElementById('gallery-title').value;
  const description = document.getElementById('gallery-description').value;
  document.querySelector('#gallery h1').textContent = title;
  document.querySelector('#gallery p').textContent = description;
  closeGalleryModal();
}

// Gallery Image Functions
function openGalleryImageModal(button, galleryType) {
  if (document.body.classList.contains('logged-in')) {
    openModal('gallery-image-modal');
    const img = button.parentElement.querySelector('img');
    document.getElementById('gallery-image-alt').value = img.alt;
    document.getElementById('gallery-image-modal').dataset.imageElement = button.parentElement.outerHTML;
    document.getElementById('gallery-image-modal').dataset.galleryType = galleryType;
  }
}
function closeGalleryImageModal() {
  closeModal('gallery-image-modal');
}
function saveGalleryImageDetails() {
  const altText = document.getElementById('gallery-image-alt').value;
  const file = document.getElementById('gallery-image-file').files[0];
  const modal = document.getElementById('gallery-image-modal');
  const galleryType = modal.dataset.galleryType;
  const oldImageContainer = new DOMParser().parseFromString(modal.dataset.imageElement, 'text/html').body.firstChild;
  const gallery = galleryType === 'about' ? document.getElementById('about-gallery') : document.getElementById('main-gallery');

  if (file) {
    const reader = new FileReader();
    reader.onload = (e) => {
      const newImageContainer = document.createElement('div');
      newImageContainer.className = 'image-container';
      newImageContainer.draggable = true;
      newImageContainer.ondragstart = (ev) => dragGalleryImage(ev);
      const img = document.createElement('img');
      img.src = e.target.result;
      img.alt = altText;
      img.onclick = () => openImageZoomModal(img);
      const editButton = document.createElement('button');
      editButton.className = 'edit-button';
      editButton.textContent = '✎';
      editButton.onclick = () => openGalleryImageModal(editButton, galleryType);
      const deleteButton = document.createElement('button');
      deleteButton.className = 'delete-button';
      deleteButton.textContent = '×';
      deleteButton.onclick = () => deleteGalleryImage(deleteButton);
      newImageContainer.append(img, editButton, deleteButton);
      gallery.replaceChild(newImageContainer, oldImageContainer);
    };
    reader.readAsDataURL(file);
  } else {
    oldImageContainer.querySelector('img').alt = altText;
    gallery.replaceChild(oldImageContainer, oldImageContainer);
  }
  closeGalleryImageModal();
}
function uploadGalleryImage() {
  if (document.body.classList.contains('logged-in')) {
    openModal('gallery-image-modal');
    document.getElementById('gallery-image-alt').value = '';
    document.getElementById('gallery-image-file').value = '';
    document.getElementById('gallery-image-modal').dataset.galleryType = 'main';
    document.getElementById('gallery-image-modal').dataset.imageElement = '';
  }
}
function deleteGalleryImage(button) {
  if (confirm('Are you sure you want to delete this image?')) {
    button.parentElement.remove();
  }
}
function dragGalleryImage(event) {
  event.dataTransfer.setData('text/html', event.target.outerHTML);
}
function dropGalleryImage(event) {
  event.preventDefault();
  const data = event.dataTransfer.getData('text/html');
  const draggedElement = new DOMParser().parseFromString(data, 'text/html').body.firstChild;
  const gallery = document.getElementById('main-gallery');
  const dropZone = event.target.closest('.image-container') || gallery;
  if (dropZone !== gallery) {
    gallery.insertBefore(draggedElement, dropZone);
  } else {
    gallery.appendChild(draggedElement);
  }
}

// Event Modal
function openEventModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('event-modal');
    document.getElementById('event-modal-title').textContent = 'Add New Event';
    document.getElementById('event-title').value = '';
    document.getElementById('event-description').value = '';
    document.getElementById('event-date').value = '';
    document.getElementById('event-time').value = '';
    document.getElementById('event-end').value = '';
    document.getElementById('event-category').value = '';
    document.getElementById('event-image').value = '';
  }
}
function openEditEventModal(button) {
  if (document.body.classList.contains('logged-in')) {
    openModal('event-modal');
    document.getElementById('event-modal-title').textContent = 'Edit Event';
    const event = button.parentElement;
    document.getElementById('event-title').value = event.querySelector('h3').textContent;
    document.getElementById('event-description').value = event.querySelector('p:not(.event-date):not(.event-time):not(.event-end):not(.event-category)').textContent;
    document.getElementById('event-date').value = event.querySelector('.event-date').textContent.match(/\d{4}-\d{2}-\d{2}/)[0];
    document.getElementById('event-time').value = event.querySelector('.event-time').textContent.match(/\d{1,2}:\d{2} (AM|PM)/)[0];
    document.getElementById('event-end').value = event.querySelector('.event-end').textContent.match(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/)[0];
    document.getElementById('event-category').value = event.dataset.category;
    document.getElementById('event-modal').dataset.eventElement = event.outerHTML;
  }
}
function closeEventModal() {
  closeModal('event-modal');
}
function saveEventDetails() {
  const title = document.getElementById('event-title').value;
  const description = document.getElementById('event-description').value;
  const date = document.getElementById('event-date').value;
  const time = document.getElementById('event-time').value;
  const end = document.getElementById('event-end').value;
  const category = document.getElementById('event-category').value;
  const image = document.getElementById('event-image').files[0];
  const modal = document.getElementById('event-modal');
  const eventsGrid = document.querySelector('.events-grid');

  const eventDiv = document.createElement('div');
  eventDiv.className = 'event';
  eventDiv.dataset.category = category;

  const img = document.createElement('img');
  img.alt = title;
  if (image) {
    const reader = new FileReader();
    reader.onload = (e) => {
      img.src = e.target.result;
    };
    reader.readAsDataURL(image);
  } else {
    img.src = modal.dataset.eventElement ? new DOMParser().parseFromString(modal.dataset.eventElement, 'text/html').body.firstChild.querySelector('img').src : 'images/default-event.jpg';
  }

  const h3 = document.createElement('h3');
  h3.textContent = title;
  const descP = document.createElement('p');
  descP.textContent = description;
  const dateP = document.createElement('p');
  dateP.className = 'event-date';
  dateP.innerHTML = `<strong>Date:</strong> ${date}`;
  const timeP = document.createElement('p');
  timeP.className = 'event-time';
  timeP.innerHTML = `<strong>Time:</strong> ${time}`;
  const endP = document.createElement('p');
  endP.className = 'event-end';
  endP.innerHTML = `<strong>End Date & Time:</strong> ${end.replace('T', ', ')}`;
  const catP = document.createElement('p');
  catP.className = 'event-category';
  catP.innerHTML = `<strong>Category:</strong> ${category}`;
  const editButton = document.createElement('button');
  editButton.className = 'edit-button';
  editButton.textContent = '✎';
  editButton.onclick = () => openEditEventModal(editButton);
  const deleteButton = document.createElement('button');
  deleteButton.className = 'delete-button';
  deleteButton.textContent = '×';
  deleteButton.onclick = () => deleteEvent(deleteButton);

  eventDiv.append(img, h3, descP, dateP, timeP, endP, catP, editButton, deleteButton);

  if (modal.dataset.eventElement) {
    const oldEvent = new DOMParser().parseFromString(modal.dataset.eventElement, 'text/html').body.firstChild;
    eventsGrid.replaceChild(eventDiv, eventsGrid.querySelector(`[data-category="${oldEvent.dataset.category}"]`));
  } else {
    eventsGrid.appendChild(eventDiv);
  }

  closeEventModal();
}
function deleteEvent(button) {
  if (confirm('Are you sure you want to delete this event?')) {
    button.parentElement.remove();
  }
}

// Image Zoom Modal
function openImageZoomModal(img) {
  openModal('image-zoom-modal');
  document.getElementById('zoom-image').src = img.src;
  document.getElementById('zoom-caption').textContent = img.alt;
}
function closeImageZoomModal() {
  closeModal('image-zoom-modal');
}

// Newsletter Modal
function openNewsletterModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('newsletter-modal');
    document.getElementById('newsletter-title').value = document.querySelector('#newsletter h1').textContent;
    document.getElementById('newsletter-description').value = document.querySelector('#newsletter p').textContent;
  }
}
function closeNewsletterModal() {
  closeModal('newsletter-modal');
}
function saveNewsletterDetails() {
  const title = document.getElementById('newsletter-title').value;
  const description = document.getElementById('newsletter-description').value;
  document.querySelector('#newsletter h1').textContent = title;
  document.querySelector('#newsletter p').textContent = description;
  closeNewsletterModal();
}

// Contact Modal
function openContactModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('contact-modal');
    document.getElementById('contact-title').value = document.querySelector('#contact h2').textContent;
    document.getElementById('contact-description').value = document.querySelector('#contact p').textContent;
    document.getElementById('contact-link').value = document.querySelector('#contact a').href;
  }
}
function closeContactModal() {
  closeModal('contact-modal');
}
function saveContactDetails() {
  const title = document.getElementById('contact-title').value;
  const description = document.getElementById('contact-description').value;
  const link = document.getElementById('contact-link').value;
  document.querySelector('#contact h2').textContent = title;
  document.querySelector('#contact p').textContent = description;
  document.querySelector('#contact a').href = link;
  document.querySelector('#contact a').textContent = link.replace('mailto:', '');
  closeContactModal();
}

// Countdown
function updateCountdown() {
  const countdownDateInput = document.getElementById('countdown-date').value;
  if (countdownDateInput) {
    localStorage.setItem('countdownDate', countdownDateInput);
  }
  const countdownDate = new Date(localStorage.getItem('countdownDate') || '2026-01-28T00:00:00').getTime();
  const countdownElement = document.getElementById('countdown');

  const interval = setInterval(() => {
    const now = new Date().getTime();
    const distance = countdownDate - now;

    if (distance < 0) {
      countdownElement.textContent = 'Kiwiburn has started!';
      clearInterval(interval);
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    countdownElement.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
  }, 1000);
}
updateCountdown();

// Drag and Drop
function allowDrop(event) {
  event.preventDefault();
}
function drag(event) {
  event.dataTransfer.setData('text/html', event.target.outerHTML);
}
function drop(event) {
  event.preventDefault();
  const data = event.dataTransfer.getData('text/html');
  const draggedElement = new DOMParser().parseFromString(data, 'text/html').body.firstChild;
  const container = event.target.closest('.members-grid, .roles-grid, .gallery');
  const dropZone = event.target.closest('.member, .role, .image-container') || container;
  if (dropZone !== container) {
    container.insertBefore(draggedElement, dropZone);
  } else {
    container.appendChild(draggedElement);
  }
}

// Scroll Arrows
document.querySelectorAll('.scroll-arrow').forEach(arrow => {
  arrow.addEventListener('click', () => {
    const grid = arrow.parentElement;
    const isLeft = arrow.classList.contains('left');
    grid.scrollBy({ left: isLeft ? -200 : 200, behavior: 'smooth' });
  });
});

// Event Filter
function filterEvents() {
  const filter = document.getElementById('event-filter').value;
  document.querySelectorAll('.event').forEach(event => {
    event.style.display = filter === 'all' || event.dataset.category === filter ? 'block' : 'none';
  });
}

// Newsletter Form Submission
document.getElementById('newsletter-form').addEventListener('submit', (e) => {
  e.preventDefault();
  const email = document.getElementById('newsletter-email').value;
  alert(`Subscribed with ${email}!`);
  document.getElementById('newsletter-form').reset();
});

// Member Modal
function openMemberModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('member-modal');
    document.getElementById('member-modal-title').textContent = 'Add Member Details';
    document.getElementById('member-name').value = '';
    document.getElementById('member-role').value = '';
    document.getElementById('member-description').value = '';
    document.getElementById('member-photo').value = '';
  }
}
function openEditMemberModal(button) {
  if (document.body.classList.contains('logged-in')) {
    openModal('member-modal');
    document.getElementById('member-modal-title').textContent = 'Edit Member Details';
    const member = button.parentElement;
    document.getElementById('member-name').value = member.querySelector('h3').textContent;
    document.getElementById('member-role').value = member.querySelector('span').textContent;
    document.getElementById('member-description').value = member.querySelector('p').textContent;
    document.getElementById('member-modal').dataset.memberElement = member.outerHTML;
  }
}
function closeMemberModal() {
  closeModal('member-modal');
}
function saveMemberDetails() {
  const name = document.getElementById('member-name').value;
  const role = document.getElementById('member-role').value;
  const description = document.getElementById('member-description').value;
  const photo = document.getElementById('member-photo').files[0];
  const modal = document.getElementById('member-modal');
  const membersGrid = document.querySelector('.members-grid');

  const memberDiv = document.createElement('div');
  memberDiv.className = `member ${role.toLowerCase().includes('camp lead') ? 'camp-lead' : role.toLowerCase().includes('deputy lead') ? 'deputy-lead' : ''}`;
  memberDiv.drnilable = true;
  memberDiv.ondragstart = (ev) => drag(ev);

  const img = document.createElement('img');
  img.alt = name;
  if (photo) {
    const reader = new FileReader();
    reader.onload = (e) => {
      img.src = e.target.result;
    };
    reader.readAsDataURL(photo);
  } else {
    img.src = modal.dataset.memberElement ? new DOMParser().parseFromString(modal.dataset.memberElement, 'text/html').body.firstChild.querySelector('img').src : 'images/default-member.jpg';
  }

  const h3 = document.createElement('h3');
  h3.textContent = name;
  const span = document.createElement('span');
  span.textContent = role;
  const p = document.createElement('p');
  p.textContent = description;
  const editButton = document.createElement('button');
  editButton.className = 'edit-button';
  editButton.textContent = '✎';
  editButton.onclick = () => openEditMemberModal(editButton);
  const deleteButton = document.createElement('button');
  deleteButton.className = 'delete-button';
  deleteButton.textContent = '×';
  deleteButton.onclick = () => deleteMember(deleteButton);

  memberDiv.append(img, h3, span, p, editButton, deleteButton);

  if (modal.dataset.memberElement) {
    const oldMember = new DOMParser().parseFromString(modal.dataset.memberElement, 'text/html').body.firstChild;
    membersGrid.replaceChild(memberDiv, membersGrid.querySelector(`[data-name="${oldMember.querySelector('h3').textContent}"]`) || oldMember);
  } else {
    membersGrid.appendChild(memberDiv);
  }

  closeMemberModal();
}
function deleteMember(button) {
  if (confirm('Are you sure you want to delete this member?')) {
    button.parentElement.remove();
  }
}

// Role Modal
function openRoleModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('role-modal');
    document.getElementById('role-modal-title').textContent = 'Create New Role';
    document.getElementById('role-title').value = '';
    document.getElementById('role-description').value = '';
    document.getElementById('role-icon').value = '';
  }
}
function openEditRoleModal(button) {
  if (document.body.classList.contains('logged-in')) {
    openModal('role-modal');
    document.getElementById('role-modal-title').textContent = 'Edit Role';
    const role = button.parentElement;
    document.getElementById('role-title').value = role.querySelector('h3').textContent;
    document.getElementById('role-description').value = role.querySelector('.tooltip p').textContent;
    document.getElementById('role-modal').dataset.roleElement = role.outerHTML;
  }
}
function closeRoleModal() {
  closeModal('role-modal');
}
function saveRoleDetails() {
  const title = document.getElementById('role-title').value;
  const description = document.getElementById('role-description').value;
  const icon = document.getElementById('role-icon').files[0];
  const modal = document.getElementById('role-modal');
  const rolesGrid = document.querySelector('.roles-grid');

  const roleDiv = document.createElement('div');
  roleDiv.className = 'role';
  roleDiv.draggable = true;
  roleDiv.ondragstart = (ev) => drag(ev);

  const img = document.createElement('img');
  img.alt = `${title} Icon`;
  if (icon) {
    const reader = new FileReader();
    reader.onload = (e) => {
      img.src = e.target.result;
    };
    reader.readAsDataURL(icon);
  } else {
    img.src = modal.dataset.roleElement ? new DOMParser().parseFromString(modal.dataset.roleElement, 'text/html').body.firstChild.querySelector('img').src : 'images/icons/default-role.png';
  }

  const h3 = document.createElement('h3');
  h3.textContent = title;
  const applyButton = document.createElement('a');
  applyButton.href = `join-camp.html?role=${encodeURIComponent(title)}`;
  applyButton.className = 'apply-button';
  applyButton.textContent = 'Apply for Role';
  const tooltip = document.createElement('div');
  tooltip.className = 'tooltip';
  const tooltipP = document.createElement('p');
  tooltipP.textContent = description;
  tooltip.append(tooltipP);
  const editButton = document.createElement('button');
  editButton.className = 'edit-button';
  editButton.textContent = '✎';
  editButton.onclick = () => openEditRoleModal(editButton);
  const deleteButton = document.createElement('button');
  deleteButton.className = 'delete-button';
  deleteButton.textContent = '×';
  deleteButton.onclick = () => deleteRole(deleteButton);

  roleDiv.append(img, h3, applyButton, tooltip, editButton, deleteButton);

  if (modal.dataset.roleElement) {
    const oldRole = new DOMParser().parseFromString(modal.dataset.roleElement, 'text/html').body.firstChild;
    rolesGrid.replaceChild(roleDiv, rolesGrid.querySelector(`[data-title="${oldRole.querySelector('h3').textContent}"]`) || oldRole);
  } else {
    rolesGrid.insertBefore(roleDiv, rolesGrid.lastElementChild);
  }

  closeRoleModal();
}
function deleteRole(button) {
  if (confirm('Are you sure you want to delete this role?')) {
    button.parentElement.remove();
  }
}

// Join Modal
function openJoinModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('join-modal');
    document.getElementById('join-title').value = document.querySelector('#join h2').textContent;
    document.getElementById('join-description').value = document.querySelector('#join p').textContent;
  }
}
function closeJoinModal() {
  closeModal('join-modal');
}
function saveJoinDetails() {
  const title = document.getElementById('join-title').value;
  const description = document.getElementById('join-description').value;
  document.querySelector('#join h2').textContent = title;
  document.querySelector('#join p').textContent = description;
  closeJoinModal();
}

// Submit Modal
function openSubmitModal() {
  if (document.body.classList.contains('logged-in')) {
    openModal('submit-modal');
    document.getElementById('submit-title').value = document.querySelector('#submit h1').textContent;
    document.getElementById('submit-description').value = document.querySelector('#submit p').textContent;
  }
}
function closeSubmitModal() {
  closeModal('submit-modal');
}
function saveSubmitDetails() {
  const title = document.getElementById('submit-title').value;
  const description = document.getElementById('submit-description').value;
  document.querySelector('#submit h1').textContent = title;
  document.querySelector('#submit p').textContent = description;
  closeSubmitModal();
}

// Save Changes
function saveChanges() {
  alert('Changes saved successfully!');
}
</script>
</body>
</html>
