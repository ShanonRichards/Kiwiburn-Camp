<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ilich Code - Interactive Art Studio</title>
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }
        .ilich-section {
            padding: 50px;
            text-align: center;
            background: linear-gradient(45deg, #ff0066, #00ccff);
        }
        .ilich-section h2 {
            font-size: 2.5em;
            text-transform: uppercase;
            text-shadow: 2px 2px #000;
            margin-bottom: 20px;
        }
        .ilich-section p {
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        .image-container {
            position: relative;
            width: 600px;
            height: 400px;
            margin: 0 auto;
            border: 2px solid #fff;
            background: #222;
            overflow: hidden;
        }
        #mainImage {
            max-width: 100%;
            max-height: 100%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .icon-tray {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .icon {
            width: 50px;
            height: 50px;
            cursor: move;
            transition: transform 0.3s;
            user-drag: none;
            -webkit-user-drag: none;
        }
        .icon:hover {
            transform: scale(1.2);
        }
        .icon.dragging {
            opacity: 0.7;
        }
        .dropped-asset {
            position: absolute;
            width: 50px;
            height: 50px;
            pointer-events: none; /* Prevent dropped assets from being draggable again */
        }
        .upload-btn {
            background: #ff0066;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            margin-bottom: 20px;
            transition: background 0.3s;
        }
        .upload-btn:hover {
            background: #00ccff;
        }
        @media (max-width: 768px) {
            .ilich-section {
                padding: 20px;
            }
            .image-container {
                width: 100%;
                height: 300px;
            }
            .ilich-section h2 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="ilich-section">
        <h2>Ilich Code Art Studio</h2>
        <p>Upload a photo and customize it by dragging and dropping accessories like hats or beards!</p>
        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
        <button class="upload-btn" onclick="document.getElementById('imageUpload').click()">Upload Your Photo</button>
        <div class="image-container">
            <img id="mainImage" src="" alt="Uploaded Image" style="display: none;">
        </div>
        <div class="icon-tray">
            <img src="images/Logo/Sketch_Lighter.png" class="icon" alt="Hat Icon" data-asset="hat" draggable="true">
            <img src="images/Logo/Sketch_Lighter.png" class="icon" alt="Beard Icon" data-asset="beard" draggable="true">
            <img src="images/Logo/Sketch_Lighter.png" class="icon" alt="Glasses Icon" data-asset="glasses" draggable="true">
        </div>
    </div>

    <script>
        const imageUpload = document.getElementById('imageUpload');
        const mainImage = document.getElementById('mainImage');
        const body = document.body;

        // Handle image upload
        imageUpload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    mainImage.src = event.target.result;
                    mainImage.style.display = 'block';
                    console.log('Image uploaded successfully');
                };
                reader.onerror = () => console.error('Failed to upload image');
                reader.readAsDataURL(file);
            }
        });

        // Handle drag and drop for assets
        document.querySelectorAll('.icon').forEach(icon => {
            icon.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', e.target.dataset.asset);
                e.dataTransfer.setData('text/src', e.target.src);
                e.target.classList.add('dragging');
                console.log(`Dragging ${e.target.dataset.asset}`);
            });
            icon.addEventListener('dragend', (e) => {
                e.target.classList.remove('dragging');
                console.log(`Drag ended for ${e.target.dataset.asset}`);
            });
        });

        // Allow dropping anywhere on the page
        body.addEventListener('dragover', (e) => {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'copy';
        });

        body.addEventListener('drop', (e) => {
            e.preventDefault();
            const assetType = e.dataTransfer.getData('text/plain');
            const assetSrc = e.dataTransfer.getData('text/src');
            const x = e.clientX;
            const y = e.clientY;

            // Create a new image element for the dropped asset
            const droppedAsset = document.createElement('img');
            droppedAsset.src = assetSrc;
            droppedAsset.className = 'dropped-asset';
            droppedAsset.style.left = `${x - 25}px`; // Center the 50x50 image at drop point
            droppedAsset.style.top = `${y - 25}px`;
            droppedAsset.alt = `${assetType} Asset`;
            body.appendChild(droppedAsset);
            console.log(`Dropped ${assetType} at (${x}, ${y})`);
        });
    </script>
</body>
</html>
