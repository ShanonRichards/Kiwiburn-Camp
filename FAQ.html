<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Artboard Page</title>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.2/themes/base/jquery-ui.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Creepster&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', Arial, sans-serif;
    }
    .main-content {
      padding: 20px;
      text-align: center;
    }
    .main-content h1 {
      color: #8b0000;
      font-size: 48px;
      margin-bottom: 20px;
      font-family: 'Creepster', cursive;
      background-color: #000;
      padding: 15px;
      border-radius: 8px;
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    .artboard-container {
      width: 100%;
      min-width: 320px;
      margin: 0; auto;
      border: 2px solid #ccc;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }
    .t396__artboard {
      height: 600px;
      background-image: url('images/Rejex_Me/Rejex_Background.png');
      background-position: center;
      background-size: cover;
      background-attachment: fixed;
      overflow: hidden;
      position: relative;
    }
    .t396__carrier, .t396__filter {
      height: 100%;
    }
    .t396__elem {
      position: absolute;
      z-index: 1;
    }
    .t396__elem[data-elem-id="custom-uploaded-img"] {
      z-index: 0 !important;      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%, -50%) !important;
      pointer-events: none !important;
    }
    .tn-atom__img {
      width: 100%;
      height: auto;
      max-width: none;
      max-height: none;
      object-fit: contain;
    }
    .t396__elem[data-elem-type="text"] .tn-atom {
      color: #fff;
      font-family: 'Montserrat', Arial, sans-serif;
      font-size: 20px;
      font-weight: 600;
      line-height: 1.55;
      letter-spacing: -1px;
      text-align: center;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 4px;
      transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
    }
    .t396__elem[data-elem-type="button"] .tn-atom {
      color: #fff;
      font-family: 'Montserrat', Arial, sans-serif;
      font-size: 16px;
      font-weight: 600;
      line-height: 1.55;
      letter-spacing: -1px;
      text-align: center;
      background-color: #000;
      border-radius: 4px;
      padding: 10px;
      display: block;
      text-decoration: none;
      transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
      cursor: pointer;
    }
    .t396__elem[data-elem-type="upload"] input {
      color: #fff;
      font-family: 'Montserrat', Arial, sans-serif;
      font-size: 16px;
      background-color: #000;
      border: none;
      padding: 10px;
      cursor: pointer;
      width: 100%;
      box-sizing: border-box;
    }
    .t396__elem[data-elem-type="slider"] .ui-slider {
      background-color: #ffdd2b;
      border: none;
      padding: 10px;
      width: 100%;
      box-sizing: border-box;
    }
    .t396__elem[data-elem-type="slider"] .ui-slider-handle {
      background: #fd4e22;
      border: 2px solid #fff;
      cursor: pointer;
      width: 20px;
      height: 20px;
    }
    .t396__elem[data-elem-type="slider"] {
      background-color: #333;
      border: 2px solid #000;
      border-radius: 4px;
      padding: 15px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .t396__elem[data-elem-type="image"] {
      width: 80px !important;
      height: auto !important;
      margin-bottom: 8px;
      border: 2px solid #333;
      border-radius: 4px;
      overflow: hidden;
      transition: transform 0.3s ease;
    }
    .t396__elem[data-elem-type="image"]:hover {
      transform: scale(1.05);
    }
    .t396__elem[data-elem-type="text"] .tn-atom:hover,
    .t396__elem[data-elem-type="button"] .tn-atom:hover,
    .t396__elem[data-elem-type="upload"] input:hover,
    .t396__elem[data-elem-type="slider"] .ui-slider:hover {
      background-color: #333;
      color: #fff;
    }
    .ui-draggable-dragging {
      transform: scale(1.05);
    }
    .uploaded-image {
      display: block;
      object-fit: contain;
    }
    .slider-label {
      position: absolute;
      top: -30px;
      left: 50%;
      transform: translateX(-50%);
      color: #fff;
      font-family: 'Montserrat', Arial, sans-serif;
      font-size: 14px;
      font-weight: 600;
      background-color: #000;
      padding: 5px 10px;
      border-radius: 4px;
    }
    @media screen and (min-width: 1440px) {
      .t396__artboard, .t396__carrier, .t396__filter { height: 600px; }
      .t396__elem[data-elem-id="custom-img1"] { top: 10px; left: 95%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img2"] { top: 100px; left: 95%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img3"] { top: 190px; left: 95%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img4"] { top: 280px; left: 95%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img5"] { top: 370px; left: 95%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img6"] { top: 460px; left: 95%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img7"] { top: 10px; left: 90%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img8"] { top: 100px; left: 90%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img9"] { top: 190px; left: 90%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img10"] { top: 280px; left: 90%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img11"] { top: 370px; left: 90%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img12"] { top: 460px; left: 90%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-img13"] { top: 550px; left: 90%; transform: translateX(-100%); }
      .t396__elem[data-elem-id="custom-text1"] { top: 400px; left: 50%; width: 180px; }
      .t396__elem[data-elem-id="custom-text2"] { top: 450px; left: 15%; width: 160px; }
      .t396__elem[data-elem-id="custom-button1"] { top: 500px; left: 35%; width: 200px; }
      .t396__elem[data-elem-id="custom-upload"] { top: 20px; left: 20px; width: 160px; }
      .t396__elem[data-elem-id="custom-save"] { top: 90px; left: 20px; width: 160px; }
      .t396__elem[data-elem-id="custom-size-slider"] { top: 160px; left: 20px; width: 160px; }
      .t396__elem[data-elem-id="custom-rotate-slider"] { top: 250px; left: 20px; width: 160px; }
    }
    @media screen and (max-width: 1439px) {
      .t396__artboard, .t396__carrier, .t396__filter { height: 550px; }
      .t396__elem[data-elem-id="custom-img1"] { top: 10px; right: 10px; }
      .t396__elem[data-elem-id="custom-img2"] { top: 90px; right: 10px; }
      .t396__elem[data-elem-id="custom-img3"] { top: 170px; right: 10px; }
      .t396__elem[data-elem-id="custom-img4"] { top: 250px; right: 10px; }
      .t396__elem[data-elem-id="custom-img5"] { top: 330px; right: 10px; }
      .t396__elem[data-elem-id="custom-img6"] { top: 410px; right: 10px; }
      .t396__elem[data-elem-id="custom-img7"] { top: 10px; right: 90px; }
      .t396__elem[data-elem-id="custom-img8"] { top: 90px; right: 90px; }
      .t396__elem[data-elem-id="custom-img9"] { top: 170px; right: 90px; }
      .t396__elem[data-elem-id="custom-img10"] { top: 250px; right: 90px; }
      .t396__elem[data-elem-id="custom-img11"] { top: 330px; right: 90px; }
      .t396__elem[data-elem-id="custom-img12"] { top: 410px; right: 90px; }
      .t396__elem[data-elem-id="custom-img13"] { top: 490px; right: 90px; }
      .t396__elem[data-elem-id="custom-text1"] { top: 350px; left: 50%; width: 160px; }
      .t396__elem[data-elem-id="custom-text2"] { top: 400px; left: 15%; width: 140px; }
      .t396__elem[data-elem-id="custom-button1"] { top: 450px; left: 35%; width: 180px; }
      .t396__elem[data-elem-id="custom-upload"] { top: 20px; left: 20px; width: 160px; }
      .t396__elem[data-elem-id="custom-save"] { top: 90px; left: 20px; width: 160px; }
      .t396__elem[data-elem-id="custom-size-slider"] { top: 160px; left: 20px; width: 160px; }
      .t396__elem[data-elem-id="custom-rotate-slider"] { top: 250px; left: 20px; width: 160px; }
    }
    @media screen and (max-width: 1199px) {
      .t396__artboard, .t396__carrier, .t396__filter { height: 500px; }
      .t396__elem[data-elem-id="custom-img1"] { top: 10px; right: 10px; }
      .t396__elem[data-elem-id="custom-img2"] { top: 90px; right: 10px; }
      .t396__elem[data-elem-id="custom-img3"] { top: 170px; right: 10px; }
      .t396__elem[data-elem-id="custom-img4"] { top: 250px; right: 10px; }
      .t396__elem[data-elem-id="custom-img5"] { top: 330px; right: 10px; }
      .t396__elem[data-elem-id="custom-img6"] { top: 410px; right: 10px; }
      .t396__elem[data-elem-id="custom-img7"] { top: 10px; right: 90px; }
      .t396__elem[data-elem-id="custom-img8"] { top: 90px; right: 90px; }
      .t396__elem[data-elem-id="custom-img9"] { top: 170px; right: 90px; }
      .t396__elem[data-elem-id="custom-img10"] { top: 250px; right: 90px; }
      .t396__elem[data-elem-id="custom-img11"] { top: 330px; right: 90px; }
      .t396__elem[data-elem-id="custom-img12"] { top: 410px; right: 90px; }
      .t396__elem[data-elem-id="custom-img13"] { top: 10px; right: 170px; }
      .t396__elem[data-elem-id="custom-text1"] { top: 300px; left: 50%; width: 140px; }
      .t396__elem[data-elem-id="custom-text2"] { top: 350px; left: 15%; width: 120px; }
      .t396__elem[data-elem-id="custom-button1"] { top: 400px; left: 35%; width: 160px; }
      .t396__elem[data-elem-id="custom-upload"] { top: 20px; left: 20px; width: 140px; }
      .t396__elem[data-elem-id="custom-save"] { top: 90px; left: 20px; width: 140px; }
      .t396__elem[data-elem-id="custom-size-slider"] { top: 160px; left: 20px; width: 140px; }
      .t396__elem[data-elem-id="custom-rotate-slider"] { top: 250px; left: 20px; width: 140px; }
    }
    @media screen and (max-width: 959px) {
      .t396__artboard, .t396__carrier, .t396__filter { height: 450px; }
      .t396__elem[data-elem-id="custom-img1"] { top: 10px; right: 10px; }
      .t396__elem[data-elem-id="custom-img2"] { top: 90px; right: 10px; }
      .t396__elem[data-elem-id="custom-img3"] { top: 170px; right: 10px; }
      .t396__elem[data-elem-id="custom-img4"] { top: 250px; right: 10px; }
      .t396__elem[data-elem-id="custom-img5"] { top: 330px; right: 10px; }
      .t396__elem[data-elem-id="custom-img6"] { top: 10px; right: 90px; }
      .t396__elem[data-elem-id="custom-img7"] { top: 90px; right: 90px; }
      .t396__elem[data-elem-id="custom-img8"] { top: 170px; right: 90px; }
      .t396__elem[data-elem-id="custom-img9"] { top: 250px; right: 90px; }
      .t396__elem[data-elem-id="custom-img10"] { top: 330px; right: 90px; }
      .t396__elem[data-elem-id="custom-img11"] { top: 10px; right: 170px; }
      .t396__elem[data-elem-id="custom-img12"] { top: 90px; right: 170px; }
      .t396__elem[data-elem-id="custom-img13"] { top: 170px; right: 170px; }
      .t396__elem[data-elem-id="custom-text1"] { top: 280px; left: 50%; width: 120px; }
      .t396__elem[data-elem-id="custom-text2"] { top: 330px; left: 15%; width: 100px; }
      .t396__elem[data-elem-id="custom-button1"] { top: 380px; left: 35%; width: 140px; }
      .t396__elem[data-elem-type="text"] .tn-atom,
      .t396__elem[data-elem-type="button"] .tn-atom { font-size: 18px; }
      .t396__elem[data-elem-id="custom-upload"] { top: 20px; left: 20px; width: 140px; }
      .t396__elem[data-elem-id="custom-save"] { top: 90px; left: 20px; width: 140px; }
      .t396__elem[data-elem-id="custom-size-slider"] { top: 160px; left: 20px; width: 140px; }
      .t396__elem[data-elem-id="custom-rotate-slider"] { top: 250px; left: 20px; width: 140px; }
    }
    @media screen and (max-width: 639px) {
      .t396__artboard, .t396__carrier, .t396__filter { height: 400px; }
      .t396__elem[data-elem-id="custom-img1"] { top: 10px; right: 10px; }
      .t396__elem[data-elem-id="custom-img2"] { top: 80px; right: 10px; }
      .t396__elem[data-elem-id="custom-img3"] { top: 150px; right: 10px; }
      .t396__elem[data-elem-id="custom-img4"] { top: 220px; right: 10px; }
      .t396__elem[data-elem-id="custom-img5"] { top: 290px; right: 10px; }
      .t396__elem[data-elem-id="custom-img6"] { top: 10px; right: 80px; }
      .t396__elem[data-elem-id="custom-img7"] { top: 80px; right: 80px; }
      .t396__elem[data-elem-id="custom-img8"] { top: 150px; right: 80px; }
      .t396__elem[data-elem-id="custom-img9"] { top: 220px; right: 80px; }
      .t396__elem[data-elem-id="custom-img10"] { top: 290px; right: 80px; }
      .t396__elem[data-elem-id="custom-img11"] { top: 10px; right: 150px; }
      .t396__elem[data-elem-id="custom-img12"] { top: 80px; right: 150px; }
      .t396__elem[data-elem-id="custom-img13"] { top: 150px; right: 150px; }
      .t396__elem[data-elem-id="custom-text1"] { top: 250px; left: 50%; width: 100px; }
      .t396__elem[data-elem-id="custom-text2"] { top: 300px; left: 15%; width: 90px; }
      .t396__elem[data-elem-id="custom-button1"] { top: 350px; left: 35%; width: 120px; }
      .t396__elem[data-elem-type="text"] .tn-atom,
      .t396__elem[data-elem-type="button"] .tn-atom { font-size: 16px; }
      .t396__elem[data-elem-id="custom-upload"] { top: 20px; left: 20px; width: 120px; }
      .t396__elem[data-elem-id="custom-save"] { top: 90px; left: 20px; width: 120px; }
      .t396__elem[data-elem-id="custom-size-slider"] { top: 160px; left: 20px; width: 120px; }
      .t396__elem[data-elem-id="custom-rotate-slider"] { top: 250px; left: 20px; width: 120px; }
    }
    @media screen and (max-width: 479px) {
      .t396__artboard, .t396__carrier, .t396__filter { height: 350px; }
      .t396__elem[data-elem-id="custom-img1"] { top: 10px; right: 10px; }
      .t396__elem[data-elem-id="custom-img2"] { top: 70px; right: 10px; }
      .t396__elem[data-elem-id="custom-img3"] { top: 130px; right: 10px; }
      .t396__elem[data-elem-id="custom-img4"] { top: 190px; right: 10px; }
      .t396__elem[data-elem-id="custom-img5"] { top: 250px; right: 10px; }
      .t396__elem[data-elem-id="custom-img6"] { top: 10px; right: 70px; }
      .t396__elem[data-elem-id="custom-img7"] { top: 70px; right: 70px; }
      .t396__elem[data-elem-id="custom-img8"] { top: 130px; right: 70px; }
      .t396__elem[data-elem-id="custom-img9"] { top: 190px; right: 70px; }
      .t396__elem[data-elem-id="custom-img10"] { top: 250px; right: 70px; }
      .t396__elem[data-elem-id="custom-img11"] { top: 10px; right: 130px; }
      .t396__elem[data-elem-id="custom-img12"] { top: 70px; right: 130px; }
      .t396__elem[data-elem-id="custom-img13"] { top: 130px; right: 130px; }
      .t396__elem[data-elem-id="custom-text1"] { top: 220px; left: 50%; width: 80px; }
      .t396__elem[data-elem-id="custom-text2"] { top: 270px; left: 15%; width: 80px; }
      .t396__elem[data-elem-id="custom-button1"] { top: 320px; left: 35%; width: 100px; }
      .t396__elem[data-elem-type="text"] .tn-atom,
      .t396__elem[data-elem-type="button"] .tn-atom { font-size: 14px; }
      .t396__elem[data-elem-id="custom-upload"] { top: 20px; left: 20px; width: 100px; }
      .t396__elem[data-elem-id="custom-save"] { top: 90px; left: 20px; width: 100px; }
      .t396__elem[data-elem-id="custom-size-slider"] { top: 160px; left: 20px; width: 100px; }
      .t396__elem[data-elem-id="custom-rotate-slider"] { top: 250px; left: 20px; width: 100px; }
    }
  </style>
</head>
<body>
  <div class="main-content">
    <h1>REJEX YOUSELF!</h1>
    <p>Create and turn yourself into an emo, alien rejex!</p>
    <div class="artboard-container">
      <div class="t396">
        <div class="t396__artboard" data-artboard-recid="custom" data-artboard-screens="320,480,640,960,1200,1440" data-artboard-height="600" data-artboard-valign="center" data-artboard-upscale="window" data-artboard-ovrflw="hidden" data-artboard-height-res-320="350" data-artboard-height-res-480="400" data-artboard-height-res-640="450" data-artboard-height-res-960="500" data-artboard-height-res-1200="550">
          <div class="t396__carrier"></div>
          <div class="t396__filter"></div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img1" data-elem-type="image" data-field-top-value="10" data-field-left-value="95%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="10" data-field-left-res-320-value="95%" data-field-top-res-480-value="10" data-field-left-res-480-value="95%" data-field-top-res-640-value="10" data-field-left-res-640-value="95%" data-field-top-res-960-value="10" data-field-left-res-960-value="95%" data-field-top-res-1200-value="10" data-field-left-res-1200-value="95%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="images/Rejex_Me/Emo_Hair_Element.png" alt="Emo Hair" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img2" data-elem-type="image" data-field-top-value="100" data-field-left-value="95%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="70" data-field-left-res-320-value="95%" data-field-top-res-480-value="80" data-field-left-res-480-value="95%" data-field-top-res-640-value="90" data-field-left-res-640-value="95%" data-field-top-res-960-value="90" data-field-left-res-960-value="95%" data-field-top-res-1200-value="90" data-field-left-res-1200-value="95%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="images/Rejex_Me/Emo_Beanie_Element.png" alt="Emo Beanie" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img3" data-elem-type="image" data-field-top-value="190" data-field-left-value="95%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="130" data-field-left-res-320-value="95%" data-field-top-res-480-value="150" data-field-left-res-480-value="95%" data-field-top-res-640-value="170" data-field-left-res-640-value="95%" data-field-top-res-960-value="170" data-field-left-res-960-value="95%" data-field-top-res-1200-value="170" data-field-left-res-1200-value="95%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="images/Rejex_Me/Alien_Eyes.png" alt="Alien Eyes" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img4" data-elem-type="image" data-field-top-value="280" data-field-left-value="95%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="190" data-field-left-res-320-value="95%" data-field-top-res-480-value="220" data-field-left-res-480-value="95%" data-field-top-res-640-value="250" data-field-left-res-640-value="95%" data-field-top-res-960-value="250" data-field-left-res-960-value="95%" data-field-top-res-1200-value="250" data-field-left-res-1200-value="95%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="images/Rejex_Me/Alien_Eyes_Blue.png" alt="Blue Alien Eyes" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img5" data-elem-type="image" data-field-top-value="370" data-field-left-value="95%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="250" data-field-left-res-320-value="95%" data-field-top-res-480-value="290" data-field-left-res-480-value="95%" data-field-top-res-640-value="330" data-field-left-res-640-value="95%" data-field-top-res-960-value="330" data-field-left-res-960-value="95%" data-field-top-res-1200-value="330" data-field-left-res-1200-value="95%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img5" alt="Custom Image 5" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img6" data-elem-type="image" data-field-top-value="460" data-field-left-value="95%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="10" data-field-left-res-320-value="70%" data-field-top-res-480-value="10" data-field-left-res-480-value="80%" data-field-top-res-640-value="10" data-field-left-res-640-value="80%" data-field-top-res-960-value="410" data-field-left-res-960-value="95%" data-field-top-res-1200-value="410" data-field-left-res-1200-value="95%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img6" alt="Custom Image 6" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img7" data-elem-type="image" data-field-top-value="10" data-field-left-value="90%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="10" data-field-left-res-320-value="70%" data-field-top-res-480-value="80" data-field-left-res-480-value="80%" data-field-top-res-640-value="90" data-field-left-res-640-value="80%" data-field-top-res-960-value="90" data-field-left-res-960-value="90%" data-field-top-res-1200-value="90" data-field-left-res-1200-value="90%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img7" alt="Custom Image 7" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img8" data-elem-type="image" data-field-top-value="100" data-field-left-value="90%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="70" data-field-left-res-320-value="70%" data-field-top-res-480-value="150" data-field-left-res-480-value="80%" data-field-top-res-640-value="170" data-field-left-res-640-value="80%" data-field-top-res-960-value="170" data-field-left-res-960-value="90%" data-field-top-res-1200-value="170" data-field-left-res-1200-value="90%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img8" alt="Custom Image 8" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img9" data-elem-type="image" data-field-top-value="190" data-field-left-value="90%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="130" data-field-left-res-320-value="70%" data-field-top-res-480-value="220" data-field-left-res-480-value="80%" data-field-top-res-640-value="250" data-field-left-res-640-value="80%" data-field-top-res-960-value="250" data-field-left-res-960-value="90%" data-field-top-res-1200-value="250" data-field-left-res-1200-value="90%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img9" alt="Custom Image 9" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img10" data-elem-type="image" data-field-top-value="280" data-field-left-value="90%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="190" data-field-left-res-320-value="70%" data-field-top-res-480-value="290" data-field-left-res-480-value="80%" data-field-top-res-640-value="330" data-field-left-res-640-value="80%" data-field-top-res-960-value="330" data-field-left-res-960-value="90%" data-field-top-res-1200-value="330" data-field-left-res-1200-value="90%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img10" alt="Custom Image 10" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img11" data-elem-type="image" data-field-top-value="370" data-field-left-value="90%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="10" data-field-left-res-320-value="40%" data-field-top-res-480-value="10" data-field-left-res-480-value="50%" data-field-top-res-640-value="10" data-field-left-res-640-value="50%" data-field-top-res-960-value="410" data-field-left-res-960-value="90%" data-field-top-res-1200-value="410" data-field-left-res-1200-value="90%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img11" alt="Custom Image 11" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img12" data-elem-type="image" data-field-top-value="460" data-field-left-value="90%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="70" data-field-left-res-320-value="40%" data-field-top-res-480-value="80" data-field-left-res-480-value="50%" data-field-top-res-640-value="90" data-field-left-res-640-value="50%" data-field-top-res-960-value="90" data-field-left-res-960-value="90%" data-field-top-res-1200-value="90" data-field-left-res-1200-value="90%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img12" alt="Custom Image 12" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-img13" data-elem-type="image" data-field-top-value="550" data-field-left-value="90%" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-top-res-320-value="130" data-field-left-res-320-value="40%" data-field-top-res-480-value="150" data-field-left-res-480-value="50%" data-field-top-res-640-value="170" data-field-left-res-640-value="50%" data-field-top-res-960-value="170" data-field-left-res-960-value="90%" data-field-top-res-1200-value="170" data-field-left-res-1200-value="90%">
            <div class="tn-atom">
              <img class="tn-atom__img t-img" src="https://via.placeholder.com/80?text=Img13" alt="Custom Image 13" />
            </div>
          </div>
          <div class="t396__elem tn-elem" data-elem-id="custom-uploaded-img" data-elem-type="image" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid">
            <div class="tn-atom">
              <img class="tn-atom__img t-img uploaded-image" src="" alt="Uploaded Image" />
            </div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-text1" data-elem-type="text" data-field-top-value="400" data-field-left-value="50%" data-field-width-value="180" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-widthunits-value="px" data-field-top-res-320-value="220" data-field-left-res-320-value="50%" data-field-width-res-320-value="80" data-field-top-res-480-value="250" data-field-left-res-480-value="50%" data-field-width-res-480-value="100" data-field-top-res-640-value="280" data-field-left-res-640-value="50%" data-field-width-res-640-value="120" data-field-top-res-960-value="300" data-field-left-res-960-value="50%" data-field-width-res-960-value="140" data-field-top-res-1200-value="350" data-field-left-res-1200-value="50%" data-field-width-res-1200-value="160">
            <div class="tn-atom">Try it with your photo!</div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-text2" data-elem-type="text" data-field-top-value="450" data-field-left-value="15%" data-field-width-value="160" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-widthunits-value="px" data-field-top-res-320-value="270" data-field-left-res-320-value="15%" data-field-width-res-320-value="80" data-field-top-res-480-value="300" data-field-left-res-480-value="15%" data-field-width-res-480-value="90" data-field-top-res-640-value="330" data-field-left-res-640-value="15%" data-field-width-res-640-value="100" data-field-top-res-960-value="350" data-field-left-res-960-value="15%" data-field-width-res-960-value="120" data-field-top-res-1200-value="400" data-field-left-res-1200-value="15%" data-field-width-res-1200-value="140">
            <div class="tn-atom">Drag me around!</div>
          </div>
          <div class="t396__elem tn-elem drag" data-elem-id="custom-button1" data-elem-type="button" data-field-top-value="500" data-field-left-value="35%" data-field-width-value="200" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="%" data-field-widthunits-value="px" data-field-top-res-320-value="320" data-field-left-res-320-value="35%" data-field-width-res-320-value="100" data-field-top-res-480-value="350" data-field-left-res-480-value="35%" data-field-width-res-480-value="120" data-field-top-res-640-value="380" data-field-left-res-640-value="35%" data-field-width-res-640-value="140" data-field-top-res-960-value="400" data-field-left-res-960-value="35%" data-field-width-res-960-value="160" data-field-top-res-1200-value="450" data-field-left-res-1200-value="35%" data-field-width-res-1200-value="180">
            <a class="tn-atom" href="#try-now">Try Now!</a>
          </div>
          <div class="t396__elem tn-elem" data-elem-id="custom-upload" data-elem-type="upload" data-field-top-value="20" data-field-left-value="20" data-field-width-value="160" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="px" data-field-widthunits-value="px" data-field-top-res-320-value="20" data-field-left-res-320-value="20" data-field-width-res-320-value="100" data-field-top-res-480-value="20" data-field-left-res-480-value="20" data-field-width-res-480-value="120" data-field-top-res-640-value="20" data-field-left-res-640-value="20" data-field-width-res-640-value="140" data-field-top-res-960-value="20" data-field-left-res-960-value="20" data-field-width-res-960-value="140" data-field-top-res-1200-value="20" data-field-left-res-1200-value="20" data-field-width-res-1200-value="160">
            <input type="file" id="photo-upload" accept="image/*">
          </div>
          <div class="t396__elem tn-elem" data-elem-id="custom-save" data-elem-type="button" data-field-top-value="90" data-field-left-value="20" data-field-width-value="160" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="px" data-field-widthunits-value="px" data-field-top-res-320-value="90" data-field-left-res-320-value="20" data-field-width-res-320-value="100" data-field-top-res-480-value="90" data-field-left-res-480-value="20" data-field-width-res-480-value="120" data-field-top-res-640-value="90" data-field-left-res-640-value="20" data-field-width-res-640-value="140" data-field-top-res-960-value="90" data-field-left-res-960-value="20" data-field-width-res-960-value="140" data-field-top-res-1200-value="90" data-field-left-res-1200-value="20" data-field-width-res-1200-value="160">
            <button class="tn-atom save-button">Save Photo</button>
          </div>
          <div class="t396__elem tn-elem" data-elem-id="custom-size-slider" data-elem-type="slider" data-field-top-value="160" data-field-left-value="20" data-field-width-value="160" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="px" data-field-widthunits-value="px" data-field-top-res-320-value="160" data-field-left-res-320-value="20" data-field-width-res-320-value="100" data-field-top-res-480-value="160" data-field-left-res-480-value="20" data-field-width-res-480-value="120" data-field-top-res-640-value="160" data-field-left-res-640-value="20" data-field-width-res-640-value="140" data-field-top-res-960-value="160" data-field-left-res-960-value="20" data-field-width-res-960-value="140" data-field-top-res-1200-value="160" data-field-left-res-1200-value="20" data-field-width-res-1200-value="160">
            <div id="size-slider"></div>
            <span class="slider-label">Size</span>
          </div>
          <div class="t396__elem tn-elem" data-elem-id="custom-rotate-slider" data-elem-type="slider" data-field-top-value="250" data-field-left-value="20" data-field-width-value="160" data-field-axisy-value="top" data-field-axisx-value="left" data-field-container-value="grid" data-field-topunits-value="px" data-field-leftunits-value="px" data-field-widthunits-value="px" data-field-top-res-320-value="250" data-field-left-res-320-value="20" data-field-width-res-320-value="100" data-field-top-res-480-value="250" data-field-left-res-480-value="20" data-field-width-res-480-value="120" data-field-top-res-640-value="250" data-field-left-res-640-value="20" data-field-width-res-640-value="140" data-field-top-res-960-value="250" data-field-left-res-960-value="20" data-field-width-res-960-value="140" data-field-top-res-1200-value="250" data-field-left-res-1200-value="20" data-field-width-res-1200-value="160">
            <div id="rotate-slider"></div>
            <span class="slider-label">Rotate</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    $(document).ready(function() {
      let zIndex = 10;
      let lastSelectedImage = null;

      $('.drag').draggable({
        cursor: "grabbing",
        containment: ".t396__artboard",
        start: function() {
          $(this).css("z-index", zIndex++);
          if ($(this).data('elem-type') === 'image' && $(this).data('elem-id').startsWith('custom-img')) {
            lastSelectedImage = $(this).data('elem-id');
          }
        }
      });

      $('.t396__elem[data-elem-type="image"]').not('[data-elem-id="custom-uploaded-img"]').on('click', function() {
        $(this).css("z-index", zIndex++);
        if ($(this).data('elem-id').startsWith('custom-img')) {
          lastSelectedImage = $(this).data('elem-id');
        }
      });

      function adjustImageSize(elemId, imgSrc, isUploaded = false, scaleFactor = 1, rotation = 0) {
        const container = $(`.t396__elem[data-elem-id="${elemId}"]`);
        const img = container.find('.tn-atom__img');
        const artboard = $('.t396__artboard');
        
        let artboardHeight, artboardWidth;
        const screenWidth = $(window).width();
        if (screenWidth <= 320) {
          artboardHeight = 350;
          artboardWidth = 320;
        } else if (screenWidth <= 479) {
          artboardHeight = 400;
          artboardWidth = 479;
        } else if (screenWidth <= 639) {
          artboardHeight = 450;
          artboardWidth = 639;
        } else if (screenWidth <= 959) {
          artboardHeight = 500;
          artboardWidth = 959;
        } else if (screenWidth <= 1199) {
          artboardHeight = 550;
          artboardWidth = 1199;
        } else {
          artboardHeight = 600;
          artboardWidth = artboard.width();
        }

        const tempImg = new Image();
        tempImg.src = imgSrc;
        tempImg.onload = function() {
          const imgWidth = tempImg.naturalWidth;
          const imgHeight = tempImg.naturalHeight;
          const baseScale = Math.min(artboardWidth / imgWidth, artboardHeight / imgHeight, 1);
          const newWidth = imgWidth * baseScale * scaleFactor;
          const newHeight = imgHeight * baseScale * scaleFactor;

          img.css({
            'width': newWidth + 'px',
            'height': newHeight + 'px',
            'max-width': 'none',
            'max-height': 'none',
            'transform': `rotate(${rotation}deg)`
          });
          container.css({
            'width': newWidth + 'px',
            'height': newHeight + 'px',
            'transform-origin': 'center center'
          });
        };
      }

      for (let i = 1; i <= 13; i++) {
        const imgSrc = $(`.t396__elem[data-elem-id="custom-img${i}"] .tn-atom__img`).attr('src');
        adjustImageSize(`custom-img${i}`, imgSrc, false, 0.5);
      }

      function readFile(file) {
        let reader = new FileReader();
        reader.readAsDataURL(file);
        return new Promise((resolve, reject) => {
          reader.onload = function() { resolve(reader.result); };
          reader.onerror = function() { reject(reader.error); };
        });
      }

      $('#photo-upload').on('change', function(event) {
        const file = event.target.files[0];
        if (file) {
          readFile(file).then(result => {
            const uploadedImg = $('.t396__elem[data-elem-id="custom-uploaded-img"] .tn-atom__img');
            uploadedImg.attr('src', result);
            adjustImageSize('custom-uploaded-img', result, true, 0.5);
            $('.t396__elem[data-elem-id="custom-uploaded-img"]').show();
          }).catch(error => {
            console.error('Error reading file:', error);
          });
        }
      });

      $('#size-slider').slider({
        min: 0.2,
        max: 2,
        step: 0.1,
        value: 0.5,
        slide: function(event, ui) {
          if (lastSelectedImage && lastSelectedImage.startsWith('custom-img')) {
            const imgSrc = $(`.t396__elem[data-elem-id="${lastSelectedImage}"] .tn-atom__img`).attr('src');
            const rotation = $('#rotate-slider').slider('value') || 0;
            if (imgSrc) {
              adjustImageSize(lastSelectedImage, imgSrc, false, ui.value, rotation);
            }
          }
        }
      });

      $('#rotate-slider').slider({
        min: -180,
        max: 180,
        step: 1,
        value: 0,
        slide: function(event, ui) {
          if (lastSelectedImage && lastSelectedImage.startsWith('custom-img')) {
            const imgSrc = $(`.t396__elem[data-elem-id="${lastSelectedImage}"] .tn-atom__img`).attr('src');
            const scale = $('#size-slider').slider('value') || 0.5;
            if (imgSrc) {
              adjustImageSize(lastSelectedImage, imgSrc, false, scale, ui.value);
            }
          }
        }
      });

      $('.save-button').on('click', async function() {
        const artboard = $('.t396__artboard')[0];
        const artboardRect = artboard.getBoundingClientRect();

        try {
          const canvas = await html2canvas(artboard, {
            useCORS: true,
            allowTaint: true,
            backgroundColor: null,
            scale: 2,
            width: artboardRect.width,
            height: artboardRect.height,
            windowWidth: artboardRect.width,
            windowHeight: artboardRect.height
          });

          const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));

          if (window.showSaveFilePicker) {
            const handle = await window.showSaveFilePicker({
              suggestedName: 'rejex-artboard.png',
              types: [{
                description: 'PNG Image',
                accept: { 'image/png': ['.png'] }
              }]
            });
            const writable = await handle.createWritable();
            await writable.write(blob);
            await writable.close();
          } else {
            const link = document.createElement('a');
            link.download = 'rejex-artboard.png';
            link.href = URL.createObjectURL(blob);
            link.click();
            URL.revokeObjectURL(link.href);
          }
        } catch (error) {
          console.error('Error capturing screenshot:', error);
          alert('Failed to save image. Please try again.');
        }
      });

      $('.t396__elem[data-elem-id="custom-uploaded-img"]').hide();
    });
  </script>
</body>
</html>
